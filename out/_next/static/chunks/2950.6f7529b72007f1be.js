"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2950],{99622:function(e,l,s){var t=s(85893),i=s(87076),a=s(96606),o=s(86250),r=s(30303),n=s(12515),d=s(8313),c=s(96041),u=s(41664),m=s.n(u),x=s(11163),p=s(50788);l.Z=e=>{let{ownerData:l,showChat:s=!0,interested:u=!1,isReported:v=!1,handleInterested:h,handleNotInterested:f,isMessagingSupported:j=!0,notificationPermissionGranted:g=!0,handleChat:b,userCurrentId:w,handleReportProperty:y,placeholderImage:N,handleCheckPremiumUserAgent:_,isProject:C=!1,isAgent:k=!1,setShowAppointmentModal:S}=e,B=(0,d.m)(),Z=(0,x.useRouter)(),{locale:P}=null==Z?void 0:Z.query,{profile:T,customer_name:I,is_verified:E,email:D,mobile:L,client_address:A,added_by:O,facebook_id:q,instagram_id:z,twitter_id:M,youtube_id:U,customer_total_properties:W=0,customer_total_projects:R=0,customer_slug_id:F,is_admin_listing:G=0,is_appointment_available:J=!1}=l||{};if(C){var K,Q,X,H,V,Y,$,ee;I=null==l?void 0:null===(K=l.customer)||void 0===K?void 0:K.name,T=null==l?void 0:null===(Q=l.customer)||void 0===Q?void 0:Q.profile,D=null==l?void 0:null===(X=l.customer)||void 0===X?void 0:X.email,L=null==l?void 0:null===(H=l.customer)||void 0===H?void 0:H.mobile,A=null==l?void 0:null===(V=l.customer)||void 0===V?void 0:V.address,O=null==l?void 0:l.added_by,F=null==l?void 0:null===(Y=l.customer)||void 0===Y?void 0:Y.slug_id,R=null==l?void 0:null===($=l.customer)||void 0===$?void 0:$.projects_count,W=null==l?void 0:null===(ee=l.customer)||void 0===ee?void 0:ee.property_count}return k&&(I=null==l?void 0:l.name,T=null==l?void 0:l.profile,D=null==l?void 0:l.email,L=(null==l?void 0:l.mobile)&&(null==l?void 0:l.mobile)!=="null"?null==l?void 0:l.mobile:null,A=null==l?void 0:l.address,O=null==l?void 0:l.added_by,E=null==l?void 0:l.is_verify,null==l||l.facebook_id,null==l||l.instagram_id,null==l||l.twitter_id,null==l||l.youtube_id),(0,t.jsxs)("div",{className:"cardBg newBorder mb-7 overflow-hidden rounded-2xl",children:[(0,t.jsx)("div",{className:"primaryBg relative p-6 h-16",children:E&&(0,t.jsx)("div",{className:"absolute ltr:right-3 top-4 rtl:left-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-1 rounded-md bg-white px-2 py-1 [&>svg>path]:fill-[#0186D8]",children:[(0,t.jsx)(i.QL,{}),(0,t.jsx)("span",{className:"leadColor text-sm font-medium",children:B("verified")})]})})}),(0,t.jsxs)("div",{className:"relative -mt-10 p-2 md:p-3   md:-mt-8 lg:-mt-8 lg:p-5",children:[(0,t.jsxs)("div",{className:"mb-3 flex flex-wrap items-center gap-2 md:gap-4 md:mb-6 xl:flex-row xl:flex-nowrap w-full border-b newBorderColor pb-4",children:[(0,t.jsx)("div",{className:"h-[90px] w-[90px] flex-shrink-0 overflow-hidden rounded-full border-4 border-white bg-white shadow-lg md:h-[100px] md:w-[100px] xl:h-[120px] xl:w-[120px]",children:(0,t.jsx)(c.Z,{src:T||N,className:"h-full w-full object-cover",alt:"PropertyOwner"})}),(0,t.jsxs)("div",{className:"flex flex-col flex-grow justify-center md:justify-normal gap-2 sm:gap-6 w-full",children:[(0,t.jsx)("div",{className:"self-center md:self-end"}),(0,t.jsxs)("div",{className:"flex justify-between md:flex-row  w-full",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("h3",{className:"blackTextColor flex w-full flex-grow cursor-pointer justify-between text-xl font-bold",children:I}),D&&(0,t.jsxs)(m(),{href:"mailto:".concat(D),className:"leadColor flex items-center flex-shrink-0 text-sm",children:[(0,t.jsx)(p.ixJ,{className:"mr-1 flex-shrink-0"}),(0,t.jsx)("span",{className:"break-all text-sm",children:D})]})]}),s&&w!==O&&(0,t.jsx)("button",{type:"button",onClick:b,className:"brandBg primaryTextColor flex h-7 w-7 items-center justify-center rounded-lg md:h-8 md:w-8 shrink-0",children:(0,t.jsx)(a.kK8,{className:"text-white"})})]})]})]}),A&&(0,t.jsxs)("div",{className:"mb-2 flex items-center gap-2 border-b pb-3 ".concat(L&&"null"!==L?"border-b-0 pb-0":""),children:[(0,t.jsx)("div",{className:"primaryBgLight flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg",children:(0,t.jsx)(o.kXE,{className:"primaryColor h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"blackTextColor text-sm font-semibold",children:B("address")}),(0,t.jsx)("p",{className:"leadColor text-sm",children:A})]})]}),L&&"null"!==L&&(0,t.jsxs)("div",{className:"mb-2 flex items-center gap-2 border-b pb-3 newBorderColor ".concat(A&&"null"!==A?"border-b-0 pb-0":""),children:[(0,t.jsx)("div",{className:"primaryBgLight flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg",children:(0,t.jsx)(a.kq7,{className:"primaryColor h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"blackTextColor text-sm font-semibold",children:B("call")}),(0,t.jsx)(m(),{href:"tel:".concat(L),className:"leadColor text-sm",children:L})]})]}),(W>0||R>0)&&(0,t.jsxs)("div",{className:"w-full primaryBackgroundBg justify-self-center mb-6 flex flex-wrap sm:w-full items-center justify-center xl:gap-2 xl:w-full rounded-lg ",children:[(0,t.jsx)("div",{className:"text-center px-2 py-2 md:py-4",children:(0,t.jsxs)("div",{className:"leadColor text-base text-nowrap",children:[B("properties")," :"," ",(0,t.jsx)("span",{className:"blackTextColor font-semibold",children:W})]})}),(0,t.jsx)("div",{className:"w-full h-[0.5px] sm:h-6 sm:w-2 border-b sm:border-l-2 sm:border-b-0 newBorderColor"}),(0,t.jsx)("div",{className:"text-center px-2 py-2 md:py-4",children:(0,t.jsxs)("div",{className:"leadColor text-base text-nowrap",children:[B("projects")," :"," ",(0,t.jsx)("span",{className:"blackTextColor font-semibold",children:R})]})})]}),w!==O&&(0,t.jsxs)("div",{className:"flex justify-center gap-3",children:[C?null:u?(0,t.jsxs)("button",{className:"blackBgColor w-full flex lg:flex-1 items-center justify-center gap-2 rounded-lg px-2 py-2 text-sm font-medium text-white xl:px-3 xl:py-2",onClick:f,children:[(0,t.jsx)(r.rdj,{size:20}),B("interested")]}):(0,t.jsxs)("button",{className:"blackBgColor w-full flex lg:flex-1 items-center justify-center gap-2 rounded-lg px-2 py-2 text-sm font-medium text-white xl:px-3 xl:py-2",onClick:h,children:[(0,t.jsx)(a.UZT,{size:20}),B("interest")]}),(0,t.jsxs)("button",{className:"blackTextColor w-full flex lg:flex-1 items-center justify-center gap-2 rounded-lg border border-gray-300 px-2 py-2 text-sm font-medium",onClick:e=>Z.push("/".concat(P,"/agent-details/").concat(F,"/").concat(C&&1===G||0===O?"?is_admin=true":"")),children:[B("viewListing"),(0,t.jsx)(n.Rgz,{size:16,className:"rtl:rotate-180"})]})]}),w&&w!==O&&J&&(0,t.jsx)("button",{className:"py-2 px-3 rounded-lg primaryBg text-white w-full mt-4 font-medium text-lg text-center","aria-label":B("scheduleAnAppointment"),onClick:()=>S(!0),children:B("scheduleAnAppointment")})]})]})}},42950:function(e,l,s){s.r(l),s.d(l,{default:function(){return I}});var t=s(85893),i=s(67294),a=s(11163),o=s(67296),r=s(41184),n=s(23279),d=s(8313),c=s(86501),u=s(99622),m=s(7493),x=s(28278),p=s(40268),v=s(74629),h=s(45007),f=s(89782),j=s(86411),g=s(54772),b=s(84032),w=s(66551),y=s(42512),N=s(75365),_=s(87076),C=s(59795),k=s(14003),S=s(63446),B=s(86455),Z=s.n(B),P=()=>{var e,l,s,B,P,T;let I=(0,a.useRouter)(),{slug:E,locale:D}=I.query,L=(0,d.m)(),A=(0,h.v9)(e=>{var l;return null===(l=e.LanguageSettings)||void 0===l?void 0:l.active_language}),[O,q]=(0,i.useState)(null),[z,M]=(0,i.useState)(!0),[U,W]=(0,i.useState)(null),[R,F]=(0,i.useState)([]),[G,J]=(0,i.useState)(!1),[K,Q]=(0,i.useState)(!1),[X,H]=(0,i.useState)(!1),[V,Y]=(0,i.useState)(!1),[$,ee]=(0,i.useState)(!1),[el,es]=(0,i.useState)(!1),[et,ei]=(0,i.useState)(!1),[ea,eo]=(0,i.useState)(!1),[er,en]=(0,i.useState)(null),[ed,ec]=(0,i.useState)(!1),[eu,em]=(0,i.useState)(!1),[ex,ep]=(0,i.useState)(!1),[ev,eh]=(0,i.useState)(0),[ef,ej]=(0,i.useState)(!1),[eg,eb]=(0,i.useState)(!1),[ew,ey]=(0,i.useState)(0),eN="".concat("https://nyumbanii.capitalmotorsandtours.com","/").concat(D,"/project-details/").concat(E,"?share=true"),e_=(0,k.d)(),eC=(null==I?void 0:null===(e=I.query)||void 0===e?void 0:e.share)==="true",ek=(0,h.v9)(e=>{var l;return null===(l=e.WebSetting)||void 0===l?void 0:l.data}),eS=null==ek?void 0:ek.distance_option,eB=null==ek?void 0:ek.web_placeholder_logo,eZ=(0,h.v9)(e=>{var l,s;return null===(s=e.User)||void 0===s?void 0:null===(l=s.data)||void 0===l?void 0:l.id}),eP=null==ek?void 0:null===(l=ek.features_available)||void 0===l?void 0:l.project_access;(0,i.useEffect)(()=>{E&&eT()},[E,A]);let eT=async()=>{M(!0);try{let e=await (0,o.TE)({slug_id:E,get_similar:"1"});e&&!e.error?(q(e.data),e.similar_projects&&e.similar_projects.length>0&&F(e.similar_projects)):(W((null==e?void 0:e.message)||L("failedToFetchProjectDetails")),c.ZP.error(L(null==e?void 0:e.message)||L("failedToFetchProjectDetails")))}catch(e){console.error("Error fetching project details:",e),W((null==e?void 0:e.message)||L("somethingWentWrong")),c.ZP.error(L(null==e?void 0:e.message)||L("somethingWentWrong"))}finally{M(!1)}};(0,i.useEffect)(()=>{O&&(null==O?void 0:O.three_d_image)&&en(null==O?void 0:O.three_d_image)},[O]),(0,i.useEffect)(()=>{er&&setTimeout(()=>{document.getElementById("panorama")?pannellum.viewer("panorama",{type:"equirectangular",panorama:er,autoLoad:!0}):console.error("Panorama element not found")},3e3)},[er]);let eI=O&&O.video_link,eE=eI?eI.includes("youtu.be")?eI.split("/").pop().split("?")[0]:null!==(T=null===(s=eI.split("v=")[1])||void 0===s?void 0:s.split("&")[0])&&void 0!==T?T:null:null,eD=eE?"https://img.youtube.com/vi/".concat(eE,"/sddefault.jpg"):eB,eL=null==O?void 0:O.gallary_images,eA=[{label:L("address"),value:null==O?void 0:O.location},{label:L("country"),value:null==O?void 0:O.country},{label:L("city"),value:null==O?void 0:O.city},{label:L("zipCode"),value:null==O?void 0:O.zip_code},{label:L("state"),value:null==O?void 0:O.state}],eO=()=>{eP||Z().fire({title:L("oops"),text:L("projectAccessLimitOrPackageNotAvailable"),icon:"warning",allowOutsideClick:!1,showCancelButton:!1,customClass:{confirmButton:"Swal-confirm-buttons",cancelButton:"Swal-cancel-buttons"}}).then(e=>{e.isConfirmed&&I.push("/".concat(D,"/subscription-plan"))})};return((0,i.useEffect)(()=>{E&&eO()},[E,eZ]),z)?(0,t.jsx)(r.Z,{}):U||!O?(0,t.jsxs)("div",{children:[(0,t.jsx)(g.Z,{items:[{label:null==O?void 0:O.title,href:"/project-details/".concat(E)}]}),(0,t.jsx)("div",{className:"container mx-auto px-2 py-10",children:(0,t.jsx)(n.Z,{})})]}):(0,t.jsxs)("section",{children:[(0,t.jsx)("div",{className:"primaryBackgroundBg",children:(0,t.jsxs)("div",{className:"container mx-auto px-3 pb-8",children:[(0,t.jsx)(g.Z,{items:[{label:L("projectDetails"),href:"/project-details/".concat(E),disable:!0},{label:(0,_.fm)(null==O?void 0:O.title),href:"/project-details/".concat(E)}],setIsShareModalOpen:ej,layout:"reverse"}),O&&(0,t.jsx)(w.Z,{projectDetails:O}),(0,t.jsx)("div",{className:"grid grid-cols-12 items-center justify-center gap-3",children:(0,t.jsx)("div",{className:"col-span-12",children:eL&&(0,t.jsx)(y.Z,{galleryPhotos:eL,titleImage:null==O?void 0:O.image,PlaceholderImage:eB,isProject:!0,onImageClick:e=>{ey(e),eb(!0)}})})})]})}),(0,t.jsx)("div",{className:"bg-white",children:(0,t.jsx)("div",{className:"container mx-auto px-3 pt-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-3",children:[(0,t.jsxs)("div",{className:"col-span-12 h-full w-full rounded-2xl lg:col-span-9",children:[O&&((null==O?void 0:O.translated_description)||(null==O?void 0:O.description))&&(0,t.jsx)(v.Z,{description:(null==O?void 0:O.translated_description)||(null==O?void 0:O.description),isProject:!0}),(0,t.jsx)(p.Z,{data:O,DistanceSymbol:eS}),O&&(null==O?void 0:O.latitude)&&(null==O?void 0:O.longitude)&&(0,t.jsx)(x.Z,{latitude:null==O?void 0:O.latitude,longitude:null==O?void 0:O.longitude,handleShowMap:e=>{e.preventDefault(),Q(!0)},handleOpenGoogleMap:()=>{I.push("https://www.google.com/maps?q=".concat(null==O?void 0:O.latitude,",").concat(null==O?void 0:O.longitude))},showMap:K,details:eA,isProject:!0}),er?(0,t.jsxs)("div",{className:"cardBg newBorder mb-5 flex flex-col rounded-2xl",children:[(0,t.jsx)("div",{className:"blackTextColor border-b p-5 text-base font-bold md:text-xl",children:L("virtualTour")}),(0,t.jsx)("div",{className:"flex h-[500px] justify-center rounded p-5",children:(0,t.jsx)("div",{id:"panorama"})})]}):null,O&&(null==O?void 0:O.video_link)&&(0,t.jsx)(m.Z,{bgImageUrl:eD,videoLink:null==O?void 0:O.video_link}),O&&(null==O?void 0:O.plans)&&(0,t.jsx)(f.Z,{plans:null==O?void 0:O.plans}),O&&(null==O?void 0:O.documents)&&O.documents.length>0&&(0,t.jsx)(j.Z,{files:O.documents,projectCategory:(null===(B=O.category)||void 0===B?void 0:B.translated_name)||(null===(P=O.category)||void 0===P?void 0:P.category)})]}),(0,t.jsx)("div",{className:"col-span-12 h-full w-full lg:col-span-3",children:O&&(0,t.jsx)(u.Z,{ownerData:O,showChat:G,userCurrentId:eZ,interested:$,isReported:el,isMessagingSupported:!0,notificationPermissionGranted:!0,placeholderImage:eB,handleCheckPremiumUserAgent:e=>{var l;e.preventDefault(),I.push("/".concat(D,"/agent-details/").concat(null==O?void 0:null===(l=O.customer)||void 0===l?void 0:l.slug_id))},isProject:!0})})]})})}),(0,t.jsx)("div",{className:"primaryBackgroundBg",children:(0,t.jsx)("div",{className:"container mx-auto px-3 py-8",children:R&&R.length>0&&(0,t.jsx)(N.default,{data:R,type:"similar_projects_section",title:L("similarProjects"),name:"similarProjects"})})}),ef&&(0,t.jsx)(b.Z,{title:L("shareProjectTitle"),subtitle:L("shareProjectSubtitle"),open:ef,onOpenChange:()=>ej(!1),pageUrl:eN,slug:E}),(0,t.jsx)(C.Z,{photos:eL||[],viewerIsOpen:eg,currentImage:ew,onClose:()=>eb(!1),title_image:null==O?void 0:O.image,setCurrentImage:ey,isProject:!0}),e_&&eC&&(0,t.jsx)(S.Z,{isShare:!0})]})},T=s(90456),I=()=>(0,t.jsx)(T.Z,{children:(0,t.jsx)(P,{})})}}]);