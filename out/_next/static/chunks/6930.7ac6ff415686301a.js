"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6930],{14573:function(e,t){t.Z={src:"/_next/static/media/logo.ec83ae15.png",height:70,width:220,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAYAAACuyE5IAAAASUlEQVR42mNgr67OBOLLQCwExAxsNTWMQMwAZIMxiFgDxIeAuByIHYC4EIh9gDgBiH0YgMQSID4GxAVALADE6kAsD8Ra7NXVCgD5Px8SFpDR+QAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3}},14773:function(e,t){t.Z={src:"/_next/static/media/premium.3dabf2ae.svg",height:24,width:24,blurWidth:0,blurHeight:0}},63616:function(e,t,a){a.d(t,{i:function(){return s},k:function(){return l}});var r=a(85893);let s=()=>(0,r.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M8 0.5C3.8645 0.5 0.5 3.8645 0.5 8C0.5 12.1355 3.8645 15.5 8 15.5C12.1355 15.5 15.5 12.1355 15.5 8C15.5 3.8645 12.1355 0.5 8 0.5ZM7.25 12.5V8.75H4.25L8.75 3.5V7.25H11.75L7.25 12.5Z",fill:"white"})}),l=()=>(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M17.8205 10.4844L16.9222 15.7495C16.8723 16.0489 16.6103 16.2735 16.3108 16.2735H7.72692C7.42748 16.2735 7.16547 16.0489 7.11556 15.7495L6.21725 10.4844C6.17982 10.2598 6.26715 10.0227 6.4543 9.88548C6.64145 9.74824 6.89098 9.72328 7.10309 9.8231L9.51107 10.9959L11.4824 7.44006C11.707 7.04081 12.3557 7.04081 12.5678 7.44006L14.5391 10.9959L16.9471 9.8231C17.1592 9.72328 17.4088 9.74824 17.5959 9.88548C17.7831 10.0227 17.8704 10.2598 17.833 10.4844H17.8205Z",fill:"white"}),(0,r.jsx)("path",{d:"M21.3863 14.0433L20.6689 12.4707C20.5329 12.1735 20.5329 11.8267 20.6689 11.5296L21.3863 9.95703C21.6582 9.37505 21.6706 8.69402 21.4233 8.09965C21.176 7.50529 20.6937 7.03475 20.0877 6.81187L18.4677 6.20513C18.1586 6.09368 17.9236 5.84603 17.7999 5.53647L17.194 3.91436C16.9713 3.30761 16.5014 2.82469 15.8954 2.57704C15.3019 2.32939 14.6217 2.34177 14.0405 2.61418L12.4699 3.33237C12.1731 3.46858 11.8268 3.46858 11.53 3.33237L9.95948 2.61418C9.37825 2.34177 8.69809 2.32939 8.10449 2.57704C7.51089 2.82469 7.04096 3.30761 6.80601 3.91436L6.20004 5.53647C6.08874 5.84603 5.84141 6.0813 5.53225 6.20513L3.91222 6.81187C3.30626 7.03475 2.82396 7.50529 2.57663 8.09965C2.3293 8.69402 2.34166 9.37505 2.61373 9.95703L3.33099 11.5296C3.46702 11.8267 3.46702 12.1735 3.33099 12.4707L2.61373 14.0433C2.34166 14.6253 2.3293 15.3063 2.57663 15.9006C2.82396 16.495 3.30626 16.9655 3.91222 17.1884L5.53225 17.7952C5.84141 17.9067 6.07638 18.1543 6.20004 18.4638L6.80601 20.0859C7.0286 20.6927 7.49853 21.1756 8.10449 21.4232C8.38892 21.5471 8.69809 21.5966 8.99489 21.5966C9.32878 21.5966 9.65032 21.5223 9.95948 21.3861L11.53 20.6679C11.8268 20.5317 12.1731 20.5317 12.4699 20.6679L14.0405 21.3861C14.6217 21.6586 15.3019 21.6709 15.8954 21.4232C16.489 21.1756 16.9589 20.6927 17.194 20.0859L17.7999 18.4638C17.9112 18.1543 18.1586 17.919 18.4677 17.7952L20.0877 17.1884C20.6937 16.9655 21.176 16.495 21.4233 15.9006C21.6706 15.3063 21.6582 14.6253 21.3863 14.0433ZM17.5896 10.4276L16.724 15.5044C16.6746 15.7892 16.4272 15.9997 16.1304 15.9997H7.86952C7.57273 15.9997 7.32539 15.7892 7.27593 15.5044L6.41028 10.4276C6.37318 10.2047 6.45974 9.9818 6.64524 9.84559C6.83073 9.70938 7.0657 9.68461 7.26356 9.78368L9.57612 10.9105L11.4806 7.4929C11.6908 7.10905 12.3215 7.10905 12.5317 7.4929L14.4362 10.9105L16.7487 9.78368C16.9467 9.68461 17.194 9.70938 17.3671 9.84559C17.5526 9.9818 17.6391 10.2047 17.602 10.4276H17.5896Z",fill:"#FFA928"}),(0,r.jsx)("path",{d:"M15.0382 22.0005C14.6639 22.0005 14.2772 21.9256 13.9278 21.7634L12.3433 21.0397C12.1312 20.9399 11.8692 20.9399 11.6571 21.0397L10.0725 21.7634C9.42376 22.0628 8.62526 22.0753 7.95152 21.8008C7.2653 21.5139 6.72881 20.9649 6.47928 20.2662L5.86792 18.6318C5.78059 18.4072 5.60592 18.2325 5.38134 18.1452L3.7469 17.5338C3.06069 17.2718 2.49924 16.7353 2.22476 16.0616C1.95027 15.3878 1.96275 14.6018 2.26219 13.9406L2.98583 12.356C3.08564 12.1315 3.08564 11.8819 2.98583 11.6698L2.26219 10.0853C1.96275 9.41155 1.93779 8.638 2.22476 7.96427C2.51172 7.29053 3.06069 6.74156 3.7469 6.49203L5.38134 5.88067C5.60592 5.79334 5.78059 5.61866 5.86792 5.39409L6.47928 3.75965C6.74129 3.07344 7.27778 2.51199 7.95152 2.2375C8.63773 1.95054 9.41128 1.96302 10.0725 2.27493L11.6571 2.99858C11.8692 3.09839 12.1312 3.09839 12.3433 2.99858L13.9278 2.27493C14.6016 1.9755 15.3751 1.96302 16.0488 2.2375C16.7351 2.52447 17.2715 3.07344 17.5211 3.77213L18.1324 5.40656C18.2198 5.63114 18.3944 5.80581 18.619 5.89315L20.2535 6.5045C20.9397 6.76651 21.5011 7.30301 21.7756 7.97674C22.0501 8.65048 22.0376 9.43651 21.7382 10.0978L21.0145 11.6823C20.9147 11.9069 20.9147 12.1564 21.0145 12.3685L21.7382 13.953C22.0376 14.6268 22.0501 15.4003 21.7756 16.0741C21.4886 16.7478 20.9397 17.2968 20.2535 17.5463L18.619 18.1577C18.3944 18.245 18.2198 18.4197 18.1324 18.6442L17.5211 20.2787C17.2591 20.9649 16.7226 21.5263 16.0488 21.8008C15.7244 21.9381 15.3751 22.0005 15.0258 22.0005H15.0382ZM12.0064 20.3411C12.206 20.3411 12.4181 20.3785 12.6053 20.4658L14.1898 21.1895C14.7014 21.4265 15.3002 21.4265 15.8118 21.2144C16.3358 21.0023 16.7475 20.5656 16.9472 20.0416L17.5585 18.4072C17.7082 18.0079 18.0201 17.696 18.4069 17.5588L20.0414 16.9474C20.5654 16.7478 21.002 16.3361 21.2142 15.8121C21.4263 15.288 21.4263 14.7016 21.1892 14.1901L20.4656 12.6056C20.2909 12.2188 20.2909 11.7821 20.4656 11.3953L21.1892 9.8108C21.4263 9.29926 21.4263 8.70039 21.2142 8.17637C21.002 7.65235 20.5778 7.24062 20.0414 7.041L18.4069 6.42964C18.0077 6.27992 17.7082 5.96801 17.5585 5.58123L16.9472 3.9468C16.7475 3.42278 16.3358 2.9861 15.8118 2.774C15.2878 2.5619 14.7014 2.57437 14.1898 2.79895L12.6053 3.52259C12.2185 3.69727 11.7818 3.69727 11.3951 3.52259L9.81053 2.79895C9.29899 2.5619 8.70011 2.54942 8.18857 2.774C7.66456 2.9861 7.25283 3.4103 7.0532 3.9468L6.44185 5.58123C6.29213 5.98049 5.98021 6.27992 5.59344 6.42964L3.959 7.041C3.43499 7.24062 3.01078 7.65235 2.7862 8.17637C2.5741 8.70039 2.5741 9.28679 2.81116 9.79833L3.5348 11.3829C3.70947 11.7696 3.70947 12.2063 3.5348 12.5931L2.81116 14.1776C2.5741 14.6892 2.56162 15.288 2.7862 15.7996C2.99831 16.3236 3.42251 16.7353 3.959 16.9349L5.59344 17.5463C5.99269 17.696 6.30461 18.0079 6.44185 18.3947L7.0532 20.0291C7.25283 20.5532 7.66456 20.9898 8.18857 21.2019C8.70011 21.414 9.31147 21.4016 9.81053 21.177L11.4075 20.4533C11.5947 20.366 11.8068 20.3286 12.0064 20.3286V20.3411ZM16.1736 16.3485H7.83923C7.39007 16.3485 7.01577 16.0242 6.92844 15.5875L6.05507 10.4721C5.99269 10.1352 6.12993 9.78585 6.40442 9.58623C6.6789 9.37412 7.04073 9.34917 7.35264 9.49889L9.42376 10.5095L11.1954 7.32796C11.4949 6.77899 12.493 6.77899 12.8049 7.32796L14.5766 10.5095L16.6477 9.49889C16.9596 9.34917 17.3215 9.3866 17.5959 9.58623C17.8704 9.79833 18.0077 10.1352 17.9453 10.4721L17.0719 15.5875C16.9971 16.0242 16.6103 16.3485 16.1736 16.3485ZM6.95339 10.0229C6.95339 10.0229 6.82862 10.0479 6.77872 10.0853C6.69138 10.1477 6.64147 10.26 6.66643 10.3723L7.53979 15.4877C7.56474 15.6249 7.68951 15.7372 7.82675 15.7372H16.1611C16.3108 15.7372 16.4231 15.6374 16.4481 15.4877L17.3214 10.3723C17.3339 10.26 17.2965 10.1601 17.2092 10.0853C17.1218 10.0229 17.0095 10.0104 16.9097 10.0603L14.3021 11.333L12.2435 7.6274C12.1437 7.44025 11.8317 7.44025 11.7319 7.6274L9.67329 11.333L7.06568 10.0603C7.06568 10.0603 6.97834 10.0354 6.94091 10.0354L6.95339 10.0229Z",fill:"#DB9305"})]})},22028:function(e,t,a){var r=a(85893),s=a(8313),l=a(55346),i=a(784);t.Z=e=>{let{availableDates:t=[],selectedDate:a=null,onDateSelect:n=()=>{},date:o=new Date,onCalendarDateChange:d=()=>{}}=e,c=(0,s.m)(),m=[c("sun"),c("mon"),c("tue"),c("wed"),c("thu"),c("fri"),c("sat")],u=(()=>{let e=o.getFullYear(),a=o.getMonth(),r=new Date(e,a,1).getDay(),s=new Date(e,a+1,0).getDate(),l=new Date(e,a,0).getDate(),i=[];for(let e=r-1;e>=0;e--)i.push({day:l-e,isCurrentMonth:!1,isAvailable:!1});for(let e=1;e<=s;e++)i.push({day:e,isCurrentMonth:!0,isAvailable:t.includes(e)});let n=7*Math.ceil(i.length/7)-i.length;for(let e=1;e<=n&&i.length<42;e++)i.push({day:e,isCurrentMonth:!1,isAvailable:!1});return i})(),p=e=>{e.isAvailable&&e.isCurrentMonth&&n(new Date(o.getFullYear(),o.getMonth(),e.day))},x=a&&a.getMonth()===o.getMonth()&&a.getFullYear()===o.getFullYear()?a.getDate():null;return(0,r.jsxs)("div",{className:"newBorder rounded-2xl overflow-hidden bg-white",children:[(0,r.jsx)("div",{className:"flex flex-col gap-4 p-4 border-b newBorderColor",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 md:gap-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h2",{className:"text-sm md:text-base font-semibold brandColor",children:c("chooseDate")}),(0,r.jsxs)("span",{className:"flex items-center gap-1 primaryBgLight12 py-1.5 md:py-2 px-2 md:px-3 rounded-sm",children:[(0,r.jsx)("div",{className:"w-1.5 md:w-2 h-1.5 md:h-2 rounded-full primaryBg"}),(0,r.jsx)("span",{className:"text-xs brandColor opacity-75",children:c("availableDates")})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[(0,r.jsxs)("h3",{className:"text-sm md:text-base font-extrabold brandColor",children:[(0,i.zX)(o.getMonth()+1,c)," ",null==o?void 0:o.getFullYear()]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>{let e=o.getDate(),t=0===o.getMonth()?o.getFullYear()-1:o.getFullYear(),a=0===o.getMonth()?11:o.getMonth()-1,r=new Date(t,a+1,0).getDate();d(new Date(t,a,Math.min(e,r)))},disabled:o.getMonth()===new Date().getMonth()&&o.getFullYear()===new Date().getFullYear(),className:"w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center primaryBackgroundBg disabled:opacity-70","aria-label":"Previous month",children:(0,r.jsx)(l.x_l,{className:"w-4 h-4 md:w-5 md:h-5 secondryTextColor"})}),(0,r.jsx)("button",{onClick:()=>{let e=o.getDate(),t=11===o.getMonth()?o.getFullYear()+1:o.getFullYear(),a=11===o.getMonth()?0:o.getMonth()+1,r=new Date(t,a+1,0).getDate();d(new Date(t,a,Math.min(e,r)))},className:"w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center primaryBackgroundBg","aria-label":"Next month",children:(0,r.jsx)(l.Z1Y,{className:"w-4 h-4 md:w-5 md:h-5 secondryTextColor"})})]})]})]})}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-2 md:gap-4 p-2 pb-2",children:m.map((e,t)=>(0,r.jsx)("div",{className:"text-xs md:text-base font-bold text-center brandColor",children:e},t))}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-y-4 md:gap-y-6 py-2 md:py-4",children:u.map((e,t)=>(0,r.jsxs)("div",{className:"text-center relative",children:[(0,r.jsx)("span",{className:"\n                inline-flex items-center justify-center w-6 h-6 md:w-7 md:h-7 text-sm md:text-base rounded-full\n                ".concat(e.isCurrentMonth?"":"text-gray-300","\n                ").concat(e.isAvailable&&e.isCurrentMonth?"cursor-pointer hover:bg-gray-100":"cursor-not-allowed","\n                ").concat(x===e.day&&e.isCurrentMonth?"primaryBg !text-white":"","\n              "),onClick:()=>p(e),role:e.isAvailable&&e.isCurrentMonth?"button":void 0,tabIndex:e.isAvailable&&e.isCurrentMonth?0:-1,onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&e.isAvailable&&e.isCurrentMonth&&p(e)},"aria-selected":x===e.day&&e.isCurrentMonth,children:e.day}),e.isAvailable&&e.isCurrentMonth&&x!==e.day&&(0,r.jsx)("div",{className:"absolute w-1 h-1 md:w-1.5 md:h-1.5 rounded-full primaryBg -bottom-1 md:-bottom-2 left-1/2 transform -translate-x-1/2"})]},t))})]})}},99652:function(e,t,a){var r=a(85893),s=a(34526),l=a(8313),i=a(96606),n=a(50788);let o=e=>({PiVideoCamera:s.b_V,BiPhoneCall:i.a54,BiUserPlus:i.cHT})[e]||n.TIu;t.Z=e=>{let{meetingTypes:t=[],selectedType:a="",onSelectMeetingType:s=()=>{}}=e,i=(0,l.m)();return(0,r.jsxs)("div",{className:"newBorder bg-white rounded-2xl overflow-hidden",children:[(0,r.jsx)("div",{className:"flex justify-between items-center p-4 border-b newBorderColor",children:(0,r.jsx)("h2",{className:"text-base font-semibold secondryTextColor",children:i("selectMeetingType")})}),(0,r.jsx)("div",{className:"p-4 flex flex-col gap-6",children:t.map((e,t)=>{let l=o(e.icon);return(0,r.jsxs)("div",{className:"py-2 px-3 rounded-lg cursor-pointer transition-all duration-200 flex items-center gap-3 relative newBorder",onClick:()=>s(null==e?void 0:e.id),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&s(e.id)},tabIndex:0,role:"button",children:[(0,r.jsx)(l,{className:"w-5 h-5 leadColor"}),(0,r.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,r.jsx)("h3",{className:"text-base font-medium leadColor",children:i(e.label)}),(0,r.jsx)("input",{type:"radio",name:"meetingType",id:e.id,checked:a===e.id,onChange:()=>s(e.id),className:"w-5 h-5 cursor-pointer primaryCheckbox"})]})]},"".concat(null==e?void 0:e.id,"-").concat(t))})})]})}},88029:function(e,t,a){var r=a(85893),s=a(8313),l=a(55346);t.Z=e=>{let{selectedDate:t=null,timeSlots:a=[],selectedTimeSlot:i="",onSelectTimeSlot:n=()=>{}}=e,o=(0,s.m)();return(0,r.jsxs)("div",{className:"newBorder rounded-2xl overflow-hidden h-full flex flex-col bg-white",children:[(0,r.jsx)("div",{className:"flex justify-between items-center p-4 border-b newBorderColor ",children:(0,r.jsx)("h2",{className:"text-base font-semibold brandColor",children:o("selectTimeSlot")})}),(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-4 max-h-[400px] md:max-h-[450px]",children:t?a&&a.length>0?(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3 min-h-min pb-2",children:a.map(e=>(0,r.jsx)("button",{className:"\n                                            p-3 rounded-lg text-center transition-all duration-200\n                                            ".concat((null==i?void 0:i.id)===e.id?"primaryBg primaryTextColor":"newBorder hover:bg-gray-50","\n                                        "),onClick:()=>n(e),"aria-pressed":i===e.id,children:(0,r.jsx)("span",{className:"text-sm font-medium ".concat((null==i?void 0:i.id)===e.id?"primaryTextColor":"secondryTextColor"),children:e.time})},e.id))}):(0,r.jsxs)("div",{className:"text-center p-8",children:[(0,r.jsx)("p",{className:"text-base secondryTextColor mb-2",children:o("noAvailableTimeSlots")}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:o("pleaseSelectAnotherDate")})]}):(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"text-base brandColor mb-2",children:o("pickDateForAvailability")})})}),i&&(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 m-4 mt-0 rounded-lg primaryBgLight12",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-white flex items-center justify-center",children:(0,r.jsx)(l.fSQ,{className:"w-6 h-6 primaryColor"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("span",{className:"text-sm brandColor font-semibold",children:o("appointmentDuration")}),(0,r.jsx)("span",{className:"text-base primaryColor font-bold",children:null==i?void 0:i.formattedTime})]})]})]})]})}},43820:function(e,t,a){var r=a(85893),s=a(67294),l=a(96041);a(41664);var i=a(8313),n=a(22543),o=a(50252),d=a(63616),c=a(87076),m=a(86501),u=a(67296),p=a(55346),x=a(12515),h=a(86455),g=a.n(h),f=a(38343),v=a(45007),y=a(21101),j=a(11163),b=a(5041);t.Z=e=>{var t,a,h,N,w,_,C;let{property:k,removeCard:S,handlePropertyLike:B=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}=e,A=(0,i.m)(),D=(0,j.useRouter)(),{locale:P}=null==D?void 0:D.query,T=(0,c.dZ)(),F=(0,f.n)(),I=(0,v.v9)(e=>{var t;return null===(t=e.User)||void 0===t?void 0:t.data}),E=(null==k?void 0:k.added_by)==(null==I?void 0:I.id),R=null==k?void 0:null===(t=k.parameters)||void 0===t?void 0:t.filter(e=>(null==e?void 0:e.value)!==""&&(null==e?void 0:e.value)!=="0").slice(0,4),[L,M]=(0,s.useState)(!!(null==k?void 0:k.is_favourite)),[Z,z]=(0,s.useState)(!1),[O,U]=(0,s.useState)(!1),[q,V]=(0,s.useState)(!1),K=async e=>{if(e.preventDefault(),e.stopPropagation(),!Z){if(!F){g().fire({title:A("plzLogFirst"),icon:"warning",allowOutsideClick:!0,showCancelButton:!1,customClass:{confirmButton:"Swal-confirm-buttons",cancelButton:"Swal-cancel-buttons"},confirmButtonText:A("ok")}).then(e=>{e.isConfirmed&&V(!0)});return}try{z(!0),M(!0),U(!1);let e=await (0,u.j_)({property_id:null==k?void 0:k.id,type:"1"});!1===e.error?(B(null==k?void 0:k.id,!0),m.ZP.success(A(e.message))):(M(!1),m.ZP.error(A(e.message)))}catch(e){M(!1),console.error("Error adding to favorites:",e),m.ZP.error(A(null==e?void 0:e.message)||A("errorAddingToFavorites"))}finally{z(!1)}}},W=async e=>{if(e.preventDefault(),e.stopPropagation(),!Z)try{z(!0),M(!1),U(!0);let e=await (0,u.j_)({property_id:null==k?void 0:k.id,type:"0"});!1===e.error?(B(null==k?void 0:k.id,!0),m.ZP.success(A(e.message)),S&&S(null==k?void 0:k.id)):(M(!0),U(!1),m.ZP.error(e.message))}catch(e){M(!0),U(!1),console.error("Error removing from favorites:",e),m.ZP.error(A(null==e?void 0:e.message)||A("errorRemovingFromFavorites"))}finally{z(!1)}};(0,s.useEffect)(()=>{M(!!(null==k?void 0:k.is_favourite)),U(!1)},[null==k?void 0:k.is_favourite]);let H=e=>{e.preventDefault(),e.stopPropagation(),(null==k?void 0:k.is_premium)?(0,c.wo)(e,y.i.PREMIUM_PROPERTIES,D,null==k?void 0:k.slug_id,k,E,!1,A):E?null==D||D.push("/".concat(P,"/my-property/").concat(k.slug_id)):D.push("/".concat(P,"/property-details/").concat(k.slug_id))};return(0,r.jsxs)("div",{dir:T?"rtl":"ltr",className:"newBorderColor group flex flex-col  overflow-hidden w-full md:max-w-full rounded-2xl border bg-white transition-shadow duration-300 hover:cursor-pointer hover:cardHoverShadow",children:[(0,r.jsxs)("div",{className:"relative",onClick:H,children:[(0,r.jsxs)(o.Z,{href:"".concat(E?"/my-property/".concat(null==k?void 0:k.slug_id):"/property-details/".concat(null==k?void 0:k.slug_id)),"aria-label":k.title,onClick:H,tabIndex:-1,children:[(0,r.jsx)(l.Z,{src:k.title_image,alt:k.title,className:"h-[250px] w-full rounded-t-2xl object-cover",priority:!0}),(0,r.jsx)("div",{className:"absolute inset-0 rounded-t-2xl bg-black opacity-0 transition-opacity duration-300 ease-in-out group-hover:opacity-45"})]}),(0,r.jsxs)("div",{className:"absolute left-3 right-3 top-3 flex items-start justify-between",children:[k.promoted&&(0,r.jsxs)("span",{className:"flex items-center gap-1 rounded-[8px] bg-black bg-opacity-75 px-2 py-1 text-sm font-semibold text-white backdrop-blur-sm",children:[(0,r.jsx)("div",{className:"h-4 w-4",children:(0,d.i)()}),A("featured")]}),!k.promoted&&(0,r.jsx)("div",{}),(0,r.jsx)("button",{onClick:L?W:K,disabled:Z,"aria-label":L?"Remove from favorites":"Add to favorites",className:"rounded-md bg-[#00000080] p-1.5 text-white backdrop-blur-sm transition-colors duration-200 hover:bg-[#00000090] ".concat(Z?"cursor-not-allowed opacity-50":"hover:scale-110"),children:L?(0,r.jsx)(p.$0H,{className:"text-lg text-white"}):(0,r.jsx)(x.$aX,{className:"text-lg text-white"})})]}),(0,r.jsxs)("span",{className:"absolute bottom-3 flex items-center gap-1.5 rounded-md bg-white px-2.5 py-1 text-xs font-semibold text-gray-800 shadow ".concat(T?"right-3":"left-3"),children:[(0,r.jsx)(b.Q,{src:null==k?void 0:null===(a=k.category)||void 0===a?void 0:a.image,beforeInjection:e=>{e.setAttribute("style","height: 100%; width: 100%;"),e.querySelectorAll("path").forEach(e=>{e.setAttribute("style","fill: var(--facilities-icon-color);")})},className:"w-5 h-5 flex items-center justify-center object-contain shrink-0",alt:(null==k?void 0:null===(h=k.category)||void 0===h?void 0:h.translated_name)||(null==k?void 0:null===(N=k.category)||void 0===N?void 0:N.name)||"category icon"}),(0,r.jsx)("span",{className:"line-clamp-1 text-sm font-bold leadColor max-w-[100px]",children:(null===(w=k.category)||void 0===w?void 0:w.translated_name)||(null===(_=k.category)||void 0===_?void 0:_.category)||"N/A"})]})]}),(0,r.jsxs)("div",{className:"flex flex-grow flex-col",children:[(0,r.jsxs)("div",{className:"mb-2 flex items-start justify-between p-4",children:[(0,r.jsxs)("div",{className:"mr-2 max-w-[calc(100%-6rem)] flex-1",children:[(0,r.jsx)("h3",{className:"mb-0.5 truncate text-base font-bold text-gray-900",title:(null==k?void 0:k.translated_title)||(null==k?void 0:k.title),children:(0,r.jsx)(o.Z,{href:"".concat(E?"/my-property/".concat(null==k?void 0:k.slug_id):"/property-details/".concat(null==k?void 0:k.slug_id)),className:"group-hover:primaryColor transition-colors",onClick:H,tabIndex:-1,children:(0,r.jsx)("span",{className:"truncate ",children:(null==k?void 0:k.translated_title)||(null==k?void 0:k.title)})})}),(0,r.jsx)("p",{className:"truncate text-sm text-gray-500",children:"".concat(k.city||"").concat(k.city&&k.state?", ":"").concat(k.state||"")})]}),k.property_type&&(0,r.jsx)("span",{className:"mt-0.5 shrink-0 rounded-full px-3 py-1 text-xs font-semibold ".concat("sell"===k.property_type?"primarySellBg primarySellText":"primaryRentBg primaryRentText"),children:A(k.property_type)})]}),R&&0===R.length&&(0,r.jsx)("div",{className:"flex min-h-10 items-center justify-center"}),R&&R.length>0&&(0,r.jsx)(n.pn,{delayDuration:100,children:(0,r.jsx)("div",{className:"grid w-full grid-cols-4 divide-x divide-gray-200 border-b-2 border-t-2 border-gray-100 py-3 text-xs text-gray-600",children:R.map((e,t)=>(0,r.jsxs)(n.u,{children:[(0,r.jsx)(n.aJ,{asChild:!0,children:(0,r.jsxs)("div",{className:"flex cursor-default items-center justify-center gap-1 px-2","aria-label":(null==e?void 0:e.translated_name)||(null==e?void 0:e.name),children:[(0,r.jsx)(b.Q,{src:e.image,beforeInjection:e=>{e.setAttribute("style","height: 100%; width: 100%;"),e.querySelectorAll("path").forEach(e=>{e.setAttribute("style","fill: var(--facilities-icon-color);")})},className:"w-4 h-4 flex items-center justify-center object-contain shrink-0",alt:e.translated_name||e.name||"parameter icon"}),(0,r.jsx)("span",{className:"truncate leadColor",children:(0,c.z4)(e)})]})}),(0,r.jsx)(n._v,{side:"top",children:(0,r.jsx)("p",{children:(null==e?void 0:e.translated_name)||(null==e?void 0:e.name)})})]},e.id||t))})}),(0,r.jsxs)("div",{className:"mt-auto flex items-center justify-between p-4 ".concat(!(null==k?void 0:null===(C=k.parameters)||void 0===C?void 0:C.length)>0?"border-t-2 border-gray-100":""),children:[(0,r.jsxs)("div",{class:"flex flex-wrap items-center justify-center break-words gap-1",children:[(0,r.jsx)("span",{className:"text-lg font-bold text-gray-900",children:(0,c.ze)(k.price)}),(0,r.jsx)("span",{className:"text-sm font-normal",children:(null==k?void 0:k.property_type)==="rent"&&(null==k?void 0:k.rentduration)?"/ "+(null==k?void 0:k.rentduration):""})]}),k.is_premium?(0,r.jsxs)("span",{className:"flex items-center gap-1 rounded-full bg-[#F9EDD7] p-2 text-sm font-semibold capitalize",children:[(0,d.k)(),A("premium")]}):(0,r.jsx)("div",{className:"h-10"})]})]})]},k.id)}},50252:function(e,t,a){a.d(t,{Z:function(){return o}});var r=a(85893);a(67294);var s=a(41664),l=a.n(s),i=a(11163),n=a(45007);function o(e){let{href:t,passLocale:a=!0,children:s,...o}=e,d=(0,i.useRouter)(),{locale:c}=null==d?void 0:d.query,m=(0,n.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),u=(0,n.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.default_language}),p=c||m||u;return(0,r.jsx)(l(),{href:"".concat(a?"/".concat(p):"").concat(t||"#"),locale:p,...o,children:s})}},98926:function(e,t,a){var r=a(85893),s=a(67294),l=a(37054),i=a(87076),n=a(45007),o=a(8313),d=a(67296);t.Z=e=>{let{onSelectLocation:t,latitude:a,longitude:c,showLabel:m=!1,isDraggable:u=!0}=e,p=(0,o.m)(),x=(0,n.v9)(e=>{var t;return null===(t=e.WebSetting)||void 0===t?void 0:t.data}),[h,g]=(0,s.useState)({lat:a?parseFloat(a):parseFloat(null==x?void 0:x.latitude),lng:c?parseFloat(c):parseFloat(null==x?void 0:x.longitude)}),[f,v]=(0,s.useState)(null),[y,j]=(0,s.useState)({city:"",state:"",country:"",formattedAddress:"",lat:a?parseFloat(a):parseFloat(null==x?void 0:x.latitude),lng:c?parseFloat(c):parseFloat(null==x?void 0:x.longitude)});(0,s.useEffect)(()=>{if(null!=a&&null!=c){let e=parseFloat(a),t=parseFloat(c);isNaN(e)||isNaN(t)||g({lat:e,lng:t})}},[a,c]);let b=async e=>{let{lat:a,lng:r}=e.latLng,s=a(),l=r(),i={...h,lat:s,lng:l};g(i);let n=await N(s,l);if(n){let{city:e,country:a,state:r,formattedAddress:o}=n,d={...i,city:e,country:a,state:r,formattedAddress:o};j({...y,city:e,country:a,state:r,formattedAddress:o,lat:s,lng:l}),t(d)}else{console.warn("Reverse geocoding failed, updating coordinates only");let e={...i,city:"",country:"",state:""};j({...y,lat:s,lng:l}),t(e)}},N=async(e,t)=>{try{let r=await (0,d.yq)({latitude:e.toString(),longitude:t.toString(),place_id:""});if((null==r?void 0:r.error)!==!1||null==r||!r.data)return console.error("API Error:",null==r?void 0:r.message),null;{var a;let e=null===(a=r.data)||void 0===a?void 0:a.result;if(!e)return console.error("No place details in API response"),null;{let t=(0,i.$K)(e);return{city:t.city||"",country:t.country||"",state:t.state||"",formattedAddress:t.formattedAddress||e.formatted_address||""}}}}catch(e){return console.error("Error performing reverse geocoding via API:",e),null}};return(0,r.jsx)("div",{children:f?(0,r.jsx)("div",{children:f}):(0,r.jsxs)("div",{className:"relative",children:[m&&(0,r.jsxs)("p",{className:"secondaryTextColor font-medium",children:[p("map")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(l.b6,{mapContainerStyle:{width:"100%",height:"400px"},center:h,zoom:14,children:(0,r.jsx)(l.Jx,{position:h,draggable:u,onDragEnd:b})})]})})}},96041:function(e,t,a){var r=a(85893),s=a(67294),l=a(25675),i=a.n(l),n=a(45007),o=a(14573);t.Z=e=>{let{src:t,alt:a,className:l="",imageClassName:d="object-cover",priority:c=!1}=e,m=(0,n.v9)(e=>{var t;return null===(t=e.WebSetting)||void 0===t?void 0:t.data}),u=(null==m?void 0:m.web_placeholder_logo)||o.Z,[p,x]=(0,s.useState)("loading"),[h,g]=(0,s.useState)(t),f=(0,s.useRef)(null);return(0,s.useEffect)(()=>{t!==h&&(g(t),x(t?"loading":"error"),f.current&&(clearTimeout(f.current),f.current=null),t&&(f.current=setTimeout(()=>{x("error")},5e3)))},[t,h]),(0,s.useEffect)(()=>()=>{f.current&&clearTimeout(f.current)},[]),(0,r.jsxs)("div",{className:"relative overflow-hidden ".concat(l),children:["loaded"!==p&&(0,r.jsx)(i(),{height:0,width:0,src:u,alt:"Placeholder",className:"h-full w-full aspect-video object-contain opacity-40",priority:!1}),t&&(0,r.jsx)(i(),{height:0,width:0,src:t,alt:a,priority:c,onLoad:()=>{f.current&&(clearTimeout(f.current),f.current=null),x("loaded")},onError:()=>{f.current&&(clearTimeout(f.current),f.current=null),x("error")},className:"w-full ".concat(l," ").concat(d)},t)]})}},9320:function(e,t,a){var r=a(85893),s=a(67294),l=a(67296),i=a(8313),n=a(86250),o=a(86501),d=a(45007);t.Z=e=>{let{value:t="",onChange:a,onPlaceSelect:c,placeholder:m,className:u="",disabled:p=!1,debounceMs:x=1e3,maxResults:h=10,inputProps:g={},isPropertyOrProjectOperation:f=!1}=e,v=(0,i.m)(),y=(0,d.v9)(e=>{var t;return null===(t=e.WebSetting)||void 0===t?void 0:t.data}),[j,b]=(0,s.useState)([]),[N,w]=(0,s.useState)(!1),[_,C]=(0,s.useState)(!1),[k,S]=(0,s.useState)(-1),[B,A]=(0,s.useState)(t),D=(0,s.useRef)(null),P=(0,s.useRef)([]),T=(0,s.useRef)(null),F=(0,s.useRef)(null);(0,s.useEffect)(()=>{A(t)},[t]);let I=(0,s.useCallback)(async e=>{if(!e.trim()||e.length<2){b([]),C(!1);return}w(!0);try{var t;let a=await (0,l.Fm)({input:e.trim()});if((null==a?void 0:a.error)===!1&&(null==a?void 0:null===(t=a.data)||void 0===t?void 0:t.predictions)){let e=Array.isArray(a.data.predictions)?a.data.predictions:[];b(e),C(e.length>0)}else b([]),C(!1)}catch(e){console.error("Error fetching place suggestions:",e),b([]),C(!1)}finally{w(!1)}},[h]),E=async e=>{w(!0);try{let d=await (0,l.yq)({place_id:e.place_id,latitude:"",longitude:""});if((null==d?void 0:d.error)===!1&&(null==d?void 0:d.data)){var t,a,r,s,i,n;let l=null===(t=d.data)||void 0===t?void 0:t.result;A(f?(null===(a=e.structured_formatting)||void 0===a?void 0:a.main_text)||e.formatted_address||"":e.description||e.formatted_address||""),C(!1),S(-1);let o={place_id:e.place_id,formatted_address:e.description||e.formatted_address||"",latitude:parseFloat(null==l?void 0:null===(s=l.geometry)||void 0===s?void 0:null===(r=s.location)||void 0===r?void 0:r.lat),longitude:parseFloat(null==l?void 0:null===(n=l.geometry)||void 0===n?void 0:null===(i=n.location)||void 0===i?void 0:i.lng),address_components:l.address_components||[],types:e.types||[],place_id:e.place_id};c&&c(o,l)}else{if(A(e.description||""),C(!1),S(-1),c){let t={place_id:e.place_id,formatted_address:e.description||"",geometry:{location:{lat:()=>null==y?void 0:y.latitude,lng:()=>null==y?void 0:y.longitude}},types:e.types||[],place_id:e.place_id};c(t,{})}o.ZP.error(v("errorFetchingPlaceDetails"))}}catch(t){console.error("Error fetching place details:",t),A(e.description||""),C(!1),S(-1),c&&c({place_id:e.place_id,formatted_address:e.description||"",geometry:{location:{lat:()=>0,lng:()=>0}},types:e.types||[],place_id:e.place_id},{}),o.ZP.error(v("errorFetchingPlaceDetails")||"Could not fetch place details")}finally{w(!1)}};return(0,s.useEffect)(()=>{let e=e=>{F.current&&!F.current.contains(e.target)&&(C(!1),S(-1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,s.useEffect)(()=>()=>{T.current&&clearTimeout(T.current)},[]),(0,r.jsxs)("div",{ref:F,className:"relative w-full",children:[(0,r.jsxs)("div",{className:"relative flex items-center",children:[(0,r.jsx)("input",{ref:D,type:"text",value:B,onChange:e=>{let t=e.target.value;A(t),S(-1),a&&a(e),T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{I(t)},x)},onKeyDown:e=>{if(_&&0!==j.length)switch(e.key){case"ArrowDown":e.preventDefault(),S(e=>e<j.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),S(e=>e>0?e-1:j.length-1);break;case"Enter":e.preventDefault(),k>=0&&j[k]&&E(j[k]);break;case"Escape":var t;C(!1),S(-1),null===(t=D.current)||void 0===t||t.blur()}},onFocus:()=>{j.length>0&&C(!0)},placeholder:m||v("enterLocation"),className:"w-full  ".concat(u),disabled:p||N,autoComplete:"off",...g}),N&&(0,r.jsx)("div",{className:"absolute right-10 flex items-center",children:(0,r.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-primary"})})]}),_&&j.length>0&&(0,r.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:(0,r.jsx)("ul",{className:"py-1",children:j.map((e,t)=>{var a,s;return(0,r.jsxs)("li",{ref:e=>P.current[t]=e,className:"px-4 py-3 cursor-pointer flex items-start space-x-3 hover:bg-gray-50 transition-colors ".concat(k===t?"bg-gray-100":""),onClick:()=>E(e),onMouseEnter:()=>S(t),children:[(0,r.jsx)(n.kXE,{className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:(null===(a=e.structured_formatting)||void 0===a?void 0:a.main_text)||e.description}),(null===(s=e.structured_formatting)||void 0===s?void 0:s.secondary_text)&&(0,r.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.structured_formatting.secondary_text})]})]},e.place_id||t)})})})]})}},23279:function(e,t,a){a.d(t,{Z:function(){return o}});var r=a(85893);a(67294);var s={src:"/_next/static/media/no_data_found.c5c383a7.svg",height:255,width:255,blurWidth:0,blurHeight:0},l=a(8313),i=a(25675),n=a.n(i),o=e=>{let{title:t,description:a}=e,i=(0,l.m)();return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center my-[100px] gap-4 h-[60vh]",children:[(0,r.jsx)(n(),{loading:"lazy",src:s,alt:"no data found",width:200,height:200}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsx)("h3",{className:"primaryColor text-2xl font-medium",children:t||i("noDataFound")}),(0,r.jsx)("span",{className:"font-normal secondryTextColor",children:a||i("noDataFoundMessage")})]})]})}},59795:function(e,t,a){var r=a(85893),s=a(63082),l=a.n(s),i=a(55346),n=a(87076);t.Z=e=>{let{photos:t,viewerIsOpen:a,currentImage:s,setCurrentImage:o,onClose:d,title_image:c,isProject:m=!1}=e,u=(0,n.dZ)(),p=null==t?void 0:t.map(e=>"string"==typeof e?{src:e,alt:"Image"}:e.src?{src:e.src,alt:e.alt||"Image"}:m?{src:e.name,alt:e.alt||"Project Image"}:{src:e.image_url,alt:e.alt||"Property Image"}),x=c?[{src:c,alt:"Title Image"},...p]:p,h=()=>{u?s<x.length-1&&o(s+1):s>0&&o(s-1)},g=()=>{u?s>0&&o(s-1):s<(null==x?void 0:x.length)-1&&o(s+1)},f=u?s>=(null==x?void 0:x.length)-1:s<=0,v=u?s<=0:s>=(null==x?void 0:x.length)-1;return(0,r.jsx)(l(),{images:x,currentIndex:s,isOpen:a,onClose:d,onPrev:h,onNext:g,renderHeader:()=>(0,r.jsx)("button",{onClick:d,className:"absolute top-4 z-50 p-3 text-white bg-black bg-opacity-50 rounded-full hover:bg-opacity-70 transition-all ".concat(u?"left-4":"right-4"),children:(0,r.jsx)(i.aHS,{className:"h-6 w-6"})}),renderPrevButton:e=>{let{canPrev:t}=e;return(null==x?void 0:x.length)>1&&(0,r.jsx)("button",{onClick:h,disabled:f,className:"absolute top-1/2 -translate-y-1/2 z-10 rounded-full p-3 text-white bg-black bg-opacity-50 hover:bg-opacity-70 transition-all ".concat(u?"right-4":"left-4"," ").concat(f?"cursor-not-allowed opacity-50":"cursor-pointer"),children:u?(0,r.jsx)(i.Dli,{className:"h-5 w-5"}):(0,r.jsx)(i.bUI,{className:"h-5 w-5"})})},renderNextButton:e=>{let{canNext:t}=e;return(null==x?void 0:x.length)>1&&(0,r.jsx)("button",{onClick:g,disabled:v,className:"absolute top-1/2 -translate-y-1/2 z-10 rounded-full p-3 text-white bg-black bg-opacity-50 hover:bg-opacity-70 transition-all ".concat(u?"left-4":"right-4"," ").concat(v?"cursor-not-allowed opacity-50":"cursor-pointer"),children:u?(0,r.jsx)(i.bUI,{className:"h-5 w-5"}):(0,r.jsx)(i.Dli,{className:"h-5 w-5"})})},className:"z-50",style:{background:"rgba(0, 0, 0, 0.9)"},singleClickToZoom:!0,pageTransitionConfig:{from:{opacity:0,transform:"scale(0.5)"},enter:{opacity:1,transform:"scale(1)"},leave:{opacity:0,transform:"scale(0.5)"}}})}},58464:function(e,t,a){a.d(t,{F$:function(){return o},Q5:function(){return d},qE:function(){return n}});var r=a(85893),s=a(67294),l=a(88189),i=a(60656);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.fC,{ref:t,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s})});n.displayName=l.fC.displayName;let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.Ee,{ref:t,className:(0,i.cn)("aspect-square h-full w-full",a),...s})});o.displayName=l.Ee.displayName;let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.NY,{ref:t,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s})});d.displayName=l.NY.displayName},21488:function(e,t,a){a.d(t,{z:function(){return d}});var r=a(85893),s=a(67294),l=a(88426),i=a(12003),n=a(60656);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:d=!1,...c}=e,m=d?l.g7:"button";return(0,r.jsx)(m,{className:(0,n.cn)(o({variant:s,size:i,className:a})),ref:t,...c})});d.displayName="Button"},39970:function(e,t,a){a.d(t,{$N:function(){return g},Be:function(){return f},GG:function(){return m},Vq:function(){return d},cN:function(){return h},cZ:function(){return p},fK:function(){return x}});var r=a(85893),s=a(67294),l=a(30633),i=a(45781),n=a(60656),o=a(87076);let d=l.fC;l.xz;let c=l.h_,m=l.x8,u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.aV,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/40  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});u.displayName=l.aV.displayName;let p=s.forwardRef((e,t)=>{let{className:a,children:s,...d}=e,m=(0,o.dZ)();return(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(l.VY,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6  duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-2xl",a),style:{direction:m?"rtl":"ltr",...d.style},...d,children:[s,(0,r.jsxs)(l.x8,{className:(0,n.cn)("absolute top-4 rounded-xl opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground primaryBackgroundBg leadColor flex items-center justify-center h-8 w-8 md:h-10 md:w-10",m?"left-4":"right-4"),children:[(0,r.jsx)(i.Z,{className:"h-6 w-6"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=l.VY.displayName;let x=e=>{let{className:t,...a}=e,s=(0,o.dZ)();return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center",s?"sm:text-right":"sm:text-left",t),...a})};x.displayName="DialogHeader";let h=e=>{let{className:t,...a}=e,s=(0,o.dZ)();return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:space-x-2",s?"sm:justify-start sm:space-x-reverse":"sm:justify-end",t),...a})};h.displayName="DialogFooter";let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});g.displayName=l.Dx.displayName;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});f.displayName=l.dk.displayName},56286:function(e,t,a){a.d(t,{I:function(){return i}});var r=a(85893),s=a(67294),l=a(60656);let i=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},98310:function(e,t,a){a.d(t,{_:function(){return d}});var r=a(85893),s=a(67294),l=a(99489),i=a(12003),n=a(60656);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.f,{ref:t,className:(0,n.cn)(o(),a),...s})});d.displayName=l.f.displayName},92100:function(e,t,a){var r=a(85893);a(67294),t.Z=()=>(0,r.jsx)("div",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"})},2660:function(e,t,a){var r=a(85893);a(67294);var s=a(80708),l=a(87076);t.Z=e=>{let{columns:t,data:a,isLoading:i=!1,emptyMessage:n="No data available",loadingComponent:o,tableClassName:d,headerClassName:c="bg-gray-50",rowClassName:m,onRowClick:u,parentClassName:p}=e,x=(0,l.dZ)(),h=(0,r.jsx)("div",{className:"flex min-h-[400px] items-center justify-center py-6",children:(0,r.jsxs)("svg",{className:"primaryColor h-10 w-10 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),g=(e,t,a)=>{if(t.renderCell)return t.renderCell(e,a);let r=t.accessor;if(r.includes&&r.includes(".")){let t=r.split("."),a=e;for(let e of t){if(null==a)return null;a=a[e]}return a}return e[r]},f=e=>{switch(e){case"center":return"text-center";case"right":return"text-right";default:return"text-left"}};return(0,r.jsxs)(s.iA,{className:d,parentClassName:p,children:[(0,r.jsx)(s.xD,{className:c,children:(0,r.jsx)(s.SC,{children:t.map((e,t)=>(0,r.jsx)(s.ss,{className:"p-4 text-sm font-semibold ".concat(x?"last:rounded-tl-xl first:rounded-tr-xl border-r-0":"first:rounded-tl-xl last:rounded-tr-xl"," ").concat(f(e.align)," ").concat(e.className||""),children:e.header},t))})}),(0,r.jsx)(s.RM,{className:"[&_tr:first-child]:newBorder w-full",children:i?(0,r.jsx)(s.SC,{children:(0,r.jsx)(s.pj,{colSpan:t.length,className:"text-center",children:o||h})}):(null==a?void 0:a.length)>0?a.map((e,a)=>(0,r.jsx)(s.SC,{className:"".concat(m?m(e,a):""," "),onClick:u?()=>u(e,a):void 0,style:u?{cursor:"pointer"}:void 0,children:t.map((t,l)=>(0,r.jsx)(s.pj,{className:" ".concat(f(t.align)," ").concat(t.className||""," p-4 last-child:rounded-br-xl first-child:rounded-bl-xl"),children:g(e,t,a)},l))},a)):(0,r.jsx)(s.SC,{children:(0,r.jsx)(s.pj,{colSpan:t.length,className:"py-6 text-center",children:n})})})]})}},21534:function(e,t,a){a.d(t,{Bw:function(){return h},Ph:function(){return c},Ql:function(){return g},i4:function(){return u},ki:function(){return m}});var r=a(85893),s=a(67294),l=a(71890),i=a(4705),n=a(79577),o=a(76961),d=a(60656);let c=l.fC;l.ZA;let m=l.B4,u=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(l.xz,{ref:t,className:(0,d.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[s,(0,r.jsx)(l.JO,{asChild:!0,children:(0,r.jsx)(i.Z,{className:"h-4 w-4 brandColor"})})]})});u.displayName=l.xz.displayName;let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(n.Z,{className:"h-4 w-4"})})});p.displayName=l.u_.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});x.displayName=l.$G.displayName;let h=s.forwardRef((e,t)=>{let{className:a,children:s,position:i="popper",...n}=e;return(0,r.jsx)(l.h_,{children:(0,r.jsxs)(l.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...n,children:[(0,r.jsx)(p,{}),(0,r.jsx)(l.l_,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(x,{})]})})});h.displayName=l.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.__,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",a),...s})}).displayName=l.__.displayName;let g=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(l.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.wU,{children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(l.eT,{children:s})]})});g.displayName=l.ck.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=l.Z0.displayName},14947:function(e,t,a){a.d(t,{Ei:function(){return g},Tu:function(){return x},aM:function(){return d},bC:function(){return h},ue:function(){return p},yo:function(){return o}});var r=a(85893),s=a(67294),l=a(30633),i=a(12003),n=a(60656);let o=l.fC,d=l.xz;l.x8;let c=l.h_,m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.aV,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});m.displayName=l.aV.displayName;let u=(0,i.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),p=s.forwardRef((e,t)=>{let{side:a="right",className:s,children:i,...o}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(m,{}),(0,r.jsx)(l.VY,{ref:t,className:(0,n.cn)(u({side:a}),s),...o,children:i})]})});p.displayName=l.VY.displayName;let x=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};x.displayName="SheetHeader";let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold text-foreground",a),...s})});h.displayName=l.Dx.displayName;let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});g.displayName=l.dk.displayName},59892:function(e,t,a){a.d(t,{r:function(){return n}});var r=a(85893),s=a(67294),l=a(60761),i=a(60656);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.fC,{className:(0,i.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...s,ref:t,children:(0,r.jsx)(l.bU,{className:(0,i.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-1 rtl:data-[state=unchecked]:-translate-x-1")})})});n.displayName=l.fC.displayName},80708:function(e,t,a){a.d(t,{RM:function(){return o},SC:function(){return d},iA:function(){return i},pj:function(){return m},ss:function(){return c},xD:function(){return n}});var r=a(85893),s=a(67294),l=a(60656);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:(0,l.cn)("relative w-full overflow-x-auto overflow-y-hidden newBorder",null==s?void 0:s.parentClassName),children:(0,r.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",a),...s})})});i.displayName="Table";let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",a),...s})});n.displayName="TableHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...s})});o.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});d.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,l.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})});c.displayName="TableHead";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,l.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})});m.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},94728:function(e,t,a){a.d(t,{SP:function(){return d},dr:function(){return o},mQ:function(){return n},nU:function(){return c}});var r=a(85893),s=a(67294),l=a(60434),i=a(60656);let n=l.fC,o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.aV,{ref:t,className:(0,i.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...s})});o.displayName=l.aV.displayName;let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.xz,{ref:t,className:(0,i.cn)("flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...s})});d.displayName=l.xz.displayName;let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none",a),...s})});c.displayName=l.VY.displayName},46930:function(e,t,a){a.r(t),a.d(t,{default:function(){return aq}});var r=a(85893),s=a(11163),l=a(67294),i=a(2660),n=a(21488),o=a(8313),d=a(25675),c=a.n(d),m=a(67296),u=a(35134),p=a(50252),x=a(89508),h=a(64248),g=a(44204),f=a(2466),v=a(87076);let y={enter:e=>({x:e>0?15:-15,opacity:0,scale:.8}),center:{x:0,opacity:1,scale:1},exit:e=>({x:e<0?15:-15,opacity:0,scale:.8})};(0,v.dZ)();var j=e=>{let{currentPage:t=1,totalItems:a=0,itemsPerPage:s=10,onPageChange:i,isLoading:o=!1,showItemsInfo:d=!0,className:c="",translations:m={showing:"Showing",to:"to",of:"of",entries:"entries"}}=e,[[u,p],v]=(0,l.useState)([0,0]),j=Math.ceil(a/s),b=Math.min(t*s,a),N=e=>{e===t||o||(v([u+1,e>t?1:-1]),i(e))};return a<=0?null:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 items-center justify-between px-6 py-3 border-t ".concat(c),children:[d&&(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[m.showing," ",(t-1)*s+1," ",m.to," ",b," ",m.of," ",a," ",m.entries]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 ".concat(d?"":"mx-auto"),children:[(0,r.jsx)(n.z,{variant:"outline",size:"icon",className:"h-8 w-8 p-0",onClick:()=>N(t-1),disabled:1===t||o,children:(0,r.jsx)(g.Z,{className:"h-4 w-4 rtl:rotate-180"})}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:(()=>{let e=[];if(j<=5)for(let t=1;t<=j;t++)e.push(t);else if(e.push(1),t<=3){for(let t=2;t<=4;t++)e.push(t);e.push("..."),e.push(j)}else if(t>=j-2){e.push("...");for(let t=j-3;t<=j;t++)e.push(t)}else e.push("..."),e.push(t-1),e.push(t),e.push(t+1),e.push("..."),e.push(j);return e})().map((e,a)=>"..."===e?(0,r.jsx)("span",{className:"px-2 text-gray-500",children:"..."},"ellipsis-".concat(a)):(0,r.jsx)("div",{className:"relative h-8 w-8",children:(0,r.jsx)(x.M,{mode:"wait",custom:p,children:(0,r.jsx)(h.E.div,{custom:p,variants:y,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2},scale:{duration:.2}},className:"absolute inset-0",children:(0,r.jsx)(n.z,{variant:t===e?"default":"outline",size:"icon",className:"h-8 w-8 p-0 ".concat(t===e?"bg-black text-white hover:bg-black/90":""),onClick:()=>N(e),disabled:o,children:e})},e)})},"page-".concat(e)))}),(0,r.jsx)(n.z,{variant:"outline",size:"icon",className:"h-8 w-8 p-0",onClick:()=>N(t+1),disabled:t===j||o,children:(0,r.jsx)(f.Z,{className:"h-4 w-4 rtl:rotate-180"})})]})]})},b=a(50788),N=a(45007);let w=e=>{let{itemLength:t}=e;return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{className:"bg-gray-50 border-y",children:(0,r.jsx)("div",{className:"grid grid-cols-7 px-6 py-4",children:["w-32","w-24","w-24","w-24","w-24","w-24","w-16"].map((e,t)=>(0,r.jsx)(u.O,{className:"h-4 ".concat(e)},t))})}),[...Array(Number(t))].map((e,t)=>(0,r.jsx)("div",{className:"border-b px-6 py-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-7 gap-4 items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(u.O,{className:"h-12 w-12 rounded-md"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.O,{className:"h-4 w-24"}),(0,r.jsx)(u.O,{className:"h-3 w-20"})]})]}),(0,r.jsx)(u.O,{className:"h-4 w-24"}),(0,r.jsx)(u.O,{className:"h-4 w-16"}),(0,r.jsx)(u.O,{className:"h-6 w-16 rounded-full"}),(0,r.jsx)(u.O,{className:"h-4 w-20"}),(0,r.jsx)(u.O,{className:"h-4 w-20"}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(u.O,{className:"h-8 w-8 rounded-md"})})]})},t))]})};var _=()=>{let e=(0,o.m)(),t=(0,s.useRouter)(),{tab:a}=(null==t?void 0:t.query)||{},d=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),u=(0,v.dZ)(),[x,h]=(0,l.useState)(a||"property"),[g,f]=(0,l.useState)(1),[y,_]=(0,l.useState)([]),[C,k]=(0,l.useState)(!0),[S,B]=(0,l.useState)(null),[A,D]=(0,l.useState)(0),[P,T]=(0,l.useState)(!1);(0,l.useEffect)(()=>{f(1)},[x]),(0,l.useEffect)(()=>{"property"===a?h("property"):"project"===a&&h("project")},[a]);let F=async()=>{try{P||k(!0),B(null);let e=await (0,m.Sv)({type:"property"===x?"property":"project",limit:5,offset:(g-1)*5});e.error?(B(e.message||"Failed to fetch data"),T(!1),k(!1)):(D(e.total),setTimeout(()=>{_(e.data),T(!1),k(!1)},300))}catch(e){console.error("Error fetching advertisements:",e),B("An unexpected error occurred"),T(!1),k(!1)}};(0,l.useEffect)(()=>{F()},[x,g,d]);let I=e=>{switch(e){case 0:return"status-badge-approved";case 1:return"status-badge-pending";case 2:return"status-badge-rejected";case 3:return"bg-red-50 text-red-600";default:return""}},E=t=>{switch(t){case 0:return e("active");case 1:return e("pending");case 2:return e("rejected");case 3:return e("expired");default:return""}},R=[{header:e("listingTitle"),accessor:"property",align:u?"right":"left",renderCell:e=>{let t=e.project||e.property;return t?(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("div",{className:"h-12 w-12 rounded-md overflow-hidden bg-gray-100",children:(0,r.jsx)(c(),{src:t.image||t.title_image||"/placeholder.jpg",alt:t.title,width:48,height:48,className:"object-cover h-full w-full",onError:e=>{e.target.src="/placeholder.jpg"}})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 rtl:text-start",children:t.translated_title||t.title}),(0,r.jsx)("div",{className:"text-xs text-gray-500 rtl:text-start",children:[t.city,t.state,t.country].filter(Boolean).join(", ")})]})]}):null}},{header:e("status"),accessor:"status",align:"left",renderCell:e=>(0,r.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-medium rounded-full ".concat(I(null==e?void 0:e.status)),children:E(null==e?void 0:e.status)})},{header:e("featuredOn"),accessor:"start_date",align:"left",renderCell:t=>{try{return(0,r.jsx)("span",{className:"text-sm text-gray-600",children:(0,v.L0)(t.start_date,e)})}catch(e){return"-"}}},{header:e("expiryDate"),accessor:"end_date",align:"left",renderCell:t=>{try{return(0,r.jsx)("span",{className:"text-sm text-gray-600",children:(0,v.L0)(t.end_date,e)})}catch(e){return"-"}}},{header:e("action"),accessor:"slug",align:"center",renderCell:e=>{let t="property"===x?null==e?void 0:e.property:null==e?void 0:e.project,a="property"===x?"/my-property/".concat(null==t?void 0:t.slug_id):"/my-project/".concat(null==t?void 0:t.slug_id);return(0,r.jsx)(p.Z,{href:a,children:(0,r.jsx)(n.z,{size:"sm",variant:"outline",className:"bg-transparent h-8 w-8 p-0",children:(0,r.jsx)(b.FpO,{className:"h-4 w-4"})})})}}];return(0,r.jsxs)("div",{className:"space-y-4 p-2 md:p-0",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:e("myAdvertisement")}),(0,r.jsxs)("div",{className:"bg-white",children:[(0,r.jsx)("div",{className:"border-b",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(p.Z,{href:"/user/advertisement?tab=property",className:"relative px-6 py-3 rounded-none border-b-2 ".concat("property"===x?"primaryBorderColor primaryColor":"border-transparent text-gray-500 hover:text-gray-700"),children:e("myProperties")}),(0,r.jsx)(p.Z,{href:"/user/advertisement?tab=project",className:"relative px-6 py-3 rounded-none border-b-2 ".concat("project"===x?"primaryBorderColor primaryColor":"border-transparent text-gray-500 hover:text-gray-700"),children:e("myProjects")})]})}),(0,r.jsxs)("div",{className:"relative",children:["property"===x&&(0,r.jsx)("div",{className:"mt-0",children:C||P?(0,r.jsx)(w,{itemLength:5}):(0,r.jsx)(i.Z,{tableClassName:"!rounded-none",columns:R,data:y,loading:!1,emptyMessage:S||e("noDataAvailable")})}),"project"===x&&(0,r.jsx)("div",{className:"mt-0",children:C||P?(0,r.jsx)(w,{itemLength:5}):(0,r.jsx)(i.Z,{columns:R,data:y,loading:!1,emptyMessage:S||e("noDataAvailable")})}),!C&&!P&&A>5&&(0,r.jsx)("div",{className:"transition-opacity duration-200 ".concat(P?"opacity-50":"opacity-100"),children:(0,r.jsx)(j,{currentPage:g,totalItems:A,itemsPerPage:5,onPageChange:e=>{T(!0),f(e)},isLoading:P,translations:{showing:e("showing"),to:e("to"),of:e("of"),entries:e("entries")}})})]})]})]})},C=a(58464),k=a(59892),S=a(22543),B=a(28116),A=a(12003),D=a(4705),P=a(60656);let T=l.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(B.fC,{ref:t,className:(0,P.cn)("relative flex max-w-max flex-1 items-center justify-center",a),...l,children:[s,(0,r.jsx)(Z,{})]})});T.displayName=B.fC.displayName;let F=l.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(B.aV,{ref:t,className:(0,P.cn)("group flex flex-1 list-none items-center justify-center space-x-1",a),...s})});F.displayName=B.aV.displayName;let I=B.ck,E=(0,A.j)("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),R=l.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(B.xz,{ref:t,className:(0,P.cn)(E(),"group",a),...l,children:[s," ",(0,r.jsx)(D.Z,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180","aria-hidden":"true"})]})});R.displayName=B.xz.displayName;let L=l.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(B.VY,{ref:t,className:(0,P.cn)("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",a),...s})});L.displayName=B.VY.displayName;let M=B.rU,Z=l.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:(0,P.cn)("absolute left-0 top-full flex justify-center"),children:(0,r.jsx)(B.l_,{className:(0,P.cn)("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",a),ref:t,...s})})});Z.displayName=B.l_.displayName,l.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(B.z$,{ref:t,className:(0,P.cn)("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",a),...s,children:(0,r.jsx)("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border "})})}).displayName=B.z$.displayName;var z=a(15581),O=a(20473),U=a(55346),q=a(14773),V=a(86501),K=a(21101),W=a(86455),H=a.n(W);let Y=e=>{let{itemLength:t}=e;return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{className:"bg-gray-50 border-y",children:(0,r.jsx)("div",{className:"grid grid-cols-7 px-6 py-4",children:["w-32","w-24","w-24","w-24","w-24","w-24","w-16"].map((e,t)=>(0,r.jsx)(u.O,{className:"h-4 ".concat(e)},t))})}),[...Array(Number(t))].map((e,t)=>(0,r.jsx)("div",{className:"border-b px-6 py-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-7 gap-4 items-center",children:[(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.O,{className:"h-4 w-24"}),(0,r.jsx)(u.O,{className:"h-3 w-20"})]})}),(0,r.jsx)(u.O,{className:"h-4 w-24"}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(u.O,{className:"h-8 w-8 rounded-full"})}),(0,r.jsx)(u.O,{className:"h-6 w-20 rounded-full"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,r.jsx)(u.O,{className:"h-6 w-12 rounded-full"}),(0,r.jsx)(u.O,{className:"h-4 w-16"})]}),(0,r.jsx)(u.O,{className:"h-4 w-20"}),(0,r.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,r.jsx)(u.O,{className:"h-8 w-8 rounded-md"}),(0,r.jsx)(u.O,{className:"h-8 w-8 rounded-md"})]})]})},t))]})};var Q=()=>{let e=(0,o.m)(),t=(0,s.useRouter)(),a=(0,v.dZ)(),{locale:d}=null==t?void 0:t.query,u=(0,v.s6)(),p=(0,N.v9)(e=>{var t;return null===(t=e.User)||void 0===t?void 0:t.data}),x=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),[h,g]=(0,l.useState)(!1),[f,y]=(0,l.useState)(!1),[w,_]=(0,l.useState)(0),[C,S]=(0,l.useState)(15),[B,A]=(0,l.useState)([]),D=async()=>{g(!0);try{let e=await (0,m.my)({limit:"5",offset:w.toString()});A(null==e?void 0:e.data),S(null==e?void 0:e.total)}catch(e){console.error("Error in fetching user projects",e)}finally{g(!1),y(!1)}};(0,l.useEffect)(()=>{D()},[w,x]);let P=async(t,a)=>{try{let r=1===a?0:1,s=await (0,m.Xq)({project_id:t,status:r});(null==s?void 0:s.error)===!1&&(A(e=>e.map(e=>e.id===t?{...e,status:r}:e)),V.ZP.success(e("projectStatusUpdatedSuccessfully")))}catch(e){console.error("Error in changing project status:",e)}},E=(a,r)=>{if(a.preventDefault(),u&&(null==p?void 0:p.is_demo_user))return H().fire({title:e("oops"),text:e("notAllowdDemo"),icon:"warning",showCancelButton:!1,customClass:{confirmButton:"Swal-buttons"},confirmButtonText:e("ok")}),!1;(0,v.wo)(a,K.i.PROJECT_FEATURE,t,r,null,null,!0,e)},Z=a=>{if(u&&(null==p?void 0:p.is_demo_user))return H().fire({title:e("oops"),text:e("notAllowdDemo"),icon:"warning",showCancelButton:!1,customClass:{confirmButton:"Swal-buttons"},confirmButtonText:e("ok")}),!1;t.push("/".concat(d,"/user/edit-project/").concat(a))},q=t=>{if(u&&(null==p?void 0:p.is_demo_user))return H().fire({title:e("oops"),text:e("notAllowdDemo"),icon:"warning",showCancelButton:!1,customClass:{confirmButton:"Swal-buttons"},confirmButtonText:e("ok")}),!1;H().fire({title:e("areYouSure"),text:e("deleteProjectWarning"),icon:"warning",showCancelButton:!0,customClass:{confirmButton:"Swal-confirm-buttons",cancelButton:"Swal-cancel-buttons"},confirmButtonText:e("yesDelete"),cancelButtonText:e("cancel")}).then(async a=>{if(a.isConfirmed)try{let a=await (0,m.u7)({id:t});(null==a?void 0:a.error)===!1&&(V.ZP.success(e(null==a?void 0:a.message)),D())}catch(t){V.ZP.error(e(null==t?void 0:t.message)||e("somethingWentWrong")),console.error("Error deleting project:",t)}})},W=[{header:e("listingTitle"),accessor:"title",align:a?"right":"left",renderCell:t=>(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"relative p-3",children:(0,r.jsx)("div",{className:"h-16 w-16 rounded-md overflow-hidden bg-gray-100",children:(0,r.jsx)(c(),{src:t.image,alt:t.title,width:60,height:60,className:"object-cover h-full w-full"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:(0,v.$G)(t.translated_title||t.title,25)}),(null==t?void 0:t.is_promoted)?(0,r.jsx)("span",{className:"primaryColor font-bold flex items-center",children:e("featured")}):null,(0,r.jsx)("div",{className:"text-sm text-gray-500",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[t.city,", ",t.state,", ",t.country]})})]})]})},{header:e("category"),accessor:"category",align:"center",renderCell:e=>{var t,a;return(0,r.jsx)("span",{className:"capitalize px-3 py-1.5 rounded-lg text-sm",children:(null===(t=e.category)||void 0===t?void 0:t.translated_name)||(null===(a=e.category)||void 0===a?void 0:a.category)||"-"})}},{header:e("type"),accessor:"type",align:"center",renderCell:t=>(0,r.jsx)("span",{className:"capitalize px-3 text-nowrap py-1.5 rounded-lg text-sm ".concat("upcoming"===t.type?"primarySellText primarySellBg":"primaryRentText primaryRentBg"),children:e(t.type)})},{header:e("postedOn"),accessor:"created_at",align:"center",renderCell:e=>(0,r.jsx)("span",{className:"text-sm text-gray-600",children:null==e?void 0:e.posted_since})},{header:e("adminStatus"),accessor:"request_status",align:"center",renderCell:t=>{var a;return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,v.u1)(t.request_status,e),"rejected"===t.request_status&&(0,r.jsx)(v._r,{reason:null==t?void 0:null===(a=t.reject_reason)||void 0===a?void 0:a.reason,t:e})]})}},{header:e("projectStatus"),accessor:"status",align:"center",renderCell:t=>(0,r.jsxs)("div",{className:"flex justify-center items-center rtl:gap-2",children:[(0,r.jsx)(k.r,{checked:1===t.status&&(null==t?void 0:t.request_status)!=="pending",onCheckedChange:()=>P(t.id,t.status),disabled:"pending"===t.request_status||"rejected"===t.request_status,className:"".concat(1===t.status&&(null==t?void 0:t.request_status)!=="pending"?"!primaryBg":"!bg-[#28252566]"," rounded-[100px]\n                          h-4 w-8 transition-colors duration-300 sm:h-5 sm:w-10 [&>span]:h-2.5 [&>span]:w-2.5 ").concat(a?"data-[state=checked]:[&>span]:-translate-x-4":"data-[state=checked]:[&>span]:translate-x-4"," sm:[&>span]:h-3 sm:[&>span]:w-3 ").concat(a?"sm:data-[state=checked]:[&>span]:-translate-x-5":"sm:data-[state=checked]:[&>span]:translate-x-5")}),(0,r.jsx)("span",{className:"ml-2 text-sm ".concat(1===t.status&&(null==t?void 0:t.request_status)!=="pending"?"primaryColor":"secondryTextColor"," capitalize"),children:1===t.status&&(null==t?void 0:t.request_status)!=="pending"?e("active"):e("deactive")})]})},{header:e("action"),accessor:"id",align:"center",renderCell:(s,l)=>{let i=l===B.length-1;return(0,r.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,r.jsx)(n.z,{size:"sm",variant:"outline",className:"bg-transparent h-8 w-8 p-0",onClick:()=>t.push("/".concat(d,"/my-project/").concat(s.slug_id)),children:(0,r.jsx)(b.FpO,{className:"h-4 w-4"})}),(0,r.jsx)(T,{className:"\n                            ".concat(a?"[&_div:nth-child(2)]:!left-5 [&_div:nth-child(2)]:!right-auto":"[&_div:nth-child(2)]:!right-5 [&_div:nth-child(2)]:!left-auto"," \n                            [&_div:nth-child(2)>div]:!z-[9999]\n                            [&_div:nth-child(2)>div]:!bg-white\n                        ").concat(i?"[&_div:nth-child(2)]:!bottom-[40px] [&_div:nth-child(2)]:!top-auto":"[&_div:nth-child(2)]:!bottom-0","\n                        "),children:(0,r.jsx)(F,{children:(0,r.jsxs)(I,{children:[(0,r.jsx)(R,{className:"primaryRentBg primaryRentText [&_svg.lucide]:hidden hover:primaryRentBg data-[state=open]:!primaryRentBg data-[state=open]:!primaryRentText hover:primaryRentText data-[state=active]:!primaryRentBg data-[state=active]:!primaryRentText p-3 focus:primaryRentBg focus:primaryRentText",children:(0,r.jsx)(O.FQA,{className:"h-4 w-4"})}),(0,r.jsxs)(L,{className:"grid !w-[150px] gap-1 relative z-[9999]",children:["pending"!==s.request_status&&(0,r.jsxs)(M,{onClick:()=>Z(s.slug_id),className:"rtl:text-start px-3 py-2 flex justify-start items-center gap-2 bg-white hover:primaryBgLight hover:primaryColor hover:cursor-pointer",children:[(0,r.jsx)(z.$iz,{}),e("edit")]}),"pending"!==s.request_status&&(null==s?void 0:s.is_feature_available)&&(0,r.jsxs)(M,{onClick:e=>E(e,s.id),className:"rtl:text-start px-3 py-2 flex justify-start items-center gap-2 bg-white hover:primaryBgLight hover:primaryColor hover:cursor-pointer",children:[(0,r.jsx)(U.CvY,{}),e("featured")]}),(0,r.jsxs)(M,{onClick:()=>q(null==s?void 0:s.id),className:"rtl:text-start px-3 py-2 flex justify-start items-center gap-2 bg-white hover:primaryBgLight hover:primaryColor hover:cursor-pointer",children:[(0,r.jsx)(b.F1H,{}),e("delete")]})]})]})})})]})}}];return(0,r.jsxs)("div",{className:"space-y-4 p-2 md:p-0",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:e("myProjects")}),(0,r.jsxs)("div",{className:"bg-white rounded-lg",children:[h||f?(0,r.jsx)(Y,{itemLength:5}):(0,r.jsx)(i.Z,{parentClassName:"rounded-tl-xl rounded-tr-xl overflow-x-auto [&>div]:overflow-x-auto",columns:W,data:B,loading:!1,emptyMessage:e("noDataAvailable")}),!f&&!h&&C>5&&(0,r.jsx)("div",{className:"transition-opacity duration-200 ".concat(f?"opacity-0":"opacity-100"),children:(0,r.jsx)(j,{currentPage:Math.floor(w/5)+1,totalItems:C,itemsPerPage:5,onPageChange:e=>{y(!0),_((e-1)*5),setTimeout(()=>{y(!1)},500)},isLoading:f,translations:{showing:e("showing"),to:e("to"),of:e("of"),entries:e("entries")}})})]})]})},J=a(43820),G=a(23279),$=a(98502),X=()=>{let e=(0,o.m)(),[t,a]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[n,d]=(0,l.useState)(0),[c,u]=(0,l.useState)(!0),[p,x]=(0,l.useState)(!1),[h,g]=(0,l.useState)(null),[f,v]=(0,l.useState)(0),y=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),j=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{x(e),e||(i(!0),g(null));let t=await (0,m.XI)({limit:8,offset:e?n:0});if(t.error)g(t.message);else{let r=t.data||[];v(t.total||0),e?(a(e=>[...e,...r]),d(e=>e+r.length)):(a(r),d(r.length)),u((t.total||0)>8)}}catch(e){console.error("Error fetching favorites:",e),g(e)}finally{i(!1),x(!1)}},b=async e=>{a(t=>t.filter(t=>t.id!==e));let r=f-1;if(v(r),u(r>8),r>t.length-1)try{let e=await (0,m.XI)({limit:1,offset:t.length-1});!e.error&&e.data&&e.data.length>0&&a(t=>[...t,...e.data])}catch(e){console.error("Error fetching replacement property:",e)}};return((0,l.useEffect)(()=>{j()},[y]),s)?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:e("myFavourites")}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((e,t)=>(0,r.jsx)($.Z,{},t))})]}):h?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:e("myFavourites")}),(0,r.jsx)(G.Z,{title:e("errorLoadingFavorites"),description:e("pleaseTryAgainLater")}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("button",{onClick:()=>j(),className:"primaryBg primaryTextColor px-6 py-2 rounded-md hover:opacity-90",children:e("tryAgain")})})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:e("myFavourites")}),0===t.length?(0,r.jsx)(G.Z,{title:e("noFavoritesYet"),description:e("startExploringAndSaveProperties")}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(e=>(0,r.jsx)(J.Z,{property:e,removeCard:b},e.id))}),c&&(0,r.jsx)("div",{className:"flex justify-center mt-8",children:(0,r.jsx)("button",{onClick:()=>j(!0),disabled:p,className:"border brandBorder brandColor px-6 py-2 rounded-md transition-all hover:primaryTextColor hover:brandBg hover:brandBorder ".concat(p?"opacity-50 cursor-not-allowed":"hover:opacity-90"),children:e(p?"loading":"loadMore")})})]})]})},ee=a(96041),et=a(93766),ea=e=>{let{conversations:t,activeChat:a,handleSelectChat:s,loading:l}=e,i=(0,o.m)();return l?(0,r.jsx)(et.T6,{count:5}):(0,r.jsx)(r.Fragment,{children:t&&(null==t?void 0:t.map(e=>{var t;return(0,r.jsxs)("div",{onClick:()=>s(e),className:"flex cursor-pointer items-center p-4 transition-colors hover:bg-gray-50 rtl:gap-2 ".concat((null==a?void 0:a.property_id)==e.property_id&&(null==a?void 0:a.user_id)==e.user_id?"primaryBorderColor primaryBgLight border-l-4 bg-gray-100":"border-b"," ").concat((null==e?void 0:e.is_blocked_by_me)?"opacity-75":""),children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("div",{className:"flex h-7 w-7 items-center overflow-hidden rounded-full bg-gray-200 md:h-12 md:w-12",children:e&&(null==e?void 0:e.profile)?(0,r.jsx)(ee.Z,{src:null==e?void 0:e.profile,alt:null==e?void 0:e.name,className:"h-7 w-7 object-fill md:h-12 md:w-12"}):(0,r.jsx)("div",{className:"flex h-full w-full items-center justify-center text-gray-500",children:null==e?void 0:null===(t=e.name)||void 0===t?void 0:t.charAt(0)})})}),(0,r.jsxs)("div",{className:"ml-3 flex-1 overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("h3",{className:"text-sm font-medium",children:null==e?void 0:e.name}),(null==e?void 0:e.is_blocked_by_me)&&(0,r.jsx)("span",{className:"ml-2 rounded bg-red-100 px-1.5 py-0.5 text-xs text-red-600",children:i("blocked")})]}),(0,r.jsx)("span",{className:"text-xs text-gray-500 rtl:ltr-number",children:(0,v.tK)(null==e?void 0:e.date)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"truncate text-sm text-gray-500",children:(null==e?void 0:e.translated_title)||(null==e?void 0:e.title)}),(null==e?void 0:e.unread_count)>0&&(0,r.jsx)("div",{className:"primaryBg flex h-6 w-6 items-center justify-center rounded-full text-xs text-white",children:null==e?void 0:e.unread_count})]})]})]},"".concat(null==e?void 0:e.property_id,"-").concat(null==e?void 0:e.user_id))}))})},er=a(12515),es=a(40695),el=a(76961),ei=a(27072);let en=es.fC,eo=es.xz;es.ZA,es.Uv,es.Tr,es.Ee,l.forwardRef((e,t)=>{let{className:a,inset:s,children:l,...i}=e;return(0,r.jsxs)(es.fF,{ref:t,className:(0,P.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",a),...i,children:[l,(0,r.jsx)(f.Z,{className:"ml-auto"})]})}).displayName=es.fF.displayName,l.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(es.tu,{ref:t,className:(0,P.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}).displayName=es.tu.displayName;let ed=l.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...l}=e;return(0,r.jsx)(es.Uv,{children:(0,r.jsx)(es.VY,{ref:t,sideOffset:s,className:(0,P.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground ","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});ed.displayName=es.VY.displayName;let ec=l.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(es.ck,{ref:t,className:(0,P.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",a),...l})});ec.displayName=es.ck.displayName,l.forwardRef((e,t)=>{let{className:a,children:s,checked:l,...i}=e;return(0,r.jsxs)(es.oC,{ref:t,className:(0,P.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(es.wU,{children:(0,r.jsx)(el.Z,{className:"h-4 w-4"})})}),s]})}).displayName=es.oC.displayName,l.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(es.Rk,{ref:t,className:(0,P.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(es.wU,{children:(0,r.jsx)(ei.Z,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=es.Rk.displayName,l.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(es.__,{ref:t,className:(0,P.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...l})}).displayName=es.__.displayName,l.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(es.Z0,{ref:t,className:(0,P.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=es.Z0.displayName;var em=e=>{let{isMobile:t,handleBackToChatList:a,activeChat:s,handleDeleteChat:l,handleReloadChat:i,handleBlockUser:n,handleUnblockUser:d}=e,c=(0,o.m)(),m=(0,v.dZ)();return(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3 border-b px-2 py-4 md:p-4",children:[(0,r.jsxs)("div",{className:"flex items-center rtl:gap-2",children:[t&&(0,r.jsx)("button",{onClick:a,className:"mr-2 font-semibold text-primary",children:(0,r.jsx)(b.KYK,{className:"h-5 w-5 rtl:rotate-180"})}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"mr-3 h-7 w-7 overflow-hidden rounded-full bg-gray-200 md:h-12 md:w-12",children:(null==s?void 0:s.title_image)&&(0,r.jsx)(ee.Z,{src:null==s?void 0:s.title_image,alt:null==s?void 0:s.title,className:"h-7 w-7 object-fill md:h-12 md:w-12"})}),(null==s?void 0:s.isActive)&&(0,r.jsx)("div",{className:"absolute -bottom-1 right-[10px] h-4 w-4 rounded-full border-2 border-white bg-green-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"break-words font-medium",children:null==s?void 0:s.name}),(0,r.jsx)("p",{className:"break-words text-xs text-gray-600 md:text-sm",children:(null==s?void 0:s.translated_title)||(null==s?void 0:s.title)})]})]}),(0,r.jsxs)(en,{children:[(0,r.jsx)(eo,{className:"focus:outline-none",children:(0,r.jsx)(O.FQA,{className:"text-xl text-gray-600"})}),(0,r.jsxs)(ed,{align:m?"start":"end",className:"w-48",children:[(0,r.jsxs)(ec,{className:"flex items-center gap-2 hover:cursor-pointer",onClick:()=>l(s),children:[(0,r.jsx)(b.F1H,{})," ",c("deleteAllMessages")]}),(0,r.jsxs)(ec,{className:"flex items-center gap-2 hover:cursor-pointer",onClick:()=>i(s),children:[(0,r.jsx)(er.Bw1,{})," ",c("refreshMessages")]}),!(null==s?void 0:s.is_blocked_by_me)&&(0,r.jsxs)(ec,{className:"flex items-center gap-2 hover:cursor-pointer",onClick:()=>n(s),children:[(0,r.jsx)(U.DTd,{})," ",c("blockUser")]}),(null==s?void 0:s.is_blocked_by_me)&&(0,r.jsxs)(ec,{className:"flex items-center gap-2 hover:cursor-pointer",onClick:()=>d(s),children:[(0,r.jsx)(U.DTd,{})," ",c("unblockUser")]})]})]})]})},eu=a(58533),ep=a(86250),ex={src:"/_next/static/media/no_chat_found.3fe6dd7c.svg",height:255,width:255,blurWidth:0,blurHeight:0},eh=a(16711),eg=e=>{let{audioSrc:t,fileName:a="audio-file.mp4"}=e,s=(0,o.m)(),[i,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(0),[m,u]=(0,l.useState)(0),[p,x]=(0,l.useState)(!1),[h,g]=(0,l.useState)(1),[f,v]=(0,l.useState)(!1),[y,j]=(0,l.useState)(1),N=(0,l.useRef)(null),w=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=N.current;if(!e||!t)return;let a=()=>{c(e.currentTime/e.duration*100)},r=()=>{u(e.duration)},s=()=>{n(!1),c(0)};return e.addEventListener("timeupdate",a),e.addEventListener("loadedmetadata",r),e.addEventListener("ended",s),()=>{e.removeEventListener("timeupdate",a),e.removeEventListener("loadedmetadata",r),e.removeEventListener("ended",s)}},[t]),(0,l.useEffect)(()=>{let e=N.current;e&&(e.playbackRate=y)},[y]),(0,r.jsxs)("div",{className:"flex w-full items-center rounded-full bg-gray-100",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{let e=N.current;i?e.pause():e.play(),n(!i)},className:"primaryBg mx-2 flex h-7 w-7 items-center justify-center rounded-full text-white focus:outline-none md:h-10 md:w-10","aria-label":i?"Pause":"Play",children:i?(0,r.jsx)(b.pkR,{className:"h-4 w-4 md:h-6 md:w-6"}):(0,r.jsx)(b.Hm_,{className:"h-4 w-4 md:h-6 md:w-6"})}),(0,r.jsx)("div",{ref:w,className:"relative mx-0 h-2 w-16 flex-grow cursor-pointer overflow-hidden rounded-full bg-gray-300 md:mx-3 md:w-20",onClick:e=>{let t=w.current,a=N.current;if(!t||!a||!a.duration)return;let r=t.getBoundingClientRect(),s=(e.clientX-r.left)/r.width*100;a.currentTime=s/100*a.duration,c(s)},children:(0,r.jsx)("div",{className:"transition-width primaryBg absolute left-0 top-0 h-full rounded-full duration-75",style:{width:"".concat(d,"%")}})}),(0,r.jsx)("button",{type:"button",onClick:()=>{let e=N.current;e&&(e.muted=!e.muted,x(!p))},className:"secondryTextColor mx-1 flex h-4 items-center justify-center md:mx-2 md:my-2 md:h-8 md:w-8","aria-label":p?"Unmute":"Mute",children:p?(0,r.jsx)(eh.rjS,{className:"h-5 w-5 md:h-6 md:w-6"}):(0,r.jsx)(eh.EE2,{className:"h-5 w-5 md:h-6 md:w-6"})}),(0,r.jsxs)(en,{children:[(0,r.jsx)(eo,{asChild:!0,children:(0,r.jsx)("button",{type:"button",className:"secondryTextColor flex h-6 w-6 items-center justify-center md:h-8 md:w-8",children:(0,r.jsx)(D.Z,{className:"h-4 w-4"})})}),(0,r.jsxs)(ed,{align:"end",children:[(0,r.jsxs)(ec,{onClick:()=>{if(!t)return;let e=document.createElement("a");e.href=t,e.download=a,document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"flex items-center gap-2",children:[(0,r.jsx)(b.tEr,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:s("download")})]}),(0,r.jsx)(ec,{disabled:!0,className:"cursor-default px-2 py-1 opacity-100",children:(0,r.jsx)("span",{className:"text-xs font-semibold",children:s("playbackSpeed")})}),[.5,.75,1,1.25,1.5,2].map(e=>(0,r.jsxs)(ec,{onClick:()=>j(e),className:"px-6 ".concat(y===e?"bg-gray-100 font-medium":""),children:[e,"x"]},e))]})]}),(0,r.jsx)("audio",{ref:N,src:t,preload:"metadata"})]})},ef=a(59795),ev=e=>{let{messages:t,activeChat:a,userData:s,hasMore:i,loadMore:n,isLoading:d,handleDeleteMessage:m}=e,u=(0,o.m)(),p=(0,v.dZ)(),[x,h]=(0,l.useState)(!1),[g,f]=(0,l.useState)(0),[y,j]=(0,l.useState)([]),b=(e,t)=>{j(e),f(t),h(!0)},N=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}),w=e=>{let t=new Date(e),a=new Date,r=new Date;if(r.setDate(a.getDate()-1),t.toDateString()===a.toDateString())return u("today");if(t.toDateString()===r.toDateString())return u("yesterday");let s=String(t.getDate()).padStart(2,"0"),l=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear();return"".concat(s,"-").concat(l,"-").concat(i)},_=(0,l.useMemo)(()=>{let e={};return t.forEach(t=>{let a=new Date(t.created_at).toDateString();e[a]||(e[a]=[]),e[a].push(t)}),Object.entries(e).map(e=>{let[t,a]=e;return{date:new Date(t),messages:a.sort((e,t)=>new Date(e.created_at)-new Date(t.created_at))}}).sort((e,t)=>t.date-e.date)},[t]),C=e=>{navigator.clipboard.writeText(e).then(()=>{V.ZP.success(u("messageCopiedSuccess"))})},k=(e,t)=>{let l=["png","jpg","jpeg","gif","webp"],i=["pdf","doc","docx"],n=e.sender_id===(null==s?void 0:s.id),o="file"===e.chat_message_type,d="audio"===e.chat_message_type,c="text"===e.chat_message_type,x="file_and_text"===e.chat_message_type,h=e.file&&"string"==typeof e.file&&l.some(t=>e.file.toLowerCase().endsWith(".".concat(t)))||e.file instanceof File&&l.some(t=>e.file.name.toLowerCase().endsWith(".".concat(t))),g=e.file&&"string"==typeof e.file&&i.some(t=>e.file.toLowerCase().endsWith(".".concat(t)))||e.file instanceof File&&i.some(t=>e.file.name.toLowerCase().endsWith(".".concat(t))),f=t=>{if(h){let a=e.file instanceof File?URL.createObjectURL(t):t;return(0,r.jsxs)("div",{className:"mb-2 overflow-hidden rounded-lg",children:[(0,r.jsx)("div",{className:"cursor-pointer",onClick:()=>{b([{src:a,alt:"Chat Image"}],0)},children:(0,r.jsx)(ee.Z,{src:a,alt:"Image",className:"h-[100px] w-[100px] object-fill sm:h-[150px] sm:w-[150px] md:h-[200px] md:w-full"})}),e.message&&(0,r.jsx)("p",{className:"mt-1",children:e.message})]})}if(!g)return null;{let a=e.file instanceof File?e.file.name:t.split("/").pop();return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"mb-1 flex items-center gap-2",children:[(0,r.jsx)("div",{className:"rounded bg-gray-200 p-2",children:(0,r.jsx)(ep.UuI,{className:"h-5 w-5"})}),(0,r.jsx)("span",{className:"cursor-pointer text-blue-500 underline",onClick:()=>window.open(t instanceof File?URL.createObjectURL(t):t,"_blank"),children:a})]}),e.message&&(0,r.jsx)("p",{children:e.message})]})}};return(0,r.jsxs)("div",{className:"flex items-start gap-3 ".concat(n?"justify-end":"justify-start"," mb-5"),children:[!n&&(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{children:(0,r.jsxs)(en,{children:[(0,r.jsx)(eo,{className:"focus:outline-none",children:(0,r.jsx)(O.FQA,{className:"text-sm text-gray-600"})}),(0,r.jsx)(ed,{align:p?"end":"start",className:"w-full",children:(0,r.jsx)(ec,{className:"hover:cursor-pointer",onClick:()=>C(e.message||e.text),children:u("copy")})})]})}),(0,r.jsx)("div",{className:"mr-2 flex h-6 w-6 items-center overflow-hidden rounded-full bg-gray-200 md:h-12 md:w-12",children:(0,r.jsx)(ee.Z,{src:null==a?void 0:a.profile,alt:null==a?void 0:a.name,className:"h-full w-full object-fill"})})]}),(0,r.jsxs)("div",{className:"flex w-auto max-w-[85%] flex-col md:max-w-[70%]",children:[(0,r.jsxs)("div",{className:"relative w-full rounded-lg p-1 text-base md:p-2 ".concat(n?'primaryBackgroundBg secondryTextColor ml-auto text-end after:absolute after:right-[-18px] after:top-[3px] after:border-[10px] after:border-transparent after:border-l-[var(--primary-background)] after:content-[""] md:after:right-[-24px] md:after:top-[10px] md:after:border-[12px]':'primaryBgLight before:absolute before:left-[-18px] before:top-[2px] before:border-[10px] before:border-transparent before:border-r-[#f6fafa] before:content-[""] md:before:left-[-29px] md:before:top-[8px] md:before:border-[15px]'),children:[d&&(0,r.jsx)("div",{className:"audio-player",children:"string"==typeof e.audio?(0,r.jsx)(eg,{audioSrc:e.audio}):e.audio instanceof Blob&&e.audio.type.startsWith("audio/")?(0,r.jsx)(eg,{audioSrc:URL.createObjectURL(e.audio)}):e.audio instanceof File&&e.audio.type.startsWith("audio/")?(0,r.jsx)(eg,{audioSrc:e.audio}):null}),o&&e.file?f(e.file):null,c&&(e.message||e.text)&&(0,r.jsx)("p",{className:"max-w-md whitespace-pre-wrap text-xs md:w-full md:text-base",children:e.message||e.text}),x&&e.file&&f(e.file)]}),(0,r.jsx)("span",{className:"".concat(n?"text-end":"text-start"," mt-1 text-[10px] text-xs text-gray-500"),children:N(e.created_at)})]}),n&&(null==s?void 0:s.profile)&&(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex h-8 w-8 items-center overflow-hidden rounded-full bg-gray-200 sm:h-10 sm:w-10 md:h-12 md:w-12",children:(0,r.jsx)(ee.Z,{src:(null==e?void 0:e.user_profile)||(null==s?void 0:s.profile),alt:"User",className:"h-full w-full object-fill"})}),(0,r.jsx)("div",{className:"",children:(0,r.jsxs)(en,{children:[(0,r.jsx)(eo,{className:"focus:outline-none",children:(0,r.jsx)(O.FQA,{className:"text-sm text-gray-600"})}),(0,r.jsxs)(ed,{align:p?"start":"end",className:"w-full",children:[(0,r.jsx)(ec,{className:"hover:cursor-pointer",onClick:()=>m(e),children:u("deleteMessage")}),(0,r.jsx)(ec,{className:"hover:cursor-pointer",onClick:()=>C(e.message||e.text),children:u("copy")})]})]})})]})]},t)},S=e=>(0,r.jsx)("div",{className:"flex justify-center my-4",children:(0,r.jsx)("div",{className:"px-4 py-1 bg-gray-100 rounded-full text-xs text-gray-600 shadow-sm",children:e})},e),B=(e,t)=>(0,r.jsxs)("div",{children:[S(w(e.date)),e.messages.map((e,a)=>k(e,"".concat(t,"-").concat(a)))]},"group-".concat(t)),A=(0,r.jsx)("div",{className:"py-2",children:(0,r.jsx)(et.Uf,{count:3})});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{id:"scrollableDiv",className:"flex h-full w-full flex-col-reverse space-y-4 overflow-y-auto px-2 md:px-6 md:py-8",children:(null==t?void 0:t.length)>0?(0,r.jsx)(eu.Z,{dataLength:t.length,next:n,className:"flex !h-full flex-col-reverse",inverse:!0,hasMore:i,loader:A,scrollableTarget:"scrollableDiv",children:_.map((e,t)=>B(e,t))}):d?(0,r.jsx)(et.Uf,{count:6}):(0,r.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center gap-6",children:[(0,r.jsx)(c(),{width:0,height:0,src:ex,alt:"No Chat Found",className:"h-min w-min"}),(0,r.jsx)("p",{className:"primaryColor text-2xl font-medium",children:u("startChat")})]})}),(0,r.jsx)(ef.Z,{photos:y,viewerIsOpen:x,currentImage:g,onClose:()=>h(!1),setCurrentImage:f,title_image:null,isProject:!1})]})},ey=a(30303),ej=a(14696),eb=a(14003),eN=a(39970),ew=e=>{let{isOpen:t,onClose:a,onConfirm:s,reason:l,setReason:i,activeChat:n}=e,d=(0,o.m)();return(0,r.jsx)(eN.Vq,{open:t,onOpenChange:a,children:(0,r.jsx)(eN.cZ,{children:(0,r.jsxs)(eN.fK,{children:[(0,r.jsxs)(eN.$N,{children:[(0,r.jsx)("h2",{children:d("areYouSureBlock")}),(0,r.jsx)("div",{className:"text-sm mt-4",children:d("blockUserConfirmation")})]}),(0,r.jsx)(eN.Be,{className:"sr-only",children:d("blockUserConfirmation")}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 mt-6",children:[(0,r.jsx)("textarea",{className:"w-full p-2 newBorder primaryBackgroundBg rounded-md focus:outline-none resize-none",placeholder:"".concat(d("reason")," ").concat(d("optional")),value:l,onChange:e=>i(e.target.value),rows:4}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)("button",{className:"px-4 py-2 primaryBackground border brandBorder rounded-md",onClick:a,children:d("cancel")}),(0,r.jsx)("button",{className:"px-4 py-2 primaryBg text-white rounded-md",onClick:()=>{s(n),i(""),a()},children:d("ok")})]})]})]})})})},e_=e=>{var t;let{notificationData:a,setNotification:i}=e,d=(0,s.useRouter)(),u=null==d?void 0:d.query,{locale:p}=null==d?void 0:d.query,x=(0,o.m)(),h=(0,eb.d)(),g=(0,N.I0)(),f=(0,N.v9)(e=>{var t;return null===(t=e.User)||void 0===t?void 0:t.data}),v=(0,N.v9)(e=>{var t;return null===(t=e.cacheData)||void 0===t?void 0:t.cacheChat}),y=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),[j,b]=(0,l.useState)(null),[w,_]=(0,l.useState)([]),[C,k]=(0,l.useState)([]),[S,B]=(0,l.useState)(""),[A,D]=(0,l.useState)(!0),[P,T]=(0,l.useState)(!0),[F,I]=(0,l.useState)(!1),[E,R]=(0,l.useState)(null),[L,M]=(0,l.useState)(0),[Z,z]=(0,l.useState)(!1),U=(0,l.useRef)(null),q=(0,l.useRef)([]),[K,W]=(0,l.useState)(null),[Y,Q]=(0,l.useState)(!1),[J,G]=(0,l.useState)(!1),[$,X]=(0,l.useState)(!1),[ee,er]=(0,l.useState)(""),es=()=>(0,r.jsxs)("svg",{className:"primaryColor h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),el=e=>{_(t=>[...t,e])},ei=async()=>{if(Z){var e;null===(e=U.current)||void 0===e||e.stop(),z(!1)}else{if(!(await navigator.mediaDevices.enumerateDevices()).some(e=>"audioinput"===e.kind)){H().fire({title:x("noMicroPhoneFound"),text:x("pleaseConnectAMircoPhone"),icon:"warning",confirmButtonText:x("ok")});return}try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e,{mimeType:"audio/mp4"});U.current=t,q.current=[],t.ondataavailable=e=>{e.data.size>0&&q.current.push(e.data)},t.onstop=()=>{let e=new Blob(q.current,{type:"audio/mp4"});W(e)},t.start(400),z(!0)}catch(e){console.error("Microphone access denied or error:",e)}}},en=async e=>{if(e&&!F)try{I(!0);let r=await (0,m.zQ)({user_id:e.user_id,property_id:e.property_id,page:0,per_page:10});if(null==r?void 0:r.error)console.error("Error in fetching chat messages",null==r?void 0:r.message),k([]);else{var t,a;let e=null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.data.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));k(e),M(0),T((null==r?void 0:null===(a=r.data)||void 0===a?void 0:a.data.length)===10)}}catch(e){console.error("Error in fetching chat messages",e),k([])}finally{I(!1)}},eo=async e=>{if(e&&!F)try{I(!0);let r=await (0,m.zQ)({user_id:e.user_id,property_id:e.property_id,page:0,per_page:10});if(null==r?void 0:r.error)console.error("Error in fetching chat messages",null==r?void 0:r.message),k([]);else{var t,a;let e=null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.data.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));k(e),M(0),T((null==r?void 0:null===(a=r.data)||void 0===a?void 0:a.data.length)===10)}}catch(e){console.error("Error in fetching chat messages",e),k([])}finally{I(!1)}};(0,l.useEffect)(()=>((async()=>{try{D(!0);let e=await (0,m.fk)();if(null==e?void 0:e.error)console.error("Error in fetching chat lists",null==e?void 0:e.message),_([]);else{let t=null==e?void 0:e.data;(null==t?void 0:t.length)>0?_(t):(_([]),Q(!0));let a=null==u?void 0:u.propertyId,r=null==u?void 0:u.userId,s=a&&r?null==t?void 0:t.find(e=>e.property_id.toString()===a&&e.user_id.toString()===r):null==t?void 0:t[0];s&&b(s),v&&(el(v),b(v),d.push("/".concat(p,"/user/chat?propertyId=").concat(null==v?void 0:v.property_id,"&userId=").concat(null==v?void 0:v.user_id)))}}catch(e){console.error("Error in fetching chat lists",e),_([])}finally{D(!1)}})(),()=>{g((0,ej.Uq)(null))}),[y]),(0,l.useEffect)(()=>{j&&(k([]),M(0),T(!0),B(""),R(null),en(j))},[j]),(0,l.useEffect)(()=>{if(j){let t=null==u?void 0:u.propertyId,a=null==u?void 0:u.userId;if(t!==j.property_id.toString()||a!==j.user_id.toString()){var e;d.push("/".concat(null==d?void 0:null===(e=d.query)||void 0===e?void 0:e.locale,"/user/chat?propertyId=").concat(j.property_id,"&userId=").concat(j.user_id))}}},[j]),(0,l.useEffect)(()=>{if(a){if((null==a?void 0:a.type)==="delete_message"&&(null==a?void 0:a.message_id)){k(e=>e.filter(e=>e.id!==parseInt(null==a?void 0:a.message_id)));return}let e={sender_id:parseInt(a.sender_id),user_id:parseInt(a.sender_id),receiver_id:parseInt(a.receiver_id),property_id:parseInt(a.property_id),title:a.title,title_image:a.property_title_image,chat_message_type:a.chat_message_type,profile:null==a?void 0:a.sender_profile,user_profile:null==a?void 0:a.user_profile,message:a.message,file:a.file,unread_count:1,audio:a.audio,created_at:a.created_at,name:a.sender_name};((null==j?void 0:j.property_id)!==parseInt(a.property_id)||(null==j?void 0:j.user_id)!==parseInt(a.sender_id))&&_(t=>void 0===t.find(e=>e.property_id===parseInt(a.property_id)&&e.user_id===parseInt(a.sender_id))?[...t,e]:t.map(e=>e.property_id===parseInt(a.property_id)&&e.user_id===parseInt(a.sender_id)?{...e,unread_count:e.unread_count+1}:e)),(null==u?void 0:u.userId)===a.sender_id&&(null==u?void 0:u.propertyId)===a.property_id&&k(t=>[e,...t].sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()))}},[a]);let ed=async()=>{if(!j||F||!P)return;I(!0);let e=L+1;try{let l=await (0,m.zQ)({user_id:null==j?void 0:j.user_id,property_id:null==j?void 0:j.property_id,page:e,per_page:10});if(null==l?void 0:l.error)console.error("Error in fetching more chat messages",null==l?void 0:l.message),T(!1);else{var t,a,r,s;if((null==l?void 0:null===(a=l.data)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.length)>0){let t=l.data.data.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));k(e=>{let a=t.filter(t=>!e.some(e=>e.id===t.id)).sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));return[...e,...a]}),M(e),T((null==l?void 0:null===(s=l.data)||void 0===s?void 0:null===(r=s.data)||void 0===r?void 0:r.length)<10)}else T(!1)}}catch(e){console.error("Error in fetching more chat messages",e),T(!1)}finally{I(!1)}},ec=async()=>{H().fire({title:x("areYouSure"),text:x("areYouSureDeleteChat"),icon:"warning",showCancelButton:!0,confirmButtonText:x("yesDelete"),cancelButtonText:x("noDelete"),reverseButtons:!0,customClass:{confirmButton:"Swal-confirm-buttons",cancelButton:"Swal-cancel-buttons"}}).then(async e=>{if(e.isConfirmed){let e=await (0,m._)({sender_id:null==f?void 0:f.id,receiver_id:null==j?void 0:j.user_id,property_id:null==j?void 0:j.property_id});(null==e?void 0:e.error)||(H().fire({title:x("deleted"),text:e.message,icon:"success",customClass:{confirmButton:"Swal-confirm-buttons",cancelButton:"Swal-cancel-buttons"}}),_(e=>{let t=e.filter(e=>!(e.property_id===j.property_id&&e.user_id===j.user_id));if(t.length>0){let e=t[0];b(e),en(e)}else b(null),k([]);return t}),1===w.length&&d.push("/"))}else console.error("Error deleting chat:",error),V.ZP.error(x("errorDeletingChat"))})},eu=async e=>{try{let t=await (0,m._)({message_id:null==e?void 0:e.id,receiver_id:null==e?void 0:e.receiver_id});(null==t?void 0:t.error)?console.error("Error deleting message",null==t?void 0:t.message):k(t=>t.filter(t=>t.id!==e.id))}catch(e){console.error("Error deleting message",e)}},ep=e=>{var t;if(g((0,ej.Uq)(null)),(null==j?void 0:j.property_id)===(null==e?void 0:e.property_id)&&(null==j?void 0:j.user_id)===(null==e?void 0:e.user_id))return;b(e),_(t=>t.map(t=>t.property_id===(null==e?void 0:e.property_id)&&t.user_id===(null==e?void 0:e.user_id)?{...t,unread_count:0}:t));let a=null==e?void 0:e.property_id,r=null==e?void 0:e.user_id;d.push("/".concat(null==d?void 0:null===(t=d.query)||void 0===t?void 0:t.locale,"/user/chat?propertyId=").concat(a,"&userId=").concat(r))},eh=(0,l.useRef)(j),ef=(0,l.useRef)(C),eN=(0,l.useRef)(u);(0,l.useEffect)(()=>{eh.current=j},[j]),(0,l.useEffect)(()=>{ef.current=C},[C]),(0,l.useEffect)(()=>{eN.current=u},[u]);let e_=e=>{let t=parseInt(null==e?void 0:e.message_id);if((null==e?void 0:e.type)==="delete_message"&&t){k(e=>e.filter(e=>e.id!==t));return}let a=parseInt((null==e?void 0:e.property_id)||"0"),r=parseInt((null==e?void 0:e.sender_id)||"0"),s={sender_id:r,user_id:r,receiver_id:parseInt((null==e?void 0:e.receiver_id)||"0"),property_id:a,chat_message_type:null==e?void 0:e.chat_message_type,user_profile:null==e?void 0:e.user_profile,profile:null==e?void 0:e.sender_profile,name:null==e?void 0:e.sender_name,title:null==e?void 0:e.title,title_image:null==e?void 0:e.property_title_image,message:null==e?void 0:e.message,file:null==e?void 0:e.file,unread_count:1,audio:null==e?void 0:e.audio,created_at:null==e?void 0:e.created_at},l=eN.current,i=parseInt(l.propertyId||"0"),n=parseInt(l.userId||"0"),o=eh.current;ef.current,(null==o?void 0:o.property_id)===a&&(null==o?void 0:o.user_id)===r&&i===a&&n===r?k(e=>{let t=e.length?Math.max(...e.map(e=>e.id||0))+1:1;return[...e,{...s,id:t}].sort((e,t)=>new Date(t.created_at)-new Date(e.created_at))}):_(e=>void 0===e.find(e=>e.property_id===a&&e.user_id===r)?[...e,s]:e.map(e=>e.property_id===a&&e.user_id===r?{...e,unread_count:(e.unread_count||0)+1}:e))};(0,l.useEffect)(()=>{var e;let t=e=>{var t,a;(null===(t=e.data)||void 0===t?void 0:t.type)==="NOTIFICATION_RECEIVED"&&e_(null===(a=e.data.payload)||void 0===a?void 0:a.data)};return(null===(e=navigator)||void 0===e?void 0:e.serviceWorker)&&navigator.serviceWorker.addEventListener("message",t),()=>{var e;(null===(e=navigator)||void 0===e?void 0:e.serviceWorker)&&navigator.serviceWorker.removeEventListener("message",t)}},[]);let eC=async e=>{let t;e.preventDefault();let a=null==S?void 0:S.trim(),r=E&&E.type.startsWith("audio/");if(r&&a)t="file_and_text";else if(r)t="audio";else if(a&&E)t="file_and_text";else if(a)t="text";else if(E)t="file";else if(K)t="audio";else{V.ZP.error(x("sendMessageError"));return}if("text"===t&&!S.trim())return V.ZP.error(x("sendMessageError"));let s={id:"",sender_id:null==f?void 0:f.id,receiver_id:null==j?void 0:j.user_id,property_id:null==j?void 0:j.property_id,chat_message_type:t,message:S,file:"file"===t||"file_and_text"===t?r?null:E:null,audio:K||(r?E:null),created_at:new Date().toISOString()};try{G(!0);let e=await (0,m.zK)(s);if(e.error)V.ZP.error(null==e?void 0:e.message);else{var l,i;let t=null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(l=i.data)||void 0===l?void 0:l.id,a=[...C,{...s,id:t}].sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));k(a),B(""),R(null),W(null),z(!1)}}catch(e){console.error("Error in sending message",e)}finally{G(!1)}},ek=async e=>{try{let t=(null==e?void 0:e.user_id)===0;if(e){let a=await (0,m.Hg)({to_user_id:t?"":null==e?void 0:e.user_id,to_admin:t?"1":"",reason:ee||""});if(null==a?void 0:a.error)console.error("Error in blocking user",null==a?void 0:a.message),V.ZP.error(x(null==a?void 0:a.message));else{V.ZP.success(x(null==a?void 0:a.message));let t=w.find(t=>t.user_id===(null==e?void 0:e.user_id));t?(_(t=>t.map(t=>t.user_id===e.user_id?{...t,is_blocked_by_me:!0}:t)),t.is_blocked_by_me=!0,b(t)):(console.error("User not found in chat list"),V.ZP.error(x(null==a?void 0:a.message)))}}}catch(e){console.error("Error in blocking user",e),V.ZP.error(x(null==e?void 0:e.message)||x("errorBlockingUser"))}},eS=async e=>{try{let t=(null==e?void 0:e.user_id)===0;if(e){let a=await (0,m.tH)({to_user_id:t?"":null==e?void 0:e.user_id,to_admin:t?"1":""});if(null==a?void 0:a.error)console.error("Error in unblocking user",null==a?void 0:a.message),V.ZP.error(x(null==a?void 0:a.message));else{V.ZP.success(x(null==a?void 0:a.message));let t=w.find(t=>t.user_id===(null==e?void 0:e.user_id));t?(_(t=>t.map(t=>t.user_id===e.user_id?{...t,is_blocked_by_me:!1}:t)),t.is_blocked_by_me=!1,b(t)):(console.error("User not found in chat list"),V.ZP.error(x(null==a?void 0:a.message)))}}}catch(e){console.error("Error in unblocking user",e),V.ZP.error(x(null==e?void 0:e.message)||x("errorUnblockingUser"))}};return(0,r.jsxs)("div",{className:"flex h-[700px] min-h-[90%] flex-col",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"secondryTextColor pb-4 pt-2 text-2xl font-semibold",children:x("messages")})}),A?(0,r.jsx)(et.L6,{isMobile:h}):(0,r.jsxs)("div",{className:"flex h-full w-full bg-white",children:[(null==w?void 0:w.length)>0&&(!h||h&&!Y)&&(0,r.jsx)("div",{className:"w-full overflow-y-auto ltr:border-r rtl:border-l sm:w-1/3",children:(0,r.jsx)(ea,{conversations:w,loading:A,activeChat:j,handleSelectChat:e=>{ep(e),Q(!0)}})}),(!h||h&&Y)&&(0,r.jsx)("div",{className:"flex w-full flex-col",children:F&&!C.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(et.ih,{isMobile:h}),(0,r.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,r.jsx)(et.Uf,{count:6})}),(0,r.jsx)(et.nR,{isMobile:h})]}):j||(null==u?void 0:u.propertyId)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(em,{isMobile:h,handleBackToChatList:()=>Q(!1),activeChat:j,handleDeleteChat:ec,handleReloadChat:eo,handleBlockUser:()=>X(!0),handleUnblockUser:eS}),(0,r.jsx)(ev,{messages:C,activeChat:j,userData:f,hasMore:P,loadMore:ed,isLoading:F,handleDeleteMessage:eu}),(null==j?void 0:j.is_blocked_by_me)?(0,r.jsx)("div",{className:"flex items-center bg-white newBorder justify-center border px-3 py-2 text-center",children:(0,r.jsx)("p",{className:"secondryTextColor",children:x("youHaveBlockedUser")})}):(null==j?void 0:j.is_blocked_by_user)?(0,r.jsx)("div",{className:"bg-white  newBorder flex items-center justify-center border-t px-3 py-2 text-center",children:(0,r.jsx)("p",{className:"secondryTextColor",children:x("userHavebeenBlockedYou")})}):(0,r.jsxs)("form",{onSubmit:eC,className:"primaryBackgroundBg m-3 rounded-lg relative flex flex-col gap-3 p-3",children:[E&&(0,r.jsxs)("div",{className:"primaryBackgroundBg absolute bottom-[110px] left-3 rounded-lg border p-2 md:bottom-[70px]",children:[(null==E?void 0:null===(t=E.type)||void 0===t?void 0:t.startsWith("image/"))?(0,r.jsx)(c(),{src:URL.createObjectURL(E),alt:E.name,className:"h-[150px] w-full rounded-lg",width:0,height:0}):(0,r.jsx)("span",{children:E.name}),(0,r.jsx)("button",{type:"button",onClick:()=>R(null),className:"secondaryTextBg absolute -right-2 -top-2 rounded-full text-white",children:(0,r.jsx)(ey.abH,{className:"h-5 w-5"})})]}),(0,r.jsxs)("div",{className:"flex w-full flex-row gap-2 md:gap-3 md:hidden",children:[(0,r.jsxs)("label",{htmlFor:"fileInputMobile",className:"brandBg flex px-2 md:px-3 md:py-2 items-center hover:primaryBg justify-center rounded-md hover:cursor-pointer",children:[(0,r.jsx)(O.qzI,{className:"h-5 w-5 text-white rotate-90"}),(0,r.jsx)("input",{id:"fileInputMobile",type:"file",onChange:e=>R(e.target.files[0]),className:"hidden"})]}),K&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-full rounded-lg border p-2",children:(0,r.jsx)(eg,{audioSrc:URL.createObjectURL(K)})}),(0,r.jsx)("button",{type:"button",onClick:()=>W(null),className:"secondaryTextBg absolute -right-[20px] -top-[20px] -translate-x-1/2 translate-y-1/2 rounded-full text-white",children:(0,r.jsx)(ey.abH,{className:"h-5 w-5"})})]}),(0,r.jsx)("input",{type:"text",placeholder:x("typeYourMessage"),value:S,onChange:e=>B(e.target.value),className:"w-full rounded-md md:rounded-full border-none p-1 focus:outline-none focus:ring-0"}),(0,r.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,r.jsx)(n.z,{type:"button",size:"icon",onClick:ei,variant:"outline",className:"secondryTextColor hover:brandBg border border-black hover:text-white h-10 ".concat(Z?"bg-red-600 text-white":""),children:(0,r.jsx)(O.Ln0,{className:"h-5 w-5"})}),(0,r.jsx)("button",{type:"submit",disabled:J,className:"flex h-10 w-fit items-center gap-1 rounded-lg bg-primary px-3 py-2 text-white hover:primaryBg",children:J?(0,r.jsx)(es,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(O.pzg,{className:"h-4 w-4 rtl:-rotate-90"})})})]})]}),(0,r.jsxs)("div",{className:"hidden w-full gap-3 md:flex md:flex-row md:items-center",children:[(0,r.jsxs)("label",{htmlFor:"fileInputDesktop",className:"brandBg flex px-3 py-2 hover:primaryBg items-center justify-center rounded-md hover:cursor-pointer",children:[(0,r.jsx)(O.qzI,{className:"h-5 w-5 text-white rotate-90"}),(0,r.jsx)("input",{id:"fileInputDesktop",type:"file",onChange:e=>R(e.target.files[0]),className:"hidden"})]}),(0,r.jsx)("input",{type:"text",placeholder:x("typeYourMessage"),value:S,onChange:e=>B(e.target.value),className:"w-full rounded-full border-none p-1.5 focus:outline-none focus:ring-0"}),(0,r.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,r.jsx)(n.z,{type:"button",size:"icon",onClick:ei,variant:"outline",className:"secondryTextColor h-10 w-10 ".concat(Z?"primaryBg text-white":""),children:(0,r.jsx)(O.Ln0,{className:"h-5 w-5"})}),(0,r.jsx)("button",{type:"submit",disabled:J,className:"flex h-10 w-fit items-center gap-1 rounded-lg bg-primary px-3 py-2 text-white hover:bg-primary/90",children:J?(0,r.jsx)(es,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:x("send")}),(0,r.jsx)(O.pzg,{className:"h-4 w-4 rtl:-rotate-90"})]})})]})]})]})]}):(null==w?void 0:w.length)!==0||A||j||(null==u?void 0:u.propertyId)?(0,r.jsx)("div",{className:"flex flex-1 items-center justify-center text-center",children:(0,r.jsx)("p",{className:"secondryTextColor",children:x("selectConversationToStartChatting")})}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 h-full",children:[(0,r.jsx)(c(),{width:0,height:0,src:ex,alt:"No Chat Found",className:"h-[200px] w-[200px] md:h-[300px] md:w-[300px]"}),(0,r.jsx)("p",{className:"primaryColor text-2xl font-medium",children:x("noChatsAvailable")})]})})]}),$&&(0,r.jsx)(ew,{isOpen:$,onClose:()=>X(!1),onConfirm:ek,reason:ee,activeChat:j,setReason:er})]})},eC=a(56286);let ek=l.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,P.cn)("flex min-h-[60px] w-full rounded-md bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});ek.displayName="Textarea";var eS=a(96606),eB=a(9320),eA=a(91115),eD=a(92100),eP=a(77983);a(29758);var eT=a(93791),eF=a(98310),eI=()=>{let e=(0,o.m)(),t=(0,N.I0)(),a=(0,N.v9)(e=>{var t;return null===(t=e.User)||void 0===t?void 0:t.data}),s=(0,N.v9)(e=>{var t;return null===(t=e.WebSetting)||void 0===t?void 0:t.data});(0,l.useEffect)(()=>{(null==a?void 0:a.latitude)&&(null==a?void 0:a.longitude)&&d(a.latitude,a.longitude)},[a]),(0,l.useEffect)(()=>{i()},[]);let i=async()=>{try{let e=await (0,m.jI)();e.data&&t((0,eA.Lj)({data:e.data}))}catch(e){console.error("Error fetching user data:",e)}},d=async(t,a)=>{try{var r;let e=await (0,m.yq)({latitude:t.toString(),longitude:a.toString(),place_id:""});if((null==e?void 0:e.error)===!1&&(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.result)&&e.data.result){let r=e.data.result,s=(0,v.$K)(r),l=s.formattedAddress||r.formatted_address||"".concat(t.toFixed(6),", ").concat(a.toFixed(6));y(e=>({...e,location:l,city:s.city||e.city,state:s.state||e.state,country:s.country||e.country}))}else{console.warn("No valid results from reverse geocoding API:",e);let r="".concat(t.toFixed(6),", ").concat(a.toFixed(6));y(e=>({...e,location:r}))}}catch(s){console.error("Error fetching address:",s);let r="".concat(t.toFixed(6),", ").concat(a.toFixed(6));y(e=>({...e,location:r})),V.ZP.error(e("locationError"))}},[c,u]=(0,l.useState)(!1),[p,x]=(0,l.useState)(!1),[h,g]=(0,l.useState)(!1),[f,y]=(0,l.useState)({firstName:(null==a?void 0:a.name)||"",email:(null==a?void 0:a.email)||"",phoneNumber:(null==a?void 0:a.country_code)?"+".concat(null==a?void 0:a.country_code).concat(null==a?void 0:a.mobile):(null==a?void 0:a.mobile)||"",location:"",latitude:(null==a?void 0:a.latitude)||null,longitude:(null==a?void 0:a.longitude)||null,address:(null==a?void 0:a.address)||"",city:(null==a?void 0:a.city)||"",state:(null==a?void 0:a.state)||"",country:(null==a?void 0:a.country)||"",about_me:(null==a?void 0:a.about_me)||"",facebook_id:(null==a?void 0:a.facebook_id)||"",instagram_id:(null==a?void 0:a.instagram_id)||"",youtube_id:(null==a?void 0:a.youtube_id)||"",twiiter_id:(null==a?void 0:a.twiiter_id)||""}),[j,b]=(0,l.useState)(null),[w,_]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(null==a?void 0:a.profile){if(a.profile.includes("googleusercontent.com")){var e;a.name&&(null==a||null===(e=a.name)||void 0===e||e.charAt(0).toUpperCase()),b(a.profile)}else b(a.profile)}},[null==a?void 0:a.profile,null==a?void 0:a.name]);let C=e=>{let{name:t,value:a}=e.target;y(e=>({...e,[t]:a}))},k=eT.PhoneNumberUtil.getInstance(),B=async a=>{let r;if(null==a||a.preventDefault(),g(!0),null==s?void 0:s.demo_mode)return H().fire({title:e("oops"),text:e("notAllowdDemo"),icon:"warning",showCancelButton:!1,customClass:{confirmButton:"Swal-confirm-buttons",cancelButton:"Swal-cancel-buttons"},confirmButtonText:e("ok")}),g(!1),!1;if(!j){V.ZP.error(e("profilePictureRequired")),g(!1);return}if(!f.phoneNumber){V.ZP.error(e("phoneNumberIsRequired")),g(!1);return}if(!(0,v.ar)(f).isValid){V.ZP.error(e("invalidSocialMediaUrl")),g(!1);return}try{r=null==k?void 0:k.parseAndKeepRawInput(f.phoneNumber,"ZZ"),k.isValidNumber(r)}catch(t){if(null==t?void 0:t.message.includes("Invalid country calling code")){console.error("Invalid phone number format:",t),V.ZP.error(e("invalidCountryCode")),g(!1);return}V.ZP.error(e("invalidPhoneNumberFormat")),g(!1);return}let l=r.getCountryCode(),i=r.getNationalNumber().toString(),n={...f,profile:f.profileImage||void 0,...f.phoneNumber?{country_code:l}:{}};try{let a=await (0,m.n6)({...n,mobile:i,name:f.firstName});a.data&&t((0,eA.Lj)({data:a.data})),V.ZP.success(e("profileUpdatedSuccessfully"))}catch(t){console.error(t),V.ZP.error(e("profileUpdateFailed"))}finally{g(!1)}},A=e=>{let{children:t}=e;return(0,r.jsxs)("p",{className:"text-sm mb-2 flex items-center gap-1",children:[t,(0,r.jsx)("span",{className:"text-red-500",children:"*"})]})};return(0,r.jsxs)("form",{onSubmit:B,className:"w-full max-w-full space-y-2 sm:space-y-4",children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl font-semibold px-2 sm:px-0",children:e("myProfile")}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 sm:p-6 shadow-sm",children:[(0,r.jsx)("h2",{className:"text-base sm:text-lg font-medium mb-4 sm:mb-6 border-b border-gray-200 pb-2",children:e("personalInfo")}),(0,r.jsxs)("div",{className:"mb-4 sm:mb-6",children:[(0,r.jsx)(A,{children:e("profilePicture")}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-4",children:[(0,r.jsxs)("div",{className:"relative h-[100px] w-[100px] sm:h-[76px] sm:w-[76px] overflow-hidden rounded-lg bg-[#F7F7F7] border-2 border-dashed ".concat(j?"border-none":"border-gray-400"," focus-within:primaryBorderColor focus-within:ring-2 focus-within:ring-primary/20 transition-all duration-200"),tabIndex:"0",role:"button",onKeyDown:e=>"Enter"===e.key&&document.getElementById("profileImage").click(),children:[j?(0,r.jsx)(ee.Z,{src:j,alt:"Profile",className:"h-full w-full object-cover"}):(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:(0,r.jsx)(U.Xws,{size:30})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity cursor-pointer",onClick:()=>document.getElementById("profileImage").click(),children:(0,r.jsx)(eS.d7P,{size:24,className:"text-white"})})]}),(0,r.jsxs)("div",{className:"flex-1 text-center sm:text-left",children:[(0,r.jsx)(n.z,{type:"button",variant:"outline",className:"h-10 px-4 secondaryTextBg !text-white border-0 text-sm font-normal hover:primaryBg",onClick:()=>document.getElementById("profileImage").click(),children:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)(eS.d7P,{size:20}),e("uploadProfile")]})}),(0,r.jsx)("input",{id:"profileImage",name:"profileImage",type:"file",accept:"image/jpeg, image/png",onChange:e=>{let t=e.target.files[0];if(t){y(e=>({...e,profileImage:t}));let e=new FileReader;e.onloadend=()=>{b(e.result)},e.readAsDataURL(t)}},className:"hidden"}),(0,r.jsx)("p",{className:"text-[#FF0000] text-xs mt-2",children:e("profilePictureNote")})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(A,{children:e("firstName")}),(0,r.jsx)(eC.I,{name:"firstName",value:f.firstName,onChange:C,placeholder:e("enterFirstName"),className:"h-10 sm:h-12 bg-[#F7F7F7] border-0 rounded focus-visible:!primaryBorderColor focus-visible:!ring-2 focus-visible:!ring-primary/20 transition-all duration-200",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(A,{children:e("email")}),(0,r.jsx)(eC.I,{name:"email",type:"email",value:f.email,onChange:C,disabled:(null==a?void 0:a.logintype)!="1",placeholder:e("enterEmail"),className:"h-10 sm:h-12 bg-[#F7F7F7] border-0 rounded focus-visible:!primaryBorderColor focus-visible:!ring-2 focus-visible:!ring-primary/20 transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-70",required:!0})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(A,{children:e("phoneNumber")}),(0,r.jsx)(eP.ZP,{defaultCountry:"KE",international:!0,showCountrySelect:!1,value:null==f?void 0:f.phoneNumber,onChange:e=>{y({...f,phoneNumber:e})},className:"custom-phone-input user-profile",countrySelectProps:{arrowComponent:e=>{let{children:t,...a}=e;return(0,r.jsx)("span",{...a,className:"custom-arrow",children:(0,r.jsx)(ey.yQg,{size:16})})}},disabled:(null==a?void 0:a.logintype)=="1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"location",className:"text-sm mb-2",children:e("location")}),(0,r.jsxs)("div",{className:"flex gap-2 w-full custom-search-box",children:[(0,r.jsx)(eB.Z,{value:f.location,onChange:C,onPlaceSelect:(t,a)=>{try{if(t){let{city:e,state:a,country:r,formattedAddress:s}=(0,v.$K)(t),l=t.latitude,i=t.longitude;l&&i&&y(t=>({...t,location:s,city:e,state:a,country:r,latitude:l,longitude:i}))}}catch(t){V.ZP.error(e("locationError"))}},placeholder:e("searchLocation"),className:"h-10 p-2 sm:h-12 !w-full bg-[#F7F7F7] border-0 rounded focus:outline-none transition-all duration-200 focus-visible:!primaryBorderColor focus-visible:!ring-2 focus-visible:!ring-primary/20",showFindMyLocation:!0,debounceMs:1e3,maxResults:10,inputProps:{name:"location"}}),(0,r.jsx)(S.pn,{children:(0,r.jsxs)(S.u,{children:[(0,r.jsx)(S.aJ,{asChild:!0,children:(0,r.jsx)(n.z,{type:"button",variant:"outline",size:"icon",className:"h-10 sm:h-12 w-10 sm:w-12 bg-[#F7F7F7] border-0 hover:bg-[#F0F0F0] ".concat(c?"opacity-50 cursor-not-allowed":""),onClick:()=>{u(!0),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(async t=>{try{var a,r;let{latitude:e,longitude:s}=t.coords,l=await (0,m.yq)({latitude:e.toString(),longitude:s.toString(),place_id:""});if((null==l?void 0:l.error)===!1&&(null==l?void 0:null===(a=l.data)||void 0===a?void 0:a.result)){let t=l.data.result,a=(0,v.$K)(t),i=(null===(r=l.data.result)||void 0===r?void 0:r.formatted_address)||t.formatted_address||"".concat(e.toFixed(6),", ").concat(s.toFixed(6));y(t=>({...t,location:i,city:a.city||t.city,state:a.state||t.state,country:a.country||t.country,latitude:e,longitude:s}))}else{console.warn("No valid results from current location reverse geocoding");let t="".concat(e.toFixed(6),", ").concat(s.toFixed(6));y(a=>({...a,location:t,latitude:e,longitude:s}))}u(!1)}catch(l){console.error("Error in reverse geocoding:",l);let{latitude:a,longitude:r}=t.coords,s="".concat(a.toFixed(6),", ").concat(r.toFixed(6));y(e=>({...e,location:s,latitude:a,longitude:r})),V.ZP.error(e("locationError")),u(!1)}},t=>{console.error("Geolocation error:",t),V.ZP.error(e("locationPermissionDenied")),u(!1)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):(V.ZP.error(e("locationNotSupported")),u(!1))},children:(0,r.jsx)(eh.Q7h,{className:"w-4 h-4 sm:w-5 sm:h-5 ".concat(c?"animate-pulse":"")})})}),(0,r.jsx)(S._v,{children:(0,r.jsx)("p",{children:e("currentLocation")})})]})})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(A,{children:e("address")}),(0,r.jsx)(ek,{name:"address",value:f.address,onChange:C,placeholder:e("enterYourAddress"),className:"min-h-[100px] sm:min-h-[120px] bg-[#F7F7F7] border-0 rounded resize-none focus-visible:!primaryBorderColor focus-visible:!ring-2 focus-visible:!ring-primary/20 transition-all duration-200",required:!0})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 sm:p-6 shadow-sm",children:[(0,r.jsx)("h2",{className:"text-base sm:text-lg font-medium mb-4 sm:mb-6 border-b border-gray-200 pb-2",children:e("about")}),(0,r.jsx)(eF._,{htmlFor:"about_me",children:e("aboutMe")}),(0,r.jsx)(ek,{id:"about_me",name:"about_me",value:f.about_me,onChange:C,placeholder:e("enterAboutMe"),className:"min-h-[250px] sm:min-h-[400px] bg-[#F7F7F7] border-0 rounded resize-none focus-visible:!primaryBorderColor focus-visible:!ring-2 focus-visible:!ring-primary/20 transition-all duration-200"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 sm:p-6 shadow-sm mb-6",children:[(0,r.jsx)("h2",{className:"text-base sm:text-lg font-medium mb-4 sm:mb-6 border-b border-gray-200 pb-2",children:e("socialMedia")}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm mb-2",children:e("facebook")}),(0,r.jsx)(eC.I,{name:"facebook_id",value:f.facebook_id,onChange:C,placeholder:e("enterFacebookUrl"),className:"h-10 sm:h-12 bg-[#F7F7F7] border-0 rounded focus-visible:!primaryBorderColor focus-visible:!ring-2 focus-visible:!ring-primary/20 transition-all duration-200"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm mb-2",children:e("instagram")}),(0,r.jsx)(eC.I,{name:"instagram_id",value:f.instagram_id,onChange:C,placeholder:e("enterInstagramUrl"),className:"h-10 sm:h-12 bg-[#F7F7F7] border-0 rounded focus-visible:!primaryBorderColor focus-visible:!ring-2 focus-visible:!ring-primary/20 transition-all duration-200"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm mb-2",children:e("youtube")}),(0,r.jsx)(eC.I,{name:"youtube_id",value:f.youtube_id,onChange:C,placeholder:e("enterYoutubeUrl"),className:"h-10 sm:h-12 bg-[#F7F7F7] border-0 rounded focus-visible:!primaryBorderColor focus-visible:!ring-2 focus-visible:!ring-primary/20 transition-all duration-200"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm mb-2",children:e("twitter")}),(0,r.jsx)(eC.I,{name:"twiiter_id",value:f.twiiter_id,onChange:C,placeholder:e("enterTwitterUrl"),className:"h-10 sm:h-12 bg-[#F7F7F7] border-0 rounded focus-visible:!primaryBorderColor focus-visible:!ring-2 focus-visible:!ring-primary/20 transition-all duration-200"})]})]})]}),(0,r.jsx)("div",{className:"flex justify-center sm:justify-end",children:(0,r.jsx)(n.z,{type:"submit",className:"h-10 sm:h-12 w-full sm:w-auto px-4 sm:px-8 bg-black text-white rounded hover:opacity-90",disabled:h,children:h?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eD.Z,{}),e("updating")]}):e("updateProfile")})})]})},eE=a(61163),eR=a(21534),eL=a(68482);let eM=l.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsxs)(eL.fC,{ref:t,className:(0,P.cn)("relative flex w-full touch-none select-none items-center",a),...s,children:[(0,r.jsx)(eL.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,r.jsx)(eL.e6,{className:"absolute h-full primaryBg"})}),(0,r.jsx)(eL.bU,{className:"block h-5 w-5 rounded-full border border-primary/50 primaryBg shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:cursor-pointer"}),s.isTwoThumb&&(0,r.jsx)(eL.bU,{className:"block h-5 w-5 rounded-full border border-primary/50 primaryBg shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:cursor-pointer"})]})});eM.displayName=eL.fC.displayName;var eZ=()=>{let e=(0,o.m)(),t=(0,v.dZ)(),a=(0,N.v9)(e=>{var t;return null==e?void 0:null===(t=e.WebSetting)||void 0===t?void 0:t.data}),s=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),i=null==a?void 0:a.currency_symbol,n=(null==a?void 0:a.max_price)?null==a?void 0:a.max_price:"",d=(null==a?void 0:a.min_price)?null==a?void 0:a.min_price:"",[c,p]=(0,l.useState)([]),[x,h]=(0,l.useState)([]),[g,f]=(0,l.useState)([d,n]),[y,j]=(0,l.useState)(d),[b,w]=(0,l.useState)(n),[_,C]=(0,l.useState)({city:"",state:"",country:"",latitude:"",longitude:"",formattedAddress:""}),[k,S]=(0,l.useState)(""),[B,A]=(0,l.useState)("all"),[D,P]=(0,l.useState)(!0),[T,F]=(0,l.useState)([]),[I,E]=(0,l.useState)(!0),[R,L]=(0,l.useState)([]),[M,Z]=(0,l.useState)(!1),[z,O]=(0,l.useState)(!1);(0,l.useEffect)(()=>{U()},[s]);let U=async()=>{try{let t=await (0,m.xR)();if(!1===t.error&&t.data){let a=t.data;if(a.category_ids&&a.category_ids.length>0){let e=a.category_ids.map(e=>Number(e));p(e)}if(a.outdoor_facilitiy_ids&&a.outdoor_facilitiy_ids.length>0){let e=a.outdoor_facilitiy_ids.map(e=>Number(e));h(e)}if(a.price_range&&a.price_range.length>=2){let e=Number(a.price_range[0]),t=Number(a.price_range[1]);j(e),w(t),f([e,t])}if(void 0!==a.property_type){let e="all";"0"===a.property_type[0]?e="sell":"1"===a.property_type[0]&&(e="rent"),A(e)}a.city&&C(e=>({...e,city:a.city,formattedAddress:a.city})),O(!0),V.ZP.success(e(null==t?void 0:t.message))}}catch(t){console.error("Error fetching user interests:",t),V.ZP.error(e("errorFetchingInterests")||"Failed to load your preferences")}},q=async()=>{try{P(!0);let e=await (0,m.BH)({limit:100,offset:0});!1===e.error&&F(null==e?void 0:e.data),P(!1)}catch(e){console.error(e),P(!1)}},K=async()=>{try{E(!0);let e=await (0,m.DS)();!1===e.error&&L(null==e?void 0:e.data),E(!1)}catch(e){console.error(e),E(!1)}};(0,l.useEffect)(()=>{q(),K()},[s]);let W=e=>{c.includes(e)?p(c.filter(t=>t!==e)):p([...c,e])},H=e=>{x.includes(e)?h(x.filter(t=>t!==e)):h([...x,e])},Y=async t=>{t.preventDefault(),Z(!0);try{let t="".concat(y||g[0],",").concat(b||g[1]),a="";"sell"===B?a="0":"rent"===B&&(a="1");let r={category_ids:c.join(","),outdoor_facilitiy_ids:x.join(","),price_range:t,property_type:a,city:_.city||""},s=await (0,m.mo)(r);!1===s.error?V.ZP.success(e(null==s?void 0:s.message)):V.ZP.error(e(null==s?void 0:s.message))}catch(t){console.error("Error submitting interests:",t),V.ZP.error(e(null==t?void 0:t.message))}finally{Z(!1)}},Q=async()=>{Z(!0);try{let t=await (0,m._Q)();!1===t.error?(p([]),h([]),f([d,n]),j(d),w(n),C({city:"",state:"",country:"",latitude:"",longitude:"",formattedAddress:""}),A("all"),V.ZP.success(e(null==t?void 0:t.message))):V.ZP.error(t.message)}catch(t){console.error("Error resetting interests:",t),V.ZP.error(e("interestsResetError"))}finally{Z(!1)}},J=[{value:"all",label:e("all")},{value:"sell",label:e("sell")},{value:"rent",label:e("rent")}];return(0,r.jsxs)("div",{className:"w-full px-4 py-6 sm:px-6 md:px-8",children:[(0,r.jsx)("h2",{className:"mb-6 text-xl font-semibold text-gray-800",children:e("personalizeFeed")}),(0,r.jsxs)("div",{className:"rounded-lg bg-white p-4 shadow-sm sm:p-6",children:[(0,r.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,r.jsx)("h3",{className:"mb-3 text-base font-medium text-gray-700 sm:mb-4 sm:text-lg",children:e("chooseYourInterest")}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:D?Array(8).fill(0).map((e,t)=>(0,r.jsx)(u.O,{className:"h-10 w-20 rounded-full sm:w-24"},t)):T&&T.length>0?T.map(e=>(0,r.jsxs)("button",{className:"flex items-center rounded-full border px-3 py-2 text-xs transition-colors sm:text-sm ".concat(c.includes(e.id)?"primaryBg primaryBorderColor text-white":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"),onClick:()=>W(e.id),children:[c.includes(e.id)&&(0,r.jsx)(eE.ETl,{size:16,className:"mr-2 rtl:ml-2"}),(0,r.jsx)("span",{children:e.translated_name||e.category})]},e.id)):(null==T?void 0:T.length)===0&&(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e("noCategoriesFound")})})})]}),(0,r.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,r.jsx)("h3",{className:"mb-2 text-base font-medium text-gray-700 sm:text-lg",children:e("chooseNearbyPlaces")}),(0,r.jsx)("p",{className:"mb-3 text-xs text-gray-500 sm:mb-4 sm:text-sm",children:e("getRecommendationForPropertiesThatAreCloseToTheseLocations")}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:I?Array(8).fill(0).map((e,t)=>(0,r.jsx)(u.O,{className:"h-10 w-20 rounded-full sm:w-24"},t)):R&&R.length>0?R.map(e=>(0,r.jsxs)("button",{className:"flex items-center rounded-full border px-3 py-2 text-xs transition-colors sm:text-sm ".concat(x.includes(e.id)?"primaryBg primaryBorderColor text-white":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"),onClick:()=>H(e.id),children:[x.includes(e.id)&&(0,r.jsx)(eE.ETl,{size:16,className:"mr-2 rtl:ml-2"}),(0,r.jsx)("span",{children:e.translated_name||e.name})]},e.id)):(null==R?void 0:R.length)===0&&(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e("noFacilitiesFound")})})})]}),(0,r.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,r.jsx)("h3",{className:"mb-3 text-base font-medium text-gray-700 sm:mb-4 sm:text-lg",children:e("chooseYourPreferredLocationAndPropertyType")}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-600 sm:text-sm",children:e("selectLocation")}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(eB.Z,{value:_.formattedAddress||_.city,onChange:e=>C({..._,city:e,formattedAddress:e}),onPlaceSelect:e=>{e&&C({city:e.city||"",state:e.state||"",country:e.country||"",latitude:e.latitude||"",longitude:e.longitude||"",formattedAddress:e.formattedAddress||""})},placeholder:e("searchLocation"),className:"p-4 focus-visible:!primaryBorderColor h-10 w-full rounded border-0 bg-[#F7F7F7] transition-all duration-200 focus-visible:!ring-2 focus-visible:!ring-primary/20 sm:h-12 focus:outline-none"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-600 sm:text-sm",children:e("listingType")}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)(eR.Ph,{value:B,onValueChange:e=>A(e),dir:t?"rtl":"ltr",children:[(0,r.jsx)(eR.i4,{className:"h-10 w-full border-0 bg-[#F7F7F7] focus:ring-0 sm:h-12",children:(0,r.jsx)(eR.ki,{placeholder:e("selectListingType")})}),(0,r.jsx)(eR.Bw,{children:J.map(e=>(0,r.jsx)(eR.Ql,{value:e.value,children:e.label},e.value))})]})})]})]})]}),(0,r.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,r.jsx)("h3",{className:"mb-3 text-base font-medium text-gray-700 sm:mb-4 sm:text-lg",children:e("chooseTheBudgetForTheProperty")}),(0,r.jsxs)("div",{className:"mb-4 grid grid-cols-1 gap-4 sm:mb-6 sm:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-600 sm:text-sm",children:e("minPrice")}),(0,r.jsx)(eC.I,{type:"text",placeholder:i+" "+d,className:"focus-visible:!primaryBorderColor h-10 w-full rounded border-0 bg-[#F7F7F7] transition-all duration-200 focus-visible:!ring-2 focus-visible:!ring-primary/20 sm:h-12",value:y,onChange:e=>{let t=e.target.value;if(""===t||/^\d+$/.test(t)){let e=""===t?0:parseInt(t);j(e),f([e,g[1]])}}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-600 sm:text-sm",children:e("maxPrice")}),(0,r.jsx)(eC.I,{type:"text",placeholder:i+" "+n,className:"focus-visible:!primaryBorderColor h-10 w-full rounded border-0 bg-[#F7F7F7] transition-all duration-200 focus-visible:!ring-2 focus-visible:!ring-primary/20 sm:h-12",value:b,onChange:e=>{let t=e.target.value;if(""===t||/^\d+$/.test(t)){let e=""===t?0:parseInt(t);w(e),f([g[0],e])}}})]})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("div",{className:"mb-1 flex justify-between text-xs text-gray-600 sm:text-sm",children:(0,r.jsxs)("span",{children:[e("priceRange")," ",i," ",g[0],(0,r.jsxs)("span",{className:"ltr-number",children:[" ",e("to")," "]}),i,g[1]]})}),(0,r.jsx)("div",{className:"py-4",children:(0,r.jsx)(eM,{isTwoThumb:!0,defaultValue:[g[0],g[1]],value:[g[0],g[1]],max:n,min:0,step:1e3,onValueChange:e=>{let[t,a]=e;f([t,a]),j(t),w(a)},className:"my-4"})})]})]}),(0,r.jsxs)("div",{className:"mt-6 flex justify-end gap-2 sm:mt-8 sm:gap-3",children:[(0,r.jsx)("button",{type:"button",className:"rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-teal-700 focus:ring-offset-2 sm:px-4 sm:py-2 sm:text-sm",onClick:Q,disabled:M,children:M?e("processing"):e("clear")}),(0,r.jsx)("button",{type:"button",className:"primaryBg rounded-md px-3 py-1.5 text-xs font-bold text-white focus:outline-none focus:ring-2 focus:ring-teal-700 focus:ring-offset-2 sm:px-4 sm:py-2 sm:text-sm",onClick:Y,disabled:M,children:M?e("processing"):e("submit")})]})]})]})},ez=a(80708);let eO=e=>{let{count:t=3}=e;return(0,r.jsx)(ez.RM,{children:Array(t).fill(0).map((e,t)=>(0,r.jsxs)(ez.SC,{children:[(0,r.jsx)(ez.pj,{className:"py-4 px-2 sm:p-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-2 sm:gap-4",children:[(0,r.jsx)(u.O,{className:"h-14 w-14 sm:h-20 sm:w-20 rounded-md"}),(0,r.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,r.jsx)(u.O,{className:"h-4 w-20 sm:w-36"}),(0,r.jsx)(u.O,{className:"h-3 w-full max-w-[200px] sm:max-w-[350px]"})]})]})}),(0,r.jsx)(ez.pj,{className:"text-right py-4 px-2 sm:p-6 align-top",children:(0,r.jsx)(u.O,{className:"h-4 w-16 sm:w-24 ml-auto"})})]},t))})};var eU=()=>{let e=(0,o.m)(),[t,a]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[n,d]=(0,l.useState)(null),[c,u]=(0,l.useState)(1),[p,x]=(0,l.useState)(0),[h,g]=(0,l.useState)(!1),f=async()=>{try{d(null),h||i(!0);let t=await (0,m.bM)({limit:10,offset:(c-1)*10});t&&!t.error?(a(t.data||[]),x(t.total||0)):d((null==t?void 0:t.message)||e("failedToFetchNotifications"))}catch(t){console.error("Error fetching notifications:",t),d(e("somethingWentWrong"))}finally{i(!1),g(!1)}};(0,l.useEffect)(()=>{f()},[c]);let v=t=>{try{let a=new Date(t);if(isNaN(a.getTime()))return t;let r=a.getDate().toString().padStart(2,"0"),s=a.toLocaleDateString("en-US",{month:"long"}),l=a.getFullYear();return"".concat(r," ").concat(e(null==s?void 0:s.toLowerCase())," ").concat(l)}catch(e){return console.error("Error formatting date:",e),t}};return(0,r.jsxs)("div",{className:"space-y-2 sm:space-y-4 w-full",children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl font-semibold px-2 sm:px-0",children:e("userNotification")}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,r.jsxs)(ez.iA,{children:[(0,r.jsx)(ez.xD,{className:"bg-gray-50",children:(0,r.jsxs)(ez.SC,{children:[(0,r.jsx)(ez.ss,{className:"font-medium text-xs sm:text-base w-3/4 py-4 px-2 sm:p-6",children:e("notifications")}),(0,r.jsx)(ez.ss,{className:"font-medium text-xs sm:text-base text-center py-4 px-2 sm:p-6 w-1/4 min-w-[80px]",children:e("date")})]})}),s&&!h?(0,r.jsx)(eO,{count:5}):n?(0,r.jsx)(ez.RM,{children:(0,r.jsx)(ez.SC,{children:(0,r.jsx)(ez.pj,{colSpan:2,className:"p-6 text-center text-gray-500",children:n})})}):0===t.length?(0,r.jsx)(ez.RM,{children:(0,r.jsx)(ez.SC,{children:(0,r.jsx)(ez.pj,{colSpan:2,className:"p-0",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,r.jsx)(U.Z3q,{className:"text-gray-300 h-8 w-8 sm:h-12 sm:w-12 mb-4"}),(0,r.jsx)("p",{className:"text-gray-500",children:e("noNotificationsFound")})]})})})}):(0,r.jsx)(ez.RM,{className:"transition-opacity duration-200 ".concat(h?"opacity-50":"opacity-100"),children:t.map((t,a)=>(0,r.jsxs)(ez.SC,{className:"hover:bg-gray-50 transition-colors",children:[(0,r.jsx)(ez.pj,{className:"py-4 px-2 sm:p-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-2 sm:gap-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:t.notification_image?(0,r.jsx)(ee.Z,{src:t.notification_image,alt:t.title||"Notification",width:48,height:48,className:"rounded-md h-14 w-14 sm:h-20 sm:w-20 object-cover"}):(0,r.jsx)("div",{className:"h-14 w-14 sm:h-20 sm:w-20 rounded-md bg-gray-200 flex items-center justify-center",children:(0,r.jsx)(U.Z3q,{size:30})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 max-w-full overflow-hidden",children:[(0,r.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 truncate break-words",children:t.title||e("notification")}),(0,r.jsx)("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 line-clamp-2 sm:line-clamp-3 break-words",children:t.message||t.description||""})]})]})}),(0,r.jsx)(ez.pj,{className:"text-center py-4 px-2 sm:p-6 text-xs sm:text-sm text-gray-500 align-top whitespace-nowrap",children:v(t.date||t.created_at)})]},a))})]}),!s&&!n&&p>0&&(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsx)(j,{currentPage:c,totalItems:p,itemsPerPage:10,onPageChange:e=>{g(!0),u(e)},isLoading:h,translations:{showing:e("showing"),to:e("to"),of:e("of"),entries:e("entries")}})})]})]})},eq=a(81717),eV=a(10552),eK=a(28471),eW=a(82952);let eH={colors:{property:"#FF008A",project:"#0754FC",unused:"#f0f0f0",used:"#D3D3D3"},sizes:{strokeWidth:10,defaultRadius:45}},eY=e=>{let{radius:t,color:a,t:s}=e;return(0,r.jsx)(e0,{radius:t,centerText:s("unlimited"),caseNumber:"unlimited",children:(0,r.jsx)("circle",{cx:"50",cy:"50",r:t,fill:"none",stroke:a,strokeWidth:eH.sizes.strokeWidth,transform:"rotate(-90 50 50)"})})},eQ=e=>{let{radius:t,t:a}=e;return(0,r.jsx)(e0,{radius:t,centerText:"0/0",caseNumber:"empty",children:(0,r.jsx)("circle",{cx:"50",cy:"50",r:t,fill:"none",stroke:eH.colors.used,strokeWidth:eH.sizes.strokeWidth,transform:"rotate(-90 50 50)"})})},eJ=e=>{let{radius:t,caseNumber:a,t:s}=e;return(0,r.jsxs)(e0,{radius:t,centerText:s("unlimited"),caseNumber:a,children:[(0,r.jsx)(e1,{radius:t,color:eH.colors.property}),(0,r.jsx)(e1,{radius:t,color:eH.colors.project,rotate:!0})]})},eG=e=>{let{radius:t,propertyUsed:a,projectUsed:s,propertyLimit:l,projectLimit:i,isPropertyUnlimited:n,isProjectUnlimited:o,caseNumber:d,t:c}=e,m=Math.PI*t,u=o?100:100-s/i*100,p=n?c("unlimited"):"".concat(a,"/").concat(l),x=o?c("unlimited"):"".concat(s,"/").concat(i);return(0,r.jsxs)(e0,{radius:t,centerText:"".concat(p," | ").concat(x),caseNumber:d,children:[(0,r.jsx)(e2,{radius:t,color:eH.colors.property,percent:n?100:100-a/l*100,offset:0}),(0,r.jsx)(e2,{radius:t,color:eH.colors.project,percent:u,offset:m})]})},e$=e=>{let{radius:t,propertyUsed:a,projectUsed:s,propertyLimit:l,projectLimit:i,caseNumber:n}=e,o=l+i,d=a+s;if(0===a&&0===s)return(0,r.jsxs)(e0,{radius:t,centerText:"".concat(d,"/").concat(o),caseNumber:n,children:[(0,r.jsx)(e4,{radius:t,color:eH.colors.property,percent:50,offset:0}),(0,r.jsx)(e4,{radius:t,color:eH.colors.project,percent:50,offset:50})]});let c=(l-a)/o*100,m=(i-s)/o*100,u=d/o*100;return(0,r.jsxs)(e0,{radius:t,centerText:"".concat(d,"/").concat(o),caseNumber:n,children:[(0,r.jsx)(e4,{radius:t,color:eH.colors.property,percent:c,offset:0}),(0,r.jsx)(e4,{radius:t,color:eH.colors.project,percent:m,offset:c}),(0,r.jsx)(e4,{radius:t,color:eH.colors.used,percent:u,offset:c+m})]})},eX=e=>{let{radius:t,used:a,limit:s,color:l,caseNumber:i,t:n}=e,o=100-a/s*100,d="".concat(a,"/").concat(s);return(0,r.jsxs)(e0,{radius:t,centerText:d,caseNumber:i,children:[(0,r.jsx)(e4,{radius:t,color:l,percent:o,offset:0}),(0,r.jsx)(e4,{radius:t,color:eH.colors.unused,percent:100-o,offset:o})]})},e0=e=>{let{radius:t,children:a,centerText:s,caseNumber:l}=e;return(0,r.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",children:[a,(0,r.jsx)("text",{x:"50",y:"54",textAnchor:"middle",fontWeight:"bold",fontSize:"12px",fill:"black",children:s})]})},e1=e=>{let{radius:t,color:a,rotate:s=!1}=e;return(0,r.jsx)("circle",{cx:"50",cy:"50",r:t,fill:"none",stroke:a,strokeWidth:eH.sizes.strokeWidth,strokeDasharray:"".concat(Math.PI*t," ").concat(Math.PI*t),strokeDashoffset:s?-Math.PI*t:0,transform:"rotate(-90 50 50)"})},e2=e=>{let{radius:t,color:a,percent:s,offset:l}=e,i=Math.PI*t,n=s/100*i;return(0,r.jsx)("circle",{cx:"50",cy:"50",r:t,fill:"none",stroke:a,strokeWidth:eH.sizes.strokeWidth,strokeDasharray:"".concat(n," ").concat(i),strokeDashoffset:-l,transform:"rotate(-90 50 50)"})},e4=e=>{let{radius:t,color:a,percent:s,offset:l}=e,i=2*Math.PI*t;return(0,r.jsx)("circle",{cx:"50",cy:"50",r:t,fill:"none",stroke:a,strokeWidth:eH.sizes.strokeWidth,strokeDasharray:"".concat(s/100*i," ").concat(i),strokeDashoffset:-(l/100)*i,transform:"rotate(-90 50 50)"})};var e5=e=>{let{packageId:t,propertyUsed:a,projectUsed:s,propertyLimit:l,projectLimit:i,isPropertyUnlimited:n,isProjectUnlimited:d,isPropertyIncluded:c,isProjectIncluded:m}=e,u=(0,o.m)(),p=eH.sizes.defaultRadius,x=c?n?"unlimited":"limited":"notIncluded",h=m?d?"unlimited":"limited":"notIncluded";if("notIncluded"===x&&"unlimited"===h||"unlimited"===x&&"notIncluded"===h){let e="unlimited"===x?eH.colors.property:eH.colors.project;return(0,r.jsx)(eY,{radius:p,color:e,t:u})}if(!c||!m||n!==d&&c&&m){let e=c&&!n,t=m&&!d;return e||t?(0,r.jsx)(eX,{radius:p,used:e?a:s,limit:e?l:i,isUnlimited:!1,color:e?eH.colors.property:eH.colors.project,caseNumber:"4/5",t:u}):(0,r.jsx)(eQ,{radius:p,t:u})}return n&&d?(0,r.jsx)(eJ,{radius:p,caseNumber:"2",t:u}):n||d?(0,r.jsx)(eG,{radius:p,propertyUsed:a,projectUsed:s,propertyLimit:l,projectLimit:i,isPropertyUnlimited:n,isProjectUnlimited:d,caseNumber:"3",t:u}):(0,r.jsx)(e$,{radius:p,propertyUsed:a,projectUsed:s,propertyLimit:l,projectLimit:i,caseNumber:"1",t:u})},e3=a(73490),e6=a(14424),e8=a(75563),e7=()=>{var e;let t=(0,o.m)(),a=(0,v.dZ)(),[s,i]=(0,l.useState)(!0),[n,d]=(0,l.useState)([]),[c,u]=(0,l.useState)([]),x=(0,N.v9)(e=>{var t;return null==e?void 0:null===(t=e.WebSetting)||void 0===t?void 0:t.data}),g=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),f=null==x?void 0:x.currency_symbol,y=(0,l.useRef)(null),j=async()=>{try{i(!0);let e=await (0,m.wN)();d(null==e?void 0:e.active_packages),u(null==e?void 0:e.all_features),i(!1)}catch(e){console.error("Error fetching active packages:",e),i(!1)}};(0,l.useEffect)(()=>{j()},[g]);let b=e=>{if(null===e)return"Lifetime";let a=new Date(e),r=a.toLocaleDateString("en-US",{weekday:"long"}),s=a.getDate(),l=["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()],i=a.getFullYear();return"".concat(t(null==r?void 0:r.toLowerCase()),", ").concat(s," ").concat(t(null==l?void 0:l.toLowerCase()),", ").concat(i)},w=(e,a)=>{let r=new Date,s=new Date(e)-r;return s<=0?"0 "+t("timeLeft"):a<=24?"".concat(Math.ceil(s/36e5)," ").concat(t("hoursLeft")):"".concat(Math.ceil(s/864e5)," ").concat(t("daysLeft"))},_=(e,t)=>{let a=null==e?void 0:e.find(e=>e.id===t);return a?"unlimited"===a.limit_type?{included:!0,limit:null,type:a.limit_type}:{included:!0,limit:a.total_limit,usedLimit:a.used_limit,type:a.limit_type}:{included:!1,limit:null}},C=e=>e>=24?"".concat(Math.floor(e/24)," ").concat(t("days")):"".concat(e," ").concat(t("hours")),k=e=>{let{subscriptionData:s,index:i,totalCards:n}=e,o=(0,l.useRef)(null),{scrollYProgress:d}=(0,e6.v)({target:o,offset:["start end","end start"]});(0,e8.H)(d,[0,.5,.7,1],[1,1,.4,.1]),(0,e8.H)(d,[0,.3,.7,1],[20,0,-10,-20]);let m=null==c?void 0:c.find(e=>1===e.id),u=null==c?void 0:c.find(e=>2===e.id),p=null==c?void 0:c.find(e=>3===e.id),x=null==c?void 0:c.find(e=>4===e.id),g=_(s.features,1),v=_(s.features,2),y=_(s.features,3),j=_(s.features,4),N=(null==g?void 0:g.limit)||0,k=(null==v?void 0:v.limit)||0,S=(null==y?void 0:y.limit)||0,B=(null==j?void 0:j.limit)||0,A=(null==g?void 0:g.usedLimit)||0,D=(null==v?void 0:v.usedLimit)||0,P=(null==y?void 0:y.usedLimit)||0,T=(null==j?void 0:j.usedLimit)||0;return(0,r.jsx)(h.E.div,{ref:o,children:(0,r.jsxs)(eq.Zb,{className:"relative overflow-hidden border-0 bg-white",children:[(0,r.jsx)("div",{className:"absolute ".concat(a?"top-1 left-4":"top-1 right-4"),children:(0,r.jsx)("div",{className:"primaryBg text-white py-1 px-6 sm:px-10 transform ".concat(a?"-rotate-45 -translate-x-[45%] translate-y-[15%] md:translate-y-[40%] md:-translate-x-[37%]":"rotate-45 translate-x-[35%] translate-y-[40%]"," text-xs sm:text-sm font-medium"),children:t("active")})}),(0,r.jsxs)(eq.Ol,{className:"pb-4 sm:pb-6 pt-4 sm:pt-6 px-4 sm:px-6 border-b border-gray-200",children:[(0,r.jsx)("div",{className:"text-sm sm:text-base font-medium",children:s.translated_name||s.name}),(0,r.jsxs)("div",{className:"flex items-baseline mt-1 gap-1",children:[(0,r.jsx)("span",{className:"text-xl sm:text-2xl font-bold",children:s.price?"".concat(f).concat(s.price):t("free")}),(0,r.jsxs)("span",{className:"text-xs sm:text-sm font-normal text-gray-500",children:["/ ",C(s.duration)]})]})]}),(0,r.jsxs)(eq.aY,{className:"space-y-3 sm:space-y-4 px-4 sm:px-6 pt-3 sm:pt-4 pb-4 sm:pb-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-3 sm:gap-4",children:[(0,r.jsxs)(eq.Zb,{className:"bg-[#F5F5F4] border-0 shadow-none rounded-md",children:[(0,r.jsx)(eq.Ol,{className:"py-2 px-3",children:(0,r.jsx)(eq.ll,{className:"text-xs sm:text-sm font-bold capitalize text-center",children:t("listing")})}),(0,r.jsx)(eq.aY,{className:"flex flex-col gap-1 sm:flex-row items-center justify-between p-2 sm:p-4 m-2 sm:m-4 bg-white",children:s.features&&((null==g?void 0:g.included)||(null==v?void 0:v.included)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(e5,{packageId:s.id,propertyUsed:A,projectUsed:D,propertyLimit:N,projectLimit:k,isPropertyUnlimited:(null==g?void 0:g.type)==="unlimited",isProjectUnlimited:(null==v?void 0:v.type)==="unlimited",isPropertyIncluded:null==g?void 0:g.included,isProjectIncluded:null==v?void 0:v.included})}),(0,r.jsxs)("div",{className:"gap-2 sm:gap-3 flex-1 pl-2 sm:pl-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,r.jsx)("div",{className:"w-1 h-5 sm:h-6 bg-[#FF008A] flex-shrink-0"}),(0,r.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-500",children:(null==m?void 0:m.translated_name)||(null==m?void 0:m.name)||t("property")}),(0,r.jsx)("span",{className:"ltr:ml-auto text-xs sm:text-sm font-bold rtl:mr-auto",children:(null==g?void 0:g.included)?(null==g?void 0:g.type)==="unlimited"?t("unlimited"):"".concat(A," / ").concat(N):t("notIncluded")})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,r.jsx)("div",{className:"w-1 h-5 sm:h-6 bg-[#0754FC] flex-shrink-0"}),(0,r.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-500",children:(null==u?void 0:u.translated_name)||(null==u?void 0:u.name)||t("project")}),(0,r.jsx)("span",{className:"ltr:l-auto text-xs sm:text-sm font-bold rtl:mr-auto",children:(null==v?void 0:v.included)?(null==v?void 0:v.type)==="unlimited"?t("unlimited"):"".concat(D," / ").concat(k):t("notIncluded")})]})]})]}):(0,r.jsx)("div",{className:"w-full min-h-[60px] sm:min-h-[100px] text-center py-2 sm:py-4 flex items-center justify-center text-xs sm:text-sm",children:t("listingNotIncluded")}))})]}),(0,r.jsxs)(eq.Zb,{className:"bg-[#F5F5F4] border-0 shadow-none rounded-md",children:[(0,r.jsx)(eq.Ol,{className:"py-2 px-3",children:(0,r.jsx)(eq.ll,{className:"text-xs sm:text-sm font-bold capitalize text-center",children:t("featuredAd")})}),(0,r.jsx)(eq.aY,{className:"flex flex-col gap-1 sm:flex-row items-center justify-between p-2 sm:p-4 m-2 sm:m-4 bg-white",children:s.features&&((null==y?void 0:y.included)||(null==j?void 0:j.included)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(e5,{packageId:s.id,propertyUsed:P,projectUsed:T,propertyLimit:S,projectLimit:B,isPropertyUnlimited:(null==y?void 0:y.type)==="unlimited",isProjectUnlimited:(null==j?void 0:j.type)==="unlimited",isPropertyIncluded:null==y?void 0:y.included,isProjectIncluded:null==j?void 0:j.included})}),(0,r.jsxs)("div",{className:"space-y-2 sm:space-y-3 flex-1 pl-2 sm:pl-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,r.jsx)("div",{className:"w-1 h-5 sm:h-6 bg-[#FF008A] flex-shrink-0"}),(0,r.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-500",children:(null==p?void 0:p.translated_name)||(null==p?void 0:p.name)}),(0,r.jsx)("span",{className:"ltr:ml-auto text-xs sm:text-sm font-bold rtl:mr-auto",children:(null==y?void 0:y.included)?(null==y?void 0:y.type)==="unlimited"?t("unlimited"):"".concat(P," / ").concat(S):t("notIncluded")})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,r.jsx)("div",{className:"w-1 h-5 sm:h-6 bg-[#0754FC] flex-shrink-0"}),(0,r.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-500",children:(null==x?void 0:x.translated_name)||(null==x?void 0:x.name)}),(0,r.jsx)("span",{className:"ltr:ml-auto text-xs sm:text-sm font-bold rtl:mr-auto",children:(null==j?void 0:j.included)?(null==j?void 0:j.type)==="unlimited"?t("unlimited"):"".concat(T," / ").concat(B):t("notIncluded")})]})]})]}):(0,r.jsx)("div",{className:"w-full min-h-[60px] sm:min-h-[100px] text-center py-2 sm:py-4 flex items-center justify-center text-xs sm:text-sm",children:t("featureNotIncluded")}))})]})]}),(0,r.jsx)(eq.Zb,{className:"bg-[#F5F5F4] border-0 shadow-none rounded-md",children:(0,r.jsxs)(eq.aY,{className:"p-3 sm:p-4 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"text-xs sm:text-sm font-semibold capitalize text-gray-500",children:s.duration<24?t("remainingHours"):t("remainingDays")}),(0,r.jsx)("div",{className:"text-xs sm:text-sm font-medium",children:w(s.end_date,s.duration)})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs sm:text-sm font-medium mb-2 capitalize",children:t("includedBenefits")}),(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-2",children:c&&c.length>0?c.filter(e=>e.id>=5).map(e=>{var a;let l=null===(a=s.features)||void 0===a?void 0:a.some(t=>t.id===e.id);return(0,r.jsxs)("div",{className:"flex items-start p-2 sm:p-4 bg-[#F5F5F4] rounded-md gap-2",children:[l?(0,r.jsx)(eV.Z,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 relative top-0.5 sm:top-1"}):(0,r.jsx)(eK.Z,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-500 relative top-0.5 sm:top-1"}),(0,r.jsxs)("div",{className:"flex flex-col items-start justify-start gap-0.5 sm:gap-1",children:[(0,r.jsx)("span",{className:"flex-grow text-xs sm:text-sm font-normal",children:e.translated_name||e.name}),(0,r.jsx)("span",{className:"mr-auto text-xs sm:text-sm font-bold capitalize flex-shrink-0 whitespace-nowrap",children:l?t("included"):t("notIncluded")})]})]},e.id)}):(0,r.jsx)("div",{className:"col-span-full text-center text-xs sm:text-sm text-gray-500",children:t("noAdditionalBenefits")})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mt-2 sm:mt-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,r.jsx)("div",{className:"h-7 w-7 sm:h-9 sm:w-9 primaryBg rounded-md flex items-center justify-center text-white flex-shrink-0",children:(0,r.jsx)(eW.Z,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 capitalize",children:t("startedOn")}),(0,r.jsx)("div",{className:"text-xs sm:text-sm font-bold",children:b(s.start_date)})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[(0,r.jsxs)("div",{className:"flex flex-col items-end justify-end",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 capitalize",children:t("endsOn")}),(0,r.jsx)("div",{className:"text-xs sm:text-sm font-bold",children:b(s.end_date)})]}),(0,r.jsx)("div",{className:"h-7 w-7 sm:h-9 sm:w-9 primaryBg rounded-md flex items-center justify-center text-white flex-shrink-0",children:(0,r.jsx)(eW.Z,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})]})]})})};return(0,r.jsxs)("div",{className:"w-full px-4 sm:px-6 lg:container lg:mx-auto py-4 sm:py-8 relative",ref:y,children:[(0,r.jsx)("div",{className:"mb-4 sm:mb-6",children:(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold",children:t("mySubscriptions")})}),s?(0,r.jsx)("div",{className:"space-y-4 sm:space-y-6",children:Array.from({length:3}).map((e,t)=>(0,r.jsx)(e3.Z,{},t))}):n&&n.length>0?(0,r.jsx)("div",{className:"".concat((null===(e=window)||void 0===e?void 0:e.innerWidth)>=1280?"space-y-6":"space-y-4 sm:space-y-6"),children:n.map((e,t)=>{var a,s,l;return(0,r.jsx)("div",{className:"".concat((null===(a=window)||void 0===a?void 0:a.innerWidth)>=1280?"sticky-section ":""," ").concat((null===(s=window)||void 0===s?void 0:s.innerWidth)>=1280&&t===(null==n?void 0:n.length)-1?"!mb-[130px]":""),style:(null===(l=window)||void 0===l?void 0:l.innerWidth)>=1280?{position:"sticky",top:"".concat(t,"px"),zIndex:t,paddingTop:0}:{},children:(0,r.jsx)(k,{subscriptionData:e,index:t,totalCards:n.length})},e.id||t)})}):(0,r.jsxs)(h.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"text-center flex flex-col items-center justify-center mx-auto p-4 sm:p-8 gap-3",children:[(0,r.jsx)("p",{className:"text-sm sm:text-base",children:t("noActiveSubscription")}),(0,r.jsx)(p.Z,{href:"/subscription-plan",className:"primaryBg justify-self-center w-fit text-white px-4 py-2 font-bold rounded-md",children:t("viewPlans")})]})]})},e9=a(89308),te=a(38074),tt=a(70202),ta=a(45781),tr=e=>{let{open:t,onClose:a,transaction:s,onSuccess:i}=e,d=(0,o.m)(),[c,u]=(0,l.useState)(null),[p,x]=(0,l.useState)(!1);l.useEffect(()=>{t||(u(null),x(!1))},[t]);let{getRootProps:h,getInputProps:g,isDragActive:f}=(0,te.uI)({accept:{"image/*":[".jpeg",".jpg",".png"],"application/pdf":[".pdf"]},maxSize:5242880,multiple:!1,onDrop:e=>{e.length>0&&u(e[0])},onDropRejected:e=>{var t;let a=null===(t=e[0])||void 0===t?void 0:t.errors[0];(null==a?void 0:a.code)==="file-too-large"?V.ZP.error(d("fileTooLarge")):(null==a?void 0:a.code)==="file-invalid-type"?V.ZP.error(d("invalidFileType")):V.ZP.error(d("fileUploadFailed"))}}),v=async()=>{if(!c){V.ZP.error(d("pleaseSelectFile"));return}if(!(null==s?void 0:s.id)){V.ZP.error(d("transactionInfoMissing"));return}x(!0);try{let e=await (0,m.Vi)({file:c,payment_transaction_id:s.id});!1===e.error?(V.ZP.success(d("receiptUploadedSuccessfully")),a(),"function"==typeof i&&i()):V.ZP.error(e.message||d("receiptUploadFailed"))}catch(e){console.error("Error uploading receipt:",e),V.ZP.error(d("receiptUploadFailed"))}finally{x(!1)}};return(0,r.jsx)(eN.Vq,{open:t,onOpenChange:a,children:(0,r.jsxs)(eN.cZ,{className:"sm:max-w-md",children:[(0,r.jsx)(eN.fK,{children:(0,r.jsx)(eN.$N,{className:"text-xl font-semibold",children:d("uploadReceipt")})}),(0,r.jsx)("div",{className:"py-4",children:(0,r.jsxs)("div",{...h(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ".concat(f?"border-primary bg-primary/5":"border-gray-300 hover:border-primary"),children:[(0,r.jsx)("input",{...g()}),c?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)("div",{className:"primaryBg rounded-full p-2 text-white",children:(0,r.jsx)(tt.Z,{size:20})}),(0,r.jsx)("p",{className:"font-medium break-all",children:c.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[(c.size/1024/1024).toFixed(2)," MB"]}),(0,r.jsxs)(n.z,{variant:"outline",size:"sm",className:"mt-2",onClick:e=>{e.stopPropagation(),u(null)},children:[(0,r.jsx)(ta.Z,{className:"h-4 w-4 mr-2"})," ",d("remove")]})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)("div",{className:"bg-gray-100 rounded-full p-3",children:(0,r.jsx)(tt.Z,{className:"h-6 w-6 text-gray-500"})}),(0,r.jsx)("p",{className:"font-medium",children:d("dragAndDropFile")}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:d("or")}),(0,r.jsx)("p",{className:"text-sm primaryColor font-medium",children:d("browseFiles")}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[d("maxFileSize")," 5MB"]})]})]})}),(0,r.jsxs)(eN.cN,{className:"flex flex-row justify-end gap-2",children:[(0,r.jsx)(n.z,{variant:"outline",onClick:a,disabled:p,children:d("cancel")}),(0,r.jsx)(n.z,{onClick:v,disabled:!c||p,className:"primaryBg text-white",children:p?d("uploading"):d("submit")})]})]})})},ts=()=>{let e=(0,o.m)(),[t,a]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[n,d]=(0,l.useState)(!1),[c,p]=(0,l.useState)("all"),[x,h]=(0,l.useState)({currentPage:1,totalPages:1,totalRecords:0,limit:10}),g=(0,v.dZ)(),f=(0,N.v9)(e=>e.LanguageSettings.active_language),y=(e,t)=>{switch(null==e?void 0:e.toLowerCase()){case"success":case"approved":return(0,r.jsx)("div",{className:"rounded-md bg-[#83B8071F] px-4 py-2 font-medium capitalize text-[#83B807]",children:t("success")});case"review":return(0,r.jsx)("div",{className:"rounded-md bg-[#0186D81F] px-4 py-2 font-medium capitalize text-[#0186D8]",children:t("review")});case"pending":return(0,r.jsx)("div",{className:"rounded-md bg-[#DB93051F] px-4 py-2 font-medium capitalize text-[#DB9305]",children:t("pending")});case"rejected":return(0,r.jsx)("div",{className:"rounded-md bg-[#DB3D261F] px-4 py-2 font-medium capitalize text-[#DB3D26]",children:t("rejected")});case"failed":return(0,r.jsx)("div",{className:"rounded-md bg-[#DB3D261F] px-4 py-2 font-medium capitalize text-[#DB3D26]",children:t("failed")});default:return(0,r.jsx)("div",{className:"rounded-md bg-[#808080] px-4 py-2 font-medium capitalize text-[#808080]",children:e||"-"})}},[b,w]=(0,l.useState)(null),[_,C]=(0,l.useState)(!1),k=(0,N.v9)(e=>{var t;return null==e?void 0:null===(t=e.WebSetting)||void 0===t?void 0:t.data}),B=null==k?void 0:k.currency_symbol,A=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";1===t?i(!0):d(!0);try{let e=(t-1)*x.limit,s=await (0,m.h)({offset:e.toString(),limit:x.limit.toString(),payment_type:"all"===r?"":r});a(s.data),h({...x,currentPage:t,totalPages:Math.ceil(s.total/x.limit),totalRecords:s.total})}catch(t){console.error("Error fetching transactions:",t),V.ZP.error(e("errorFetchingTransactions"))}finally{i(!1),d(!1)}},D=async t=>{try{let e=(await (0,m.LU)({payment_transaction_id:t.id})).replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,""),a=(window.screen.width-800)/2,r=(window.screen.height-600)/2,s=window.open("","InvoicePopup","width=".concat(800,",height=").concat(600,",left=").concat(a,",top=").concat(r,",scrollbars=yes,resizable=yes"));if(!s){alert("Popup blocked. Please enable popups for this site.");return}s.document.open(),s.document.write("\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Invoice - ".concat(t.id,'</title>\n          <meta charset="UTF-8" />\n          <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>\n        </head>\n        <body>\n          <div id="invoice-content" style="width: 794px; margin: 0 auto; padding: 0px 20px 0px 0px; box-sizing: border-box;">\n            ').concat(e,'      \n          </div>    \n            <script>\n            window.onload = function () {\n              const invoice = document.getElementById("invoice-content");\n\n              const opt = {\n                filename: "invoice-').concat(t.id,'.pdf",\n                image: { type: "jpeg", quality: 0.98 },\n                html2canvas: { scale: 2, useCORS: true },\n                jsPDF: { unit: "in", format: "a4", orientation: "portrait" },\n              };\n\n              html2pdf()\n                .set(opt)\n                .from(invoice)\n                .save()\n                .then(() => {\n                  setTimeout(() => {\n                    window.close(); // Close popup after download\n                  }, 1000);\n                })\n                .catch((error) => {\n                  console.error("Download invoice error:", error);\n                });\n            };\n          </script>\n        </body>\n      </html>\n    ')),s.document.close()}catch(t){console.error("Download invoice error:",t),V.ZP.error(e("errorDownloadingInvoice"))}},P=e=>{w(e),C(!0)};return(0,l.useEffect)(()=>{A()},[f]),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-6 flex flex-col items-start justify-between md:flex-row md:items-center",children:[(0,r.jsx)("h2",{className:"mb-4 text-2xl font-bold md:mb-0",children:e("transactionHistory")}),(0,r.jsx)("div",{className:"w-full md:w-64",children:(0,r.jsxs)(eR.Ph,{value:c,onValueChange:e=>{p(e),A(1,e)},children:[(0,r.jsx)(eR.i4,{className:"bg-white",children:(0,r.jsx)(eR.ki,{placeholder:e("allPaymentTypes")})}),(0,r.jsxs)(eR.Bw,{children:[(0,r.jsx)(eR.Ql,{value:"all",children:e("allPaymentTypes")}),(0,r.jsx)(eR.Ql,{value:"free",children:e("free")}),(0,r.jsx)(eR.Ql,{value:"online payment",children:e("onlinePayment")}),(0,r.jsx)(eR.Ql,{value:"bank transfer",children:e("bankTransfer")})]})]})})]}),(0,r.jsxs)(eq.Zb,{children:[(0,r.jsx)(eq.aY,{className:"p-0",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)(ez.iA,{children:[(0,r.jsx)(ez.xD,{className:"bg-gray-100",children:(0,r.jsxs)(ez.SC,{children:[(0,r.jsx)(ez.ss,{className:"text-center font-medium",children:e("ID")}),(0,r.jsx)(ez.ss,{className:"text-center font-medium",children:e("transactionId")}),(0,r.jsx)(ez.ss,{className:"text-center font-medium",children:e("orderId")}),(0,r.jsx)(ez.ss,{className:"text-center font-medium",children:e("date")}),(0,r.jsx)(ez.ss,{className:"text-center font-medium",children:e("price")}),(0,r.jsx)(ez.ss,{className:"text-center font-medium",children:e("paymentType")}),(0,r.jsx)(ez.ss,{className:"text-center font-medium",children:e("paymentMethod")}),(0,r.jsx)(ez.ss,{className:"text-center font-medium",children:e("status")}),(0,r.jsx)(ez.ss,{className:"text-center font-medium",children:e("invoice")})]})}),(0,r.jsx)(ez.RM,{children:s?Array.from({length:5}).map((e,t)=>(0,r.jsx)(ez.SC,{children:Array.from({length:9}).map((e,t)=>(0,r.jsx)(ez.pj,{className:"py-4",children:(0,r.jsx)(u.O,{className:"h-6 w-full"})},t))},t)):(null==t?void 0:t.length)>0?t.map((t,a)=>(0,r.jsxs)(ez.SC,{children:[(0,r.jsx)(ez.pj,{className:"text-center",children:t.id}),(0,r.jsx)(ez.pj,{className:"text-center",children:t.transaction_id||"-"}),(0,r.jsx)(ez.pj,{className:"text-center",children:t.order_id||"-"}),(0,r.jsx)(ez.pj,{className:"text-center",children:(0,v.L0)(t.created_at,e)}),(0,r.jsxs)(ez.pj,{className:"text-center",children:[B,t.amount]}),(0,r.jsx)(ez.pj,{className:"text-center",children:(null==t?void 0:t.payment_type)==="free "?e("free"):(null==t?void 0:t.payment_type)==="online payment"?e("onlinePayment"):(null==t?void 0:t.payment_type)==="bank transfer"?e("bankTransfer"):null}),(0,r.jsx)(ez.pj,{className:"text-center",children:t.payment_gateway||"-"}),(0,r.jsx)(ez.pj,{className:"text-center",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[y(t.payment_status,e),"rejected"===t.payment_status&&t.reject_reason&&(0,r.jsx)(v._r,{reason:t.reject_reason,t:e,side:g?"right":"left"})]})}),(0,r.jsx)(ez.pj,{className:"text-center",children:"success"===t.payment_status?(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(S.pn,{children:(0,r.jsxs)(S.u,{children:[(0,r.jsx)(S.aJ,{asChild:!0,children:(0,r.jsx)("button",{className:"primaryBgLight border primaryBorderColor primaryColor flex h-8 w-8 items-center justify-center rounded-md",onClick:()=>{D(t)},children:(0,r.jsx)(e9.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(S._v,{children:(0,r.jsx)("p",{children:e("downloadInvoice")})})]})})}):"pending"===t.payment_status||"rejected"===t.payment_status?(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(S.pn,{children:(0,r.jsxs)(S.u,{children:[(0,r.jsx)(S.aJ,{asChild:!0,children:(0,r.jsx)("button",{className:"primaryBgLight border primaryBorderColor primaryColor flex h-8 w-8 items-center justify-center rounded-md",onClick:()=>P(t),children:(0,r.jsx)(U.DUB,{className:"h-4 w-4 "})})}),(0,r.jsx)(S._v,{children:(0,r.jsx)("p",{children:"pending"===t.payment_status?e("uploadReceipt"):e("reuploadReceipt")})})]})})}):(0,r.jsx)("span",{className:"text-gray-400",children:"-"})})]},t.id||a)):(0,r.jsx)(ez.SC,{children:(0,r.jsx)(ez.pj,{colSpan:9,className:"py-4 text-center",children:e("noDataAvailable")})})})]})})}),(0,r.jsx)("div",{className:"transition-opacity duration-200 ".concat(n?"opacity-50":"opacity-100"),children:!s&&(null==t?void 0:t.length)>x.limit&&(0,r.jsx)(j,{currentPage:x.currentPage,totalItems:x.totalRecords,itemsPerPage:x.limit,onPageChange:e=>{d(!0),A(e,c)},isLoading:n,translations:{showing:e("showing"),to:e("to"),of:e("of"),entries:e("entries")}})})]}),(0,r.jsx)(tr,{open:_,onClose:()=>C(!1),transaction:b,onSuccess:()=>A(x.currentPage,c)})]})},tl=()=>{let e=(0,o.m)(),t=(0,s.useRouter)(),{locale:a}=null==t?void 0:t.query,[i,n]=(0,l.useState)({}),[d,u]=(0,l.useState)([]),[p,x]=(0,l.useState)({}),[h,g]=(0,l.useState)(!1),f=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),y=async()=>{try{let e=await (0,m.KU)();e.error||u((null==e?void 0:e.data)||[])}catch(e){console.error(e)}},j=async()=>{try{var e,t,a;let r=await (0,m.$y)();if(!r.error&&(null==r?void 0:null===(e=r.data)||void 0===e?void 0:e.verify_customer_values)){let e={},s={};null==r||null===(a=r.data)||void 0===a||null===(t=a.verify_customer_values)||void 0===t||t.forEach(t=>{let a=d.find(e=>e.id===t.verify_customer_form_id);a&&(e[a.name]=t.value,"file"===a.field_type&&t.value&&(s[a.name]=t.value))}),n(e),x(s)}}catch(e){console.error(e)}};(0,l.useEffect)(()=>{y()},[f]),(0,l.useEffect)(()=>{j()},[d,f]);let w=(e,t)=>{let{name:a,value:r,type:s,checked:l,files:i}=e.target;if("file"===s){let e=i[0];if(e){if(n(t=>({...t,[a]:e})),e.type.startsWith("image/")){let t=new FileReader;t.onload=()=>{x(e=>({...e,[a]:t.result}))},t.readAsDataURL(e)}else x(e=>({...e,[a]:null}))}}else"checkbox"===s?n(e=>{let t=e[a]||[];return l?{...e,[a]:[...t,r]}:{...e,[a]:t.filter(e=>e!==r)}}):"radio"===s?n(e=>({...e,[t.name]:r})):n(e=>({...e,[a]:r}))},_=e=>{let t={...i};delete t[e];let a={...p};delete a[e],n(t),x(a)},C=async r=>{r.preventDefault();let s=!1;if(d.forEach(e=>{let t=i[e.name];t&&""!==t||(s=!0)}),s){V.ZP.error(e("allFields"));return}g(!0);let l=d.map(e=>{let t=i[e.name];return void 0===t||""===t?{id:e.id,value:null}:{id:e.id,value:t}}).filter(e=>null!==e.value);try{let r=await (0,m.qH)({form_fields:l});r.error?(V.ZP.error(e(null==r?void 0:r.message)),g(!1)):(g(!1),V.ZP.success(e(null==r?void 0:r.message)),t.push("/".concat(a,"/user/dashboard")))}catch(t){console.error("Submission error:",t),V.ZP.error(e(null==t?void 0:t.message)),g(!1)}},k=t=>{var a,s,l,n,o;switch(t.field_type){case"text":return(0,r.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,r.jsxs)("label",{className:"font-bold break-all text-sm flex items-center",children:[t.translated_name||t.name,(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:t.name,placeholder:"".concat(e("enter")," ").concat(t.translated_name||t.name," ").concat(e("here")),value:i[t.name]||"",onChange:e=>w(e,t),className:"p-3 primaryBackgroundBg rounded-md focus:outline-none"})]},t.id);case"number":return(0,r.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,r.jsxs)("label",{className:"font-bold break-all text-sm flex items-center",children:[t.translated_name||t.name,(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsx)("input",{type:"number",name:t.name,placeholder:"".concat(e("enter")," ").concat(t.translated_name||t.name," ").concat(e("here")),value:i[t.name]||"",onChange:e=>w(e,t),className:"p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]},t.id);case"radio":return(0,r.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,r.jsxs)("label",{className:"font-bold break-all text-sm flex items-center",children:[t.translated_name||t.name,(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-2",children:t.form_fields_values&&t.form_fields_values.map((e,a)=>(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("input",{type:"radio",id:"radio_".concat(null==e?void 0:e.id,"_").concat(a),name:t.name,className:"hidden",value:e.value,checked:i[t.name]===e.value,onChange:e=>w(e,t)}),(0,r.jsx)("label",{htmlFor:"radio_".concat(null==e?void 0:e.id,"_").concat(a),className:"p-3 w-full h-full border border-gray-300 rounded-md cursor-pointer ".concat(i[t.name]===e.value?"primaryBg text-white":"bg-white"),children:e.translated_value})]},"radio_".concat(null==e?void 0:e.id,"_").concat(a)))})]},t.id);case"checkbox":return(0,r.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,r.jsxs)("label",{className:"font-bold break-all text-sm flex items-center",children:[t.translated_name||(null==t?void 0:t.name),(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsx)("div",{className:"flex flex-col space-y-2",children:t.form_fields_values&&t.form_fields_values.map((e,a)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"checkbox",id:"checkbox_".concat(null==e?void 0:e.id,"_").concat(a),name:t.name,className:"hidden",value:e.value,checked:(i[t.name]||[]).includes(e.value),onChange:e=>w(e,t)}),(0,r.jsx)("label",{htmlFor:"checkbox_".concat(null==e?void 0:e.id,"_").concat(a),className:"p-2 w-10 h-10 flex items-center justify-center rounded border ".concat((i[t.name]||[]).includes(e.value)?"primaryBg text-white":"bg-white"," hover:cursor-pointer"),children:e.translated_value})]},"checkbox_".concat(null==e?void 0:e.id,"_").concat(a)))})]},t.id);case"dropdown":return(0,r.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,r.jsxs)("label",{className:"font-bold break-all text-sm flex items-center",children:[t.translated_name||t.name,(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsxs)(eR.Ph,{value:(null===(s=t.form_fields_values)||void 0===s?void 0:null===(a=s.find(e=>e.value==i[t.name]))||void 0===a?void 0:a.translated_value)||"",onValueChange:e=>{var a,r;w({target:{name:t.name,value:null===(r=t.form_fields_values)||void 0===r?void 0:null===(a=r.find(t=>t.translated_value==e))||void 0===a?void 0:a.value,type:"select"}},t)},children:[(0,r.jsx)(eR.i4,{className:"p-3 border rounded-md w-full focus:outline-0 focus:ring-0 h-auto",children:(0,r.jsx)(eR.ki,{placeholder:(0,r.jsxs)("span",{className:"max-w-md overflow-hidden text-ellipsis whitespace-nowrap",children:[e("select")," ",(0,v.$G)(t.translated_name||t.name,30)]}),className:"max-w-md overflow-hidden text-ellipsis whitespace-nowrap",children:i[t.name]?(0,r.jsx)("span",{className:"max-w-md overflow-hidden text-ellipsis whitespace-nowrap",children:(0,v.$G)((null===(n=t.form_fields_values)||void 0===n?void 0:null===(l=n.find(e=>e.value==i[t.name]))||void 0===l?void 0:l.translated_value)||"",30)}):null})}),(0,r.jsx)(eR.Bw,{className:"max-w-md focus:outline-none",children:t.form_fields_values&&t.form_fields_values.map(e=>{var a,s;return(0,r.jsx)(eR.Ql,{value:(null===(s=t.form_fields_values)||void 0===s?void 0:null===(a=s.find(t=>t.id==e.id))||void 0===a?void 0:a.translated_value)||"",className:"max-w-md overflow-hidden text-ellipsis whitespace-nowrap",title:e.value,children:(0,r.jsx)("span",{className:"max-w-md overflow-hidden text-ellipsis whitespace-nowrap",children:(0,v.$G)(e.translated_value,30)})},e.id)})})]})]},t.id);case"textarea":return(0,r.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,r.jsxs)("label",{className:"font-bold break-all text-sm flex items-center",children:[t.translated_name||t.name,(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsx)("textarea",{className:"p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[100px]",name:t.name,placeholder:"".concat(e("enter")," ").concat(t.translated_name||t.name," ").concat(e("here")),value:i[t.name]||"",onChange:e=>w(e,t)})]},t.id);case"file":return(0,r.jsxs)("div",{className:"input-field",children:[(0,r.jsxs)("label",{className:"font-bold break-all text-sm flex items-center",children:[t.translated_name||t.name,(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),i[t.name]?(0,r.jsx)("div",{className:"selected_file bg-gray-100 rounded-lg p-4 relative",children:(0,r.jsxs)("div",{className:"relative",children:[p[t.name]&&/\.(jpg|jpeg|png|gif)$/i.test(i[t.name].name||i[t.name])?(0,r.jsx)("div",{className:"image-preview",children:(0,r.jsx)(c(),{src:p[t.name],alt:"Preview",width:300,height:200,className:"rounded-md object-cover w-full"})}):(0,r.jsx)("span",{children:(null===(o=i[t.name])||void 0===o?void 0:o.name)||i[t.name]}),(0,r.jsx)("button",{type:"button",className:"remove-button absolute top-1 right-1 bg-black bg-opacity-70 text-white rounded-full p-1 hover:bg-opacity-90 transition-colors",onClick:()=>_(t.name),children:(0,r.jsx)(b.FU5,{size:18})})]})}):(0,r.jsx)("div",{className:"file-input-container primaryBackgroundBg p-3",children:(0,r.jsxs)("label",{className:"cursor-pointer inline-flex items-center",children:[(0,r.jsx)("span",{className:"border border-black secondaryText py-1 px-3 rounded mr-2 text-sm transition-colors",children:e("chooseFile")}),(0,r.jsx)("span",{className:"text-sm",children:e("noFileChosen")}),(0,r.jsx)("input",{type:"file",name:t.name,onChange:e=>w(e,t),accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx",className:"hidden"})]})})]},t.id);default:return null}};return(0,r.jsxs)("div",{className:"rounded-lg shadow-sm",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:e("agentVerification")}),(0,r.jsxs)("form",{onSubmit:C,className:"flex flex-col bg-white p-6 space-y-8",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:d.length>0&&d.map(e=>k(e))}),(0,r.jsx)("div",{className:"flex justify-end",children:h?(0,r.jsx)("button",{type:"button",className:"px-6 py-3 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors",children:(0,r.jsx)("div",{className:"my-10 flex items-center justify-center",children:(0,r.jsx)("div",{className:"custom-loader"})})}):(0,r.jsx)("button",{type:"submit",className:"px-6 py-3 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors",children:e("submit")})})]})]})};let ti=e=>{let{parameter:t,onDrop:a,required:s,t:l}=e,{getRootProps:i,getInputProps:n,isDragActive:o}=(0,te.uI)({onDrop:a,accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/webp":[".webp"],"image/gif":[".gif"],"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"text/plain":[".txt"]},multiple:!1,maxFiles:1,maxSize:3145728});return(0,r.jsxs)("div",{...i(),className:"border-2 border-dashed p-4 rounded-lg text-center cursor-pointer transition-colors hover:border-gray-400 ".concat(o?"primaryBorderColor bg-blue-50":"border-gray-300"),children:[(0,r.jsx)("input",{...n(),id:t.name,name:t.id,required:s,"aria-label":l("uploadFile")}),(0,r.jsx)(U.Qvc,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),o?(0,r.jsx)("p",{className:"text-sm",children:l("dropFileHere")}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-sm",children:l("dragAndDropFile")}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:l("or")}),(0,r.jsx)("p",{className:"text-xs primaryColor",children:l("browseFiles")}),s&&(0,r.jsxs)("p",{className:"text-xs text-red-500 mt-1",children:["* ",l("required")]})]})]})};var tn=e=>{let{formData:t,setFormData:a,selectedCategory:s,categories:i,handleCheckRequiredFields:d,isEditing:c=!1}=e,m=(0,o.m)(),u=(0,v.dZ)(),[p,x]=(0,l.useState)(null),[h,g]=(0,l.useState)(null),[f,y]=(0,l.useState)({});(0,l.useEffect)(()=>{if(s){let e=i.find(e=>e.id===(null==s?void 0:s.id));if(e&&(g("object"==typeof e.parameter_types?Object.values(e.parameter_types):e.parameter_types),c&&Object.keys(t).length>0)){let a=("object"==typeof e.parameter_types?Object.values(e.parameter_types):e.parameter_types).filter(e=>"file"===e.type_of_parameter),r={};a.forEach(e=>{let a=t[e.id];a&&"string"==typeof a&&(a.startsWith("http")||a.startsWith("/"))&&(r[e.id]={name:a.split("/").pop(),type:a.match(/\.(jpg|jpeg|png|gif|webp)$/i)?"image/jpeg":"application/octet-stream",size:0,isExisting:!0,url:a})}),Object.keys(r).length>0&&y(e=>({...e,...r}))}x(e)}else x(null)},[s,i,t,c]);let j=(e,r)=>{let{name:s,value:l,type:i,checked:n,files:o}=e.target;if("file"===i){let t=null==o?void 0:o[0];if(!t)return;if(t.size>3145728){V.ZP.error(m("fileSizeExceeded3MB")),e.target.value="";return}y(e=>({...e,[r.id]:t})),a(e=>({...e,[r.id]:t}));return}if("number"===i&&(l<0||0>parseFloat(l)||isNaN(l))){a(e=>({...e,[s]:0}));return}if("checkbox"===i){let e=t[s]||[];"string"==typeof e&&(null==e?void 0:e.includes(","))&&(e=null==e?void 0:e.split(",")),Array.isArray(e)||(e=e?[e]:[]);let r=n?[...e,l]:e.filter(e=>e!==l);0===r.length?a(e=>{let t={...e};return delete t[s],t}):a(e=>({...e,[s]:r}))}else a(e=>({...e,[s]:l}))},b=e=>{let t=document.getElementById(e);t&&(t.value=""),y(t=>{let a={...t};return delete a[e],a}),a(t=>{let a={...t};return delete a[e],a})},N=(0,l.useCallback)((e,t)=>{if(0===e.length)return;let r=e[0];if(r.size>3145728){V.ZP.error(m("fileSizeExceeded3MB"));return}y(e=>({...e,[t.id]:r})),a(e=>({...e,[t.id]:r}))},[m]),w=e=>{var t;return(null===(t=e.type)||void 0===t?void 0:t.startsWith("image/"))||e.isExisting&&e.url&&/\.(jpg|jpeg|png|gif|webp)$/i.test(e.url),(0,r.jsx)(U.pPO,{className:"w-4 h-4"})},_=e=>{if(0===e)return"0 "+m("bytes");let t=[m("bytes"),m("kb"),m("mb")],a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+t[a]};return s?p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:h&&h.map(e=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("label",{htmlFor:e.translated_name||(null==e?void 0:e.name),className:"font-medium text-sm",children:[e.translated_name||e.name,1===e.is_required&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]})}),"textbox"===e.type_of_parameter&&(0,r.jsx)(eC.I,{id:e.name,name:e.id,value:t[e.id]||"",onChange:t=>j(t,e),required:1===e.is_required,className:"primaryBackgroundBg"}),"textarea"===e.type_of_parameter&&(0,r.jsx)(ek,{id:e.name,name:e.id,value:t[e.id]||"",onChange:t=>j(t,e),required:1===e.is_required,className:"primaryBackgroundBg resize-none"}),"number"===e.type_of_parameter&&(0,r.jsx)(eC.I,{id:e.name,name:e.id,type:"number",value:t[e.id]||"",onChange:t=>j(t,e),required:1===e.is_required,onInput:e=>{e.target.value<0&&(e.target.value=0)},className:"primaryBackgroundBg"}),"dropdown"===e.type_of_parameter&&(0,r.jsxs)(eR.Ph,{dir:u?"rtl":"ltr",value:t[e.id]||"",onValueChange:t=>a(a=>({...a,[e.id]:t})),children:[(0,r.jsx)(eR.i4,{className:"w-full focus:ring-0",children:(0,r.jsx)(eR.ki,{placeholder:"Select"})}),(0,r.jsx)(eR.Bw,{children:e.translated_option_value&&e.translated_option_value.map((e,t)=>(0,r.jsx)(eR.Ql,{value:null==e?void 0:e.value,className:"hover:!primaryBg hover:!text-white hover:!cursor-pointer",children:(null==e?void 0:e.translated)||(null==e?void 0:e.value)},null==e?void 0:e.translated))})]}),"radiobutton"===e.type_of_parameter&&(0,r.jsx)("div",{className:"flex flex-col w-fit items-start gap-2",children:e.translated_option_value&&e.translated_option_value.map((a,s)=>(0,r.jsxs)("label",{className:"px-3 py-2 rounded border cursor-pointer transition-colors ".concat(t[e.id]===(null==a?void 0:a.value)?"primaryBg text-white":"hover:bg-muted"),children:[(0,r.jsx)("input",{type:"radio",name:e.id,value:null==a?void 0:a.value,checked:t[e.id]===(null==a?void 0:a.value),onChange:t=>j(t,e),className:"sr-only",required:1===e.is_required}),(null==a?void 0:a.translated)||(null==a?void 0:a.value)]},null==a?void 0:a.id))}),"checkbox"===e.type_of_parameter&&(0,r.jsx)("div",{className:"flex flex-col w-fit items-start gap-2",children:e.translated_option_value&&e.translated_option_value.map((a,s)=>(0,r.jsxs)("label",{className:"px-3 py-2 rounded border cursor-pointer transition-colors ".concat((t[e.id]||[]).includes(null==a?void 0:a.value)?"primaryBg text-white":"hover:bg-muted"),children:[(0,r.jsx)("input",{type:"checkbox",name:e.id,value:null==a?void 0:a.value,checked:(t[e.id]||[]).includes(null==a?void 0:a.value),onChange:t=>j(t,e),className:"sr-only"}),(null==a?void 0:a.translated)||(null==a?void 0:a.value)]},"".concat(e.id,"_").concat(s)))}),"file"===e.type_of_parameter&&(0,r.jsxs)("div",{className:"space-y-3",children:[f[e.id]?(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-md border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[f[e.id].isExisting?(0,r.jsx)(r.Fragment,{children:/\.(jpg|jpeg|png|gif|webp)$/i.test(f[e.id].url)?(0,r.jsx)(ee.Z,{src:f[e.id].url,alt:"File preview",className:"w-10 h-10 object-cover rounded-md",width:40,height:40}):(0,r.jsx)(U.pPO,{className:"w-4 h-4"})}):w(f[e.id]),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium truncate",title:f[e.id].name,children:f[e.id].name}),!f[e.id].isExisting&&(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:_(f[e.id].size)})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(f[e.id].type&&f[e.id].type.startsWith("image/")||f[e.id].isExisting&&/\.(jpg|jpeg|png|gif|webp)$/i.test(f[e.id].url))&&(0,r.jsx)(n.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>{let t=f[e.id].isExisting?f[e.id].url:URL.createObjectURL(f[e.id]);window.open(t,"_blank")},"aria-label":m("previewFile"),children:(0,r.jsx)(U.aBF,{className:"w-4 h-4"})}),(0,r.jsx)(n.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>b(e.id),"aria-label":m("removeFile"),children:(0,r.jsx)(eE.JqX,{className:"w-4 h-4"})})]})]}):(0,r.jsx)(ti,{parameter:e,onDrop:t=>N(t,e),required:1===e.is_required,t:m}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:(0,r.jsx)("p",{children:m("acceptedFileTypes")})})]})]},e.id))}),(0,r.jsx)("div",{className:"flex justify-end mt-4",children:(0,r.jsx)(n.z,{onClick:()=>d("facilities","outdoorFacilities"),className:"px-10 py-5",children:c?m("save"):m("next")})})]}):(0,r.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,r.jsx)("p",{children:m("categoryLoading")})}):(0,r.jsx)("div",{className:"flex items-center justify-center p-8 rounded-md",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:m("pleaseSelectACategory")})})},to=e=>{let{facilities:t,handleTabChange:a,facilityDistances:s,handleDistanceChange:l,isEditing:i=!1}=e,d=(0,o.m)(),c=(0,N.v9)(e=>{var t;return null===(t=e.WebSetting)||void 0===t?void 0:t.data}),m=null==c?void 0:c.distance_option,u={km:d("enterDistanceInKm"),m:d("enterDistanceInMeters"),mi:d("enterDistanceInMiles"),yd:d("enterDistanceInYards")},p=d(u[m])||d("enterDistanceInkm");return(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(e=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(eF._,{htmlFor:"facility-".concat(e.id),className:"font-medium text-gray-800",children:e.translated_name||e.name}),(0,r.jsx)(eC.I,{id:"facility-".concat(e.id),type:"number",min:"0",value:s[e.id]||"",onChange:t=>l(e.id,t.target.value),placeholder:p,className:"primaryBackgroundBg rounded-lg border-0 focus:ring-0 focus-visible:ring-0 primaryBackgroundBg"})]},e.id))}),(0,r.jsx)("div",{className:"flex justify-end mt-4",children:(0,r.jsx)(n.z,{onClick:()=>a("location"),className:"px-10 py-5",children:d(i?"save":"next")})})]})},td=a(98926),tc=e=>{let{selectedLocationAddress:t,setSelectedLocationAddress:a,handleLocationSelect:s,handleCheckRequiredFields:i,isEditing:d=!1,isProperty:c=!0}=e,m=(0,o.m)();return(0,l.useRef)(null),(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsx)("div",{className:"font-medium text-gray-800",children:m(c?"selectPropertyLocationNote":"selectProjectLocationNote")}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex w-full gap-3",children:[(0,r.jsxs)("div",{className:"w-1/2",children:[(0,r.jsxs)(eF._,{htmlFor:"city",className:"font-medium text-gray-800",children:[m("city")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(eB.Z,{value:t.city||"",onChange:e=>{let t=e.target.value;a(e=>({...e,city:t}))},onPlaceSelect:(e,r)=>{try{if(e){var l,i,n,o,d,c,m,u;let p={};if(r&&r.address_components)p=(0,v.$K)(r);else if(e.address_components&&e.address_components.length>0)p=(0,v.$K)(e);else{let t=e.formatted_address||"",a=t.split(",").map(e=>e.trim());p={formattedAddress:t,city:a.length>1&&a[a.length-3]||"",state:a.length>2&&a[a.length-2]||"",country:a.length>0&&a[a.length-1]||""}}let x={city:p.city||t.city,state:p.state||t.state,country:p.country||t.country,formattedAddress:p.formattedAddress||e.formatted_address||t.formattedAddress,latitude:e.latitude||((null===(i=e.geometry)||void 0===i?void 0:null===(l=i.location)||void 0===l?void 0:l.lat)?e.geometry.location.lat():t.latitude),longitude:e.longitude||((null===(o=e.geometry)||void 0===o?void 0:null===(n=o.location)||void 0===n?void 0:n.lng)?e.geometry.location.lng():t.longitude),lat:e.latitude||((null===(c=e.geometry)||void 0===c?void 0:null===(d=c.location)||void 0===d?void 0:d.lat)?e.geometry.location.lat():t.latitude),lng:e.longitude||((null===(u=e.geometry)||void 0===u?void 0:null===(m=u.location)||void 0===m?void 0:m.lng)?e.geometry.location.lng():t.longitude)};a(e=>({...e,...x})),s&&s(x)}}catch(e){console.error("Error processing custom location data:",e)}},placeholder:m("searchCity"),className:"w-full px-3 py-2 primaryBackgroundBg rounded-md focus:outline-none focus:border-none focus:border-transparent pr-10",debounceMs:1e3,maxResults:10,isPropertyOrProjectOperation:!0})})]}),(0,r.jsxs)("div",{className:"w-1/2",children:[(0,r.jsxs)(eF._,{htmlFor:"state",className:"font-medium text-gray-800",children:[m("state")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(eC.I,{type:"text",id:"state",value:t.state||"",onChange:e=>a(t=>({...t,state:e.target.value})),placeholder:m("enterState"),className:"w-full px-3 py-2 primaryBackgroundBg rounded-md focus:outline-none focus:border-none focus:border-transparent"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(eF._,{htmlFor:"country",className:"font-medium text-gray-800",children:[m("country")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(eC.I,{type:"text",id:"country",value:t.country||"",onChange:e=>a(t=>({...t,country:e.target.value})),placeholder:m("enterCountry"),className:"w-full px-3 py-2 primaryBackgroundBg rounded-md focus:outline-none focus:border-none focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(eF._,{htmlFor:"address",className:"font-medium text-gray-800",children:[m("address")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(ek,{id:"address",value:t.formattedAddress||"",onChange:e=>a(t=>({...t,formattedAddress:e.target.value})),placeholder:m("enterFullAddress"),className:"w-full px-3 py-2 primaryBackgroundBg rounded-md focus:outline-none focus:border-none focus:border-transparent resize-none h-24"})})]})]}),(0,r.jsx)("div",{className:"w-full h-[350px] rounded-lg overflow-hidden",children:(0,r.jsx)(td.Z,{latitude:t.latitude||0,longitude:t.longitude||0,showLabel:!0,onSelectLocation:s})})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(n.z,{onClick:()=>i("location",c?"imagesVideo":"floorDetails"),className:"px-10 py-5",children:m(d?"save":"next")})})]})},tm=e=>{let{showLoader:t,handleCheckRequiredFields:a,mediaFormData:s,setMediaFormData:i,handleNewFileUpload:d,isEditing:m=!1,handleRemoveGalleryImages:u,handleRemoveDocuments:p,handleRemoveMedia:x}=e,h=(0,o.m)(),g=(0,l.useRef)(new Map),f=(0,l.useRef)(new Map),v=(0,l.useRef)(new Map);(0,l.useEffect)(()=>{let e=g.current,t=f.current,a=v.current;return()=>{[...e.values(),...t.values(),...a.values()].forEach(e=>{URL.revokeObjectURL(e)})}},[]);let y=(0,l.useCallback)((e,t)=>{let a=e.name||e.id||Date.now().toString();if(!t.current.has(a)){let r=URL.createObjectURL(e);t.current.set(a,r)}return t.current.get(a)},[]),j=(0,l.useCallback)((e,t)=>{if(m&&x){x(e,t);return}i(a=>{let r=[...a[e]];return r.splice(t,1),{...a,[e]:r}})},[m,x,i]),b=(0,l.useCallback)(e=>{m&&d?d("titleImages",e):i(t=>({...t,titleImages:e}))},[m,d,i]),{getRootProps:N,getInputProps:w,isDragActive:_}=(0,te.uI)({onDrop:b,accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/webp":[".webp"]},multiple:!1}),C=(0,l.useCallback)(e=>{m&&d?d("documents",e):i(t=>({...t,documents:[...t.documents,...e]}))},[m,d,i]),k=(0,l.useCallback)((e,t)=>{if(m&&p){p(e,t);return}j("documents",e)},[m,p,j]),{getRootProps:S,getInputProps:B,isDragActive:A}=(0,te.uI)({onDrop:C,accept:{"application/pdf":[".pdf"],"application/msword":[".doc",".docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},multiple:!0}),D=(0,l.useCallback)(e=>{m&&d?d("images3D",e):i(t=>({...t,images3D:e}))},[m,d,i]),{getRootProps:P,getInputProps:T,isDragActive:F}=(0,te.uI)({onDrop:D,accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/webp":[".webp"]},multiple:!1}),I=(0,l.useCallback)(e=>{m&&d?d("galleryImages",e):i(t=>({...t,galleryImages:[...t.galleryImages,...e]}))},[m,d,i]),E=(0,l.useCallback)((e,t)=>{if(m&&u){u(e,t);return}j("galleryImages",e)},[m,u,j]),{getRootProps:R,getInputProps:L,isDragActive:M}=(0,te.uI)({onDrop:I,accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/webp":[".webp"]},multiple:!0}),Z=(0,l.useMemo)(()=>s.titleImages.map((e,t)=>(0,r.jsxs)("div",{className:"relative mb-2 rounded-md overflow-hidden w-full",children:[(0,r.jsx)(c(),{height:0,width:0,src:y(e,g),alt:"preview-".concat(t),className:"w-full h-[150px] object-cover"}),(0,r.jsx)("button",{className:"absolute top-2 right-2 bg-black rounded-full p-1 text-white hover:bg-gray-800",onClick:e=>{e.preventDefault(),e.stopPropagation(),j("titleImages",t)},children:(0,r.jsx)(U.aHS,{size:14})}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs px-2 py-1 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"text-xs font-medium mr-1",children:e.name||h("file")})}),(0,r.jsxs)("span",{className:"text-xs",children:[Math.round(e.size/1024)," KB"]})]})]},t)),[s.titleImages,j,h,y]),z=(0,l.useMemo)(()=>s.documents.map((e,t)=>(0,r.jsxs)("div",{className:"relative mb-2 p-3 bg-white border rounded-md flex items-center justify-between w-full",children:[(0,r.jsx)("div",{className:"flex items-center gap-2 overflow-hidden",children:(0,r.jsx)("span",{className:"truncate",children:e.name})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[Math.round(e.size/1024)," KB"]}),(0,r.jsx)("button",{className:"bg-black rounded-full p-1 text-white hover:bg-gray-800",onClick:a=>{a.stopPropagation(),k(t,e.id)},children:(0,r.jsx)(U.aHS,{size:14})})]})]},t)),[s.documents,k,h]),O=(0,l.useMemo)(()=>s.images3D.map((e,t)=>(0,r.jsxs)("div",{className:"relative mb-2 rounded-md overflow-hidden w-full",children:[(0,r.jsx)(c(),{height:0,width:0,src:y(e,f),alt:"preview-".concat(t),className:"w-full h-[150px] object-cover"}),(0,r.jsx)("button",{className:"absolute top-2 right-2 bg-black rounded-full p-1 text-white hover:bg-gray-800",onClick:e=>{e.preventDefault(),e.stopPropagation(),j("images3D",t)},children:(0,r.jsx)(U.aHS,{size:14})}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs px-2 py-1 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"text-xs font-medium mr-1",children:e.name||h("file")})}),(0,r.jsxs)("span",{className:"text-xs",children:[Math.round(e.size/1024)," KB"]})]})]},t)),[s.images3D,j,h,y]),q=(0,l.useMemo)(()=>s.galleryImages.map((e,t)=>(0,r.jsxs)("div",{className:"relative mb-2 rounded-md overflow-hidden w-full",children:[(0,r.jsx)(c(),{height:0,width:0,src:y(e,v),alt:"preview-".concat(t),className:"w-full h-[150px] object-cover"}),(0,r.jsx)("button",{className:"absolute top-2 right-2 bg-black rounded-full p-1 text-white hover:bg-gray-800",onClick:a=>{a.preventDefault(),a.stopPropagation(),E(t,e.id)},children:(0,r.jsx)(U.aHS,{size:14})}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs px-2 py-1 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"text-xs font-medium mr-1",children:e.name||"File"})}),(0,r.jsxs)("span",{className:"text-xs",children:[Math.round(e.size/1024)," KB"]})]})]},t)),[s.galleryImages,E,y,h]);return(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(eF._,{className:"font-medium text-gray-800",children:[h("titleImg")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),s.titleImages.length>0?(0,r.jsx)("div",{className:"rounded-md overflow-hidden",children:Z}):(0,r.jsx)("div",{className:"primaryBackgroundBg rounded-md",children:(0,r.jsxs)("div",{...N(),className:"border border-dashed p-4 rounded-md cursor-pointer transition-colors duration-200 flex flex-col items-center justify-center min-h-[120px] ".concat(_?"border-primary bg-primary/5":"border-gray-300"),children:[(0,r.jsx)("input",{...w()}),(0,r.jsx)("div",{className:"text-center text-gray-500",children:_?(0,r.jsx)("span",{children:h("dropFiles")}):(0,r.jsxs)("span",{children:[h("dragDrop")," ",(0,r.jsx)("span",{className:"underline",children:h("browse")})]})})]})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(eF._,{className:"font-medium text-gray-800",children:h("docs")}),(0,r.jsx)("div",{className:"primaryBackgroundBg rounded-md",children:(0,r.jsxs)("div",{...S(),className:"border border-dashed p-4 rounded-md cursor-pointer transition-colors duration-200 flex flex-col items-center justify-center min-h-[120px] ".concat(A?"border-primary bg-primary/5":"border-gray-300"),children:[(0,r.jsx)("input",{...B()}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{className:"text-center text-gray-500 mb-3",children:A?(0,r.jsx)("span",{children:h("dropFiles")}):(0,r.jsxs)("span",{children:[h("dragDrop")," ",(0,r.jsx)("span",{className:"underline",children:h("browse")})]})}),s.documents.length>0&&(0,r.jsx)("div",{className:"w-full space-y-2 mt-4",children:z})]})]})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(eF._,{className:"font-medium text-gray-800",children:h("3dImage")}),s.images3D.length>0?(0,r.jsx)("div",{className:"rounded-md overflow-hidden",children:O}):(0,r.jsx)("div",{className:"primaryBackgroundBg rounded-md",children:(0,r.jsxs)("div",{...P(),className:"border border-dashed p-4 rounded-md cursor-pointer transition-colors duration-200 flex flex-col items-center justify-center min-h-[120px] ".concat(F?"border-primary bg-primary/5":"border-gray-300"),children:[(0,r.jsx)("input",{...T()}),(0,r.jsx)("div",{className:"text-center text-gray-500",children:F?(0,r.jsx)("span",{children:h("drop3dFiles")}):(0,r.jsxs)("span",{children:[h("drag3dFiles")," ",(0,r.jsx)("span",{className:"underline",children:h("browse")})]})})]})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(eF._,{className:"font-medium text-gray-800",children:h("galleryImages")}),(0,r.jsx)("div",{className:"primaryBackgroundBg rounded-md",children:(0,r.jsxs)("div",{...R(),className:"border border-dashed p-4 rounded-md cursor-pointer transition-colors duration-200 flex flex-col items-center justify-center min-h-[120px] ".concat(M?"border-primary bg-primary/5":"border-gray-300"),children:[(0,r.jsx)("input",{...L()}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{className:"text-center text-gray-500 mb-3",children:M?(0,r.jsx)("span",{children:h("dropgallaryFiles")}):(0,r.jsxs)("span",{children:[h("dragDrop")," ",(0,r.jsx)("span",{className:"underline",children:h("browse")})]})}),s.galleryImages.length>0&&(0,r.jsx)("div",{className:"w-full space-y-2 mt-4 grid grid-cols-1 gap-2",children:q})]})]})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(eF._,{htmlFor:"video-link",className:"font-medium text-gray-800",children:h("videoLink")}),(0,r.jsx)(eC.I,{id:"video-link",type:"text",value:s.videoLink,onChange:e=>{i(t=>({...t,videoLink:e.target.value}))},placeholder:h("enterVideoLink"),className:"w-full px-3 py-2 primaryBackgroundBg rounded-md focus:outline-none focus:border-none focus:border-transparent"})]})]}),(0,r.jsx)("div",{className:"flex justify-end mt-8",children:(0,r.jsx)(n.z,{type:"button",onClick:()=>{a("imagesVideo",null)},className:"px-10 py-5",disabled:t,children:t?(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h("loading")]}):m?h("updateProperty"):h("submitProperty")})})]})},tu=e=>{let{tags:t,setTags:a,maxTags:s,name:i,setData:n}=e,d=(0,o.m)(),[c,m]=(0,l.useState)(""),[u,p]=(0,l.useState)(""),x=e=>{let r=t.filter(t=>t!==e);a(r),p(""),n&&n(r.join(","),i)};return(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 p-1 border rounded-md primaryBackgroundBg min-h-fit",children:[t.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-1 bg-primary/10 text-primary px-2 py-1 rounded-md",children:[(0,r.jsx)("span",{children:e}),(0,r.jsx)("button",{type:"button",onClick:()=>x(e),className:"text-primary/70 hover:text-primary focus:outline-none",children:(0,r.jsx)(U.aHS,{size:12})})]},t)),(0,r.jsx)(eC.I,{type:"text",value:c,onChange:e=>{m(e.target.value),p("")},onKeyDown:e=>{if(("Tab"===e.key||"Enter"===e.key||","===e.key)&&""!==c.trim()){e.preventDefault();let r=c.trim();if(t.some(e=>e.toLowerCase()===r.toLowerCase())){p("Tag already exists");return}let s=[...t,r];a(s),m(""),p(""),n&&n(s.join(","),i)}else if("Backspace"===e.key&&""===c&&t.length>0){let e=[...t];e.pop(),a(e),p(""),n&&n(e.join(","),i)}},placeholder:0===t.length?d("typeAndPressEnterTabOrSpaceToAddKeywords"):"",className:"flex-grow placeholder:text-wrap w-full h-fit bg-transparent border-0 focus:outline-none focus:border-none focus:ring-0 shadow-none min-w-[150px]"})]}),u&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:u}),t.length>=s&&(0,r.jsxs)("p",{className:"text-red-500 text-xs mt-1",children:[d("maximumOf")," ",s," ",d("tagsReached")]}),(0,r.jsxs)("div",{className:"text-xs md:text-sm",children:[d("note"),": ",d("pressEnterTabOrCommaToAddTags")]})]})},tp=e=>{let{handleTabChange:t,seoFormData:a,handleFillSeoFormData:s,handleSeoImageUpload:i,isEditing:d=!1,isProperty:m=!0,setIsRemoveOgImage:u}=e,p=(0,o.m)(),[x,h]=(0,l.useState)([]),g=(0,l.useCallback)(e=>{e&&e.length>0&&(h([e[0]]),d&&i?i(e[0]):s(null,"ogImage",e[0]))},[d,i,s]),f=e=>{h([]),s(null,"ogImage",null),u(!0)},{getRootProps:v,getInputProps:y,isDragActive:j}=(0,te.uI)({onDrop:g,accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/webp":[".webp"]},multiple:!1});(0,l.useEffect)(()=>{a.ogImage&&0===x.length&&h([a.ogImage])},[a.ogImage,x.length]);let b=(0,l.useMemo)(()=>x.map((e,t)=>(0,r.jsxs)("div",{className:"relative mb-2 rounded-md overflow-hidden w-full",children:[(0,r.jsx)(c(),{src:e instanceof File?URL.createObjectURL(e):e,alt:"preview-".concat(t),className:"w-full h-[150px] object-cover",width:0,height:0}),(0,r.jsx)("button",{className:"absolute top-2 right-2 bg-black rounded-full p-1 text-white hover:bg-gray-800",onClick:e=>{e.preventDefault(),e.stopPropagation(),f(t)},children:(0,r.jsx)(U.aHS,{size:14})}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs px-2 py-1 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"text-xs font-medium mr-1",children:e.name||"File"})}),(0,r.jsxs)("span",{className:"text-xs",children:[Math.round(e.size/1024)," KB"]})]})]},t)),[x]),N=(0,l.useMemo)(()=>a.metaKeywords?a.metaKeywords.split(",").filter(e=>e.trim().length>0):[],[a.metaKeywords]),w=a.metaTitle.length<=60,_=a.metaDescription.length>=150&&a.metaDescription.length<=160;return(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eF._,{htmlFor:"meta-title",className:"font-medium text-gray-800",children:p("metaTitle")}),(0,r.jsx)(S.pn,{children:(0,r.jsxs)(S.u,{children:[(0,r.jsx)(S.aJ,{asChild:!0,children:(0,r.jsx)("span",{className:"cursor-help text-gray-500 hover:text-gray-700",children:(0,r.jsx)(U.DAO,{size:14})})}),(0,r.jsx)(S._v,{className:"max-w-xs",children:(0,r.jsx)("p",{children:p("metaTitleTooltip")})})]})})]}),(0,r.jsx)(eC.I,{type:"text",id:"metaTitle",value:a.metaTitle,name:"metaTitle",maxLength:60,onChange:s,placeholder:p("enterPropertyMetaTitle"),className:"w-full px-3 py-2 primaryBackgroundBg rounded-md focus:outline-none focus:border-none focus:border-transparent ".concat(w?"":"border-red-500")})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eF._,{htmlFor:"og-image",className:"font-medium text-gray-800",children:p("ogImage")}),(0,r.jsx)(S.pn,{children:(0,r.jsxs)(S.u,{children:[(0,r.jsx)(S.aJ,{asChild:!0,children:(0,r.jsx)("span",{className:"cursor-help text-gray-500 hover:text-gray-700",children:(0,r.jsx)(U.DAO,{size:14})})}),(0,r.jsx)(S._v,{className:"max-w-xs",children:(0,r.jsx)("p",{children:p("ogImageTooltip")})})]})})]}),x.length>0?(0,r.jsx)("div",{className:"rounded-md overflow-hidden",children:b}):(0,r.jsx)("div",{className:"primaryBackgroundBg rounded-md",children:(0,r.jsxs)("div",{...v(),className:"border border-dashed p-4 rounded-md cursor-pointer transition-colors duration-200 flex flex-col items-center justify-center min-h-[120px] ".concat(j?"border-primary bg-primary/5":"border-gray-300"),children:[(0,r.jsx)("input",{...y(),name:"ogImage"}),(0,r.jsx)("div",{className:"text-center text-gray-500",children:j?(0,r.jsx)("span",{children:p("dropToUpload")}):(0,r.jsxs)("span",{children:[p("dragDrop")," ",(0,r.jsx)("span",{className:"underline",children:p("browse")})]})})]})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eF._,{htmlFor:"meta-keyword",className:"font-medium text-gray-800",children:p("metaKeywords")}),(0,r.jsx)(S.pn,{children:(0,r.jsxs)(S.u,{children:[(0,r.jsx)(S.aJ,{asChild:!0,children:(0,r.jsx)("span",{className:"cursor-help text-gray-500 hover:text-gray-700",children:(0,r.jsx)(U.DAO,{size:14})})}),(0,r.jsx)(S._v,{className:"max-w-xs",children:(0,r.jsxs)("p",{children:[p("metaKeywordsTooltip"),N.length,"/",p("maxTags"),"."]})})]})})]}),(0,r.jsx)(tu,{tags:N,setTags:e=>s(null,"metaKeywords",e.join(",")),name:"metaKeywords",setData:s})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eF._,{htmlFor:"meta-description",className:"font-medium text-gray-800",children:p("metaDescription")}),(0,r.jsx)(S.pn,{children:(0,r.jsxs)(S.u,{children:[(0,r.jsx)(S.aJ,{asChild:!0,children:(0,r.jsx)("span",{className:"cursor-help text-gray-500 hover:text-gray-700",children:(0,r.jsx)(U.DAO,{size:14})})}),(0,r.jsx)(S._v,{className:"max-w-xs",children:(0,r.jsxs)("p",{children:[p("metaDescriptionTooltip"),a.metaDescription.length]})})]})})]}),(0,r.jsx)(ek,{id:"metaDescription",value:a.metaDescription,name:"metaDescription",onChange:s,placeholder:p("enterPropertyMetaDescription"),className:"w-full px-3 py-2 primaryBackgroundBg rounded-md focus:outline-none focus:border-none focus:border-transparent resize-none h-24 ".concat(!_&&a.metaDescription.length>0?"border-red-500":"")})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(n.z,{onClick:()=>t(m?"facilities":"location"),className:"px-10 py-5",children:p(d?"save":"next")})})]})},tx=e=>{let{value:t,checked:a,onChange:s,label:l,name:i}=e;return(0,r.jsx)("div",{className:"flex items-center gap-2 primaryBackgroundBg ".concat(a?"primaryBorderColor":""," relative p-2 rounded-lg w-full"),children:(0,r.jsxs)("label",{htmlFor:"propertyType".concat(t),className:"flex items-center gap-2 w-full cursor-pointer",children:[(0,r.jsx)("input",{id:"propertyType".concat(t),type:"radio",name:i,value:t,checked:a,onChange:e=>{s(e,i,t)},className:"peer sr-only"}),(0,r.jsx)("div",{className:"w-5 h-5 rounded-full border bg-white peer-checked:primaryBg outline outline-1 outline-black peer-checked:border-white flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-2 h-2 rounded-full primaryBg scale-0 peer-checked:scale-100 transition-transform"})}),(0,r.jsx)("span",{children:l})]})})},th=e=>{let{value:t,onChange:a,name:s}=e,l=(0,o.m)();return(0,r.jsx)("div",{className:"w-full min-w-[170px] max-w-[250px] space-y-2",children:(0,r.jsxs)(eR.Ph,{defaultValue:t,onValueChange:e=>a(e,s),className:"primaryBackgroundBg ",children:[(0,r.jsx)(eR.i4,{className:"!py-5 border-none focus:ring-0 primaryBackgroundBg text-gray-500",children:(0,r.jsx)(eR.ki,{placeholder:l("selectRentDuration")||"Select Rent Duration"})}),(0,r.jsxs)(eR.Bw,{className:"primaryBackgroundBg text-gray-500",children:[(0,r.jsx)(eR.Ql,{className:"hover:cursor-pointer",value:"none",children:l("selectRentDuration")||"Select Rent Duration"}),(0,r.jsx)(eR.Ql,{className:"hover:cursor-pointer",value:"Daily",children:l("daily")||"Daily"}),(0,r.jsx)(eR.Ql,{className:"hover:cursor-pointer",value:"Monthly",children:l("monthly")||"Monthly"}),(0,r.jsx)(eR.Ql,{className:"hover:cursor-pointer",value:"Yearly",children:l("yearly")||"Yearly"}),(0,r.jsx)(eR.Ql,{className:"hover:cursor-pointer",value:"Quarterly",children:l("quarterly")||"Quarterly"})]})]})})},tg=e=>{var t,a,s,i,d;let{selectedCategory:m,handleRemoveCategory:u,handleUpdatePropertyForm:p,propertyFormData:x,handleCheckRequiredFields:h,isEditing:g=!1,selectedLanguage:f,setSelectedLanguage:y,languages:j=[],translations:b=[],handleMultiLangChange:w}=e,_=(0,o.m)(),C=(0,v.dZ)(),S=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),B=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.default_language}),A=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.current_language})||{},D=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.languages})||[],P=(0,l.useMemo)(()=>{if(B){let e=D.find(e=>e.code===B||e.id===B);if(e)return e}return A&&A.id?A:{id:"English",name:"English",code:"en"}},[B,A,D]),T=(0,l.useMemo)(()=>{let e=new Map;A&&A.id&&e.set(A.code||A.id,A);let t=P.code||P.id;return e.has(t)||e.set(t,P),D.forEach(t=>{e.has(t.code)||e.set(t.code,t)}),j.forEach(t=>{let a="object"==typeof t?t.code||t.id:t;a&&!e.has(a)&&e.set(a,t)}),Array.from(e.values())},[A,P,D,j]),F=e=>b.find(t=>"object"==typeof e?t.language_id===e.id:t.language_id===e),I=(e,t)=>{let a=F(e);return a&&a[t]||""},E=e=>"object"==typeof f&&"object"==typeof e?f.id===e.id:"string"==typeof f&&"string"==typeof e&&f===e,R=e=>!!e&&("object"==typeof e&&"object"==typeof P?e.id&&P.id&&e.id===P.id||e.code&&P.code&&e.code===P.code||e.name&&P.name&&e.name===P.name:"string"==typeof e&&"object"==typeof P?e===P.id||e===P.code||e===P.name||"English"===e:e===P),L=e=>R(e)||e===S,M=(e,t)=>{if(e&&e.target){let{name:a,value:r}=e.target;R(f)||f===S?"title"===a?p({target:{name:"propertyTitle",value:r}}):"description"===a?p({target:{name:"propertyDescription",value:r}}):p(e):w(f,t||a,r)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-7 mb-6 overflow-x-auto",children:[(0,r.jsx)("button",{onClick:()=>y(P),className:"px-8 py-3 rounded-lg whitespace-nowrap ".concat(E(P)||f===S&&R(S)?"secondaryTextBg text-white":"btnBorder secondaryTextColor"),children:"object"==typeof P?P.name:P},"object"==typeof P?P.id||P.code:P),T.filter(e=>!!e&&("object"==typeof e&&"object"==typeof P?e.id!==P.id&&e.code!==P.code:e!==P)).map(e=>(0,r.jsx)("button",{onClick:()=>y(e),className:"px-8 py-3 rounded-lg whitespace-nowrap ".concat(E(e)||"object"==typeof f&&"object"==typeof e&&f.name===e.name?"secondaryTextBg text-white":"btnBorder secondaryTextColor"),children:"object"==typeof e?e.name:e},"object"==typeof e?e.id||e.code:e))]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(R(f)||f===S)&&m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:_("selectedCategory")}),(0,r.jsxs)("div",{className:"flex items-center gap-2 ".concat(!g&&u?"cursor-pointer":""),onClick:!g&&u?u:void 0,children:[(0,r.jsx)("div",{className:"primaryColor",children:(0,r.jsx)(c(),{height:0,width:0,src:m&&(null==m?void 0:m.image),className:"w-10 h-10 bg-white rounded-full",alt:m&&(null==m?void 0:m.category)})}),(0,r.jsx)("span",{children:m&&(null==m?void 0:m.category)})]})]}),(R(f)||f===S)&&(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("h3",{className:"font-medium mb-2 text-gray-800",children:[_("propertyType")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsx)(tx,{value:"Sell",name:"propertyType",checked:(null===(t=x.propertyType)||void 0===t?void 0:t.toLowerCase())==="sell",onChange:e=>p(e),label:_("sell")}),(0,r.jsx)(tx,{value:"Rent",name:"propertyType",checked:(null===(a=x.propertyType)||void 0===a?void 0:a.toLowerCase())==="rent",onChange:e=>p(e),label:_("rent")})]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)(eF._,{htmlFor:"property-title",className:"font-medium mb-2 block text-gray-800",children:[_("title")," ",L(f)&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(eC.I,{type:"text",id:"property-title",value:R(f)||f===S?x.propertyTitle:I(f,"title"),name:"title",onChange:e=>M(e,"title"),placeholder:_("enterPropertyTitle"),className:"w-full px-3 py-2 primaryBackgroundBg rounded-md focus:outline-none focus:border-none focus:border-transparent"})]}),(R(f)||f===S)&&(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)(eF._,{htmlFor:"property-slug",className:"font-medium mb-2 block text-gray-800",children:_("slug")}),(0,r.jsx)(eC.I,{type:"text",id:"property-slug",value:x.propertySlug,name:"propertySlug",onChange:e=>p(e),placeholder:_("enterPropertySlug"),className:"w-full px-3 py-2 primaryBackgroundBg rounded-md focus:outline-none focus:border-none focus:border-transparent"})]})]}),(R(f)||f===S)&&(0,r.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex flex-col ".concat((null===(s=x.propertyType)||void 0===s?void 0:s.toLowerCase())==="rent"?"w-1/3":"w-1/2"),children:[(0,r.jsxs)(eF._,{htmlFor:"property-price",className:"font-medium mb-2 block text-gray-800",children:[_("price")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(eC.I,{type:"number",id:"property-price",value:x.propertyPrice,name:"propertyPrice",onChange:e=>p(e),placeholder:_("enterPropertyPrice"),onInput:e=>{e.target.value<=0&&(e.target.value=null)},className:"w-full px-3 py-2 primaryBackgroundBg rounded-md focus:outline-none focus:border-none focus:border-transparent"})]}),(null===(i=x.propertyType)||void 0===i?void 0:i.toLowerCase())==="rent"&&(0,r.jsxs)("div",{className:"flex flex-col w-1/3",children:[(0,r.jsxs)(eF._,{htmlFor:"property-rent-duration",className:"font-medium mb-2 block text-gray-800",children:[_("rentDuration")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(th,{value:x.rentDuration,onChange:(e,t)=>p(e,t),name:"rentDuration"})]}),(0,r.jsxs)("div",{className:"flex flex-col ".concat((null===(d=x.propertyType)||void 0===d?void 0:d.toLowerCase())==="rent"?"w-1/3":"w-1/2"),children:[(0,r.jsx)("p",{className:"font-medium mb-2 text-gray-800",children:_("isPrivateProperty")}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(k.r,{checked:x.isPrivateProperty,name:"isPrivateProperty",onCheckedChange:e=>p(null,"isPrivateProperty",e),className:"".concat(x.isPrivateProperty?"!primaryBg":"","  sm:[&>span]:h-3 sm:[&>span]:w-3 ").concat(C?"sm:data-[state=checked]:[&>span]:-translate-x-5":"sm:data-[state=checked]:[&>span]:translate-x-5")})})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(eF._,{htmlFor:"property-description",className:"font-medium mb-2 block text-gray-800",children:[_("propertyDescription")," ",L(f)&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(ek,{id:"property-description",value:R(f)||f===S?x.propertyDescription:I(f,"description"),name:"description",onChange:e=>M(e,"description"),placeholder:_("enterPropertyDescription"),className:"w-full h-full px-3 py-2 rounded-md focus:outline-none focus:border-none primaryBackgroundBg focus:border-transparent"})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(n.z,{onClick:()=>h("propertyDetails","seoSettings"),className:"px-10 py-5",children:_(g?"save":"next")})})]})},tf={src:"/_next/static/media/SuccessTick.e26e9e26.gif"},tv=()=>{let e=(0,s.useRouter)(),{locale:t}=null==e?void 0:e.query,a=(0,N.v9)(e=>{var t;return null===(t=e.WebSetting)||void 0===t?void 0:t.data}),i=(0,N.v9)(e=>{var t;return null===(t=e.User)||void 0===t?void 0:t.data}),n=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.languages})||[],d=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),c=(0,o.m)(),[p,x]=(0,l.useState)("categories"),[h,g]=(0,l.useState)(!0),[f,y]=(0,l.useState)(!1),[j,b]=(0,l.useState)([]),[w,_]=(0,l.useState)(!1),[C,k]=(0,l.useState)(0),[S,B]=(0,l.useState)([]),[A,D]=(0,l.useState)(!1),P=(0,N.v9)(e=>e.location),T=l.useMemo(()=>d&&n.length&&n.find(e=>e.code===d)||null,[d,n]),[F,I]=(0,l.useState)(T||d||"English"),[E,R]=(0,l.useState)([]),L=[{id:"categories",label:c("categories")},{id:"propertyDetails",label:c("propertyDetails")},{id:"seoSettings",label:c("seoSettings")},{id:"facilities",label:c("facilities")},{id:"outdoorFacilities",label:c("outdoorFacilities")},{id:"location",label:c("location")},{id:"imagesVideo",label:c("imagesVideo")}],[M,Z]=(0,l.useState)({}),[z,O]=(0,l.useState)({}),[U,q]=(0,l.useState)(""),[K,W]=(0,l.useState)({propertyType:"Sell",propertyTitle:"",propertySlug:"",propertyPrice:"",propertyDescription:"",isPrivateProperty:!1,rentDuration:""}),[Y,Q]=(0,l.useState)({metaTitle:"",metaKeywords:"",metaDescription:"",ogImage:null}),[J,G]=(0,l.useState)({titleImages:[],documents:[],images3D:[],galleryImages:[],videoLink:""}),[$,X]=(0,l.useState)({city:(null==P?void 0:P.city)||"",state:(null==P?void 0:P.state)||"",country:(null==P?void 0:P.country)||"",formattedAddress:(null==P?void 0:P.formatted_address)||"",latitude:(null==P?void 0:P.latitude)||"",longitude:(null==P?void 0:P.longitude)||""}),et=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2],G(a=>{let r=[...a[e]];return r.splice(t,1),{...a,[e]:r}})},ea=(e,t)=>{let a=!1;switch(e){case"categories":U||(V.ZP.error(c("pleaseSelectCategory")),a=!0);break;case"propertyDetails":if(!K.propertyTitle){V.ZP.error(c("propertyTitleRequired")),a=!0;break}if(!K.propertyPrice){V.ZP.error(c("propertyPriceRequired")),a=!0;break}if(!K.propertyDescription){V.ZP.error(c("propertyDescriptionRequired")),a=!0;break}"Rent"!==K.propertyType||K.rentDuration||(V.ZP.error(c("rentDurationRequired")),a=!0);break;case"facilities":if(U&&j.length>0){let e=j.find(e=>e.id===(null==U?void 0:U.id));if(e&&e.parameter_types)for(let t of"object"==typeof e.parameter_types?Object.values(e.parameter_types).filter(e=>1===e.is_required):e.parameter_types.filter(e=>1===e.is_required)){let e=z[t.id];if(void 0===e||""===e||null===e){V.ZP.error("".concat(c("pleaseFillRequiredField")," ").concat(t.name)),a=!0;break}}}break;case"outdoorFacilities":if(S.length>0)for(let e of S.filter(e=>1===e.is_required)){let t=M[e.id];if(void 0===t||""===t||null===t){V.ZP.error("".concat(c("distanceFor")," ").concat(e.name," ").concat(c("isRequired"))),a=!0;break}}break;case"location":if(!$.city){V.ZP.error(c("cityIsRequired")),a=!0;break}if(!$.state){V.ZP.error(c("stateIsRequired")),a=!0;break}if(!$.country){V.ZP.error(c("countryIsRequired")),a=!0;break}$.formattedAddress||(V.ZP.error(c("addressIsRequired")),a=!0);break;case"imagesVideo":if(0===J.titleImages.length){V.ZP.error(c("titleImageRequired")),a=!0;break}if(!a&&null===t){ed();return}}!a&&t&&x(t)},er=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(g(!0),k(0)):y(!0);try{let a=await (0,m.BH)({limit:12,offset:e,passHasProperty:!1});t?b(a.data):b(e=>[...e,...a.data]),_(a.data.length>=12)}catch(e){console.error("Failed to fetch categories:",e)}finally{g(!1),y(!1)}},es=async()=>{try{let e=await (0,m.DS)();B(e.data)}catch(e){console.error("Failed to fetch facilities:",e)}};(0,l.useEffect)(()=>{"categories"===p&&0===j.length?er(0,!0):"categories"===p&&0===S.length&&es()},[p,j.length,S.length]),(0,l.useEffect)(()=>{er(0,!0),es()},[d]);let el=async()=>{let e=C+12;k(e),await er(e,!1)},ei=e=>{ea(p,e),I(T||d||"English")},en=e=>{q(e),x("propertyDetails")},eo=()=>(0,r.jsxs)("div",{className:"flex items-center justify-center p-4 rounded-lg primaryBackgroundBg gap-3",children:[(0,r.jsx)(u.O,{className:"h-12 w-12 rounded-full bg-gray-200"}),(0,r.jsx)(u.O,{className:"h-6 w-24 bg-gray-200"})]}),ed=async r=>{r&&r.preventDefault(),D(!0);try{var s;let r=E.map((e,t)=>({translation_id:t,language_id:e.language_id,title:e.title||"",description:e.description||""})),l={userid:null==i?void 0:i.id,title:K.propertyTitle,description:K.propertyDescription,city:$.city,state:$.state,country:$.country,latitude:$.latitude,longitude:$.longitude,address:$.formattedAddress,price:K.propertyPrice,category_id:U.id,property_type:(null===(s=K.propertyType)||void 0===s?void 0:s.toLowerCase())==="sell"?"0":"1",video_link:J.videoLink,parameters:z,facilities:M,title_image:J.titleImages[0],three_d_image:J.images3D[0],gallery_images:J.galleryImages,meta_title:Y.metaTitle,meta_description:Y.metaDescription,meta_keywords:Y.metaKeywords,meta_image:Y.ogImage,rentduration:K.rentDuration,is_premium:K.isPrivateProperty,client_address:null==i?void 0:i.address,slug_id:K.propertySlug,documents:J.documents,translations:r},n=await (0,m.IB)(l);D(!1),n&&!n.error?H().fire({imageUrl:tf.src,imageWidth:160,imageHeight:160,title:c("propertySubmittedSuccess"),text:(null==a?void 0:a.auto_approve)?"":null==a?void 0:a.text_property_submission,allowOutsideClick:!1,showCancelButton:!1,customClass:{confirmButton:"Swal-confirm-buttons",cancelButton:"Swal-cancel-buttons"},confirmButtonText:c("ok")}).then(a=>{e.push("/".concat(t,"/user/properties"))}):V.ZP.error(c(null==n?void 0:n.message)||c("failedToAddProperty"))}catch(e){D(!1),V.ZP.error(c(null==e?void 0:e.message)||c("somethingWentWrong")),console.error("Error adding property:",e)}};return(0,r.jsxs)("div",{className:"space-y-4 p-2 md:p-0",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:c("addProperty")}),(0,r.jsxs)("div",{className:"bg-white",children:[(0,r.jsx)("div",{className:"border-b",children:(0,r.jsx)("div",{className:"flex overflow-x-auto",children:L.map(e=>(0,r.jsx)("button",{onClick:()=>ei(e.id),className:"relative px-6 py-3 rounded-none border-b-2 whitespace-nowrap ".concat(p===e.id?"primaryBorderColor primaryColor":"border-transparent text-gray-500 hover:text-gray-700"),children:e.label},e.id))})}),(0,r.jsx)("div",{className:"p-6",children:"categories"===p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:h?Array.from({length:5}).map((e,t)=>(0,r.jsx)(eo,{},t)):j.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-center py-2 px-3 md:p-4 rounded-lg cursor-pointer transition-colors duration-500 primaryBackgroundBg gap-3 hover:primaryBg hover:text-white ".concat(U&&(null==U?void 0:U.id)===e.id?"!primaryBg text-white":""),onClick:()=>en(e),children:[(0,r.jsx)("div",{className:"w-10 h-10 flex justify-center items-center bg-white rounded-full",children:(0,r.jsx)(ee.Z,{src:e.image,alt:e.translated_name||e.category,className:"w-7 h-7"})}),(0,r.jsx)("span",{className:"text-lg font-semibold",children:(null==e?void 0:e.translated_name)||(null==e?void 0:e.category)})]},e.id))}),f&&(0,r.jsx)("div",{className:"flex flex-wrap items-center gap-4 mt-4",children:Array.from({length:3}).map((e,t)=>(0,r.jsx)(eo,{},"more-".concat(t)))}),!h&&w&&(0,r.jsx)("div",{className:"flex justify-center mt-6",children:(0,r.jsx)("button",{onClick:el,className:"border primaryColor primaryBorderColor px-4 py-2 rounded-md disabled:opacity-70",disabled:f,children:f?c("loading"):c("loadMore")})})]}):(0,r.jsxs)(r.Fragment,{children:["propertyDetails"===p&&(0,r.jsx)("div",{className:"flex flex-col gap-12",children:(0,r.jsx)(tg,{selectedCategory:U,handleRemoveCategory:()=>{q(""),x("categories")},handleUpdatePropertyForm:(e,t,a)=>{if(t&&void 0!==a){W(e=>({...e,[t]:a}));return}if("string"==typeof e&&t){W(a=>({...a,[t]:e}));return}if(e&&e.target){let{name:t,value:a,type:r,checked:s}=e.target;if("title"===t){W(e=>({...e,propertyTitle:a,propertySlug:(0,v.GD)(a)}));return}if("description"===t){W(e=>({...e,propertyDescription:a}));return}if("propertyTitle"===t){W(e=>({...e,[t]:a,propertySlug:(0,v.GD)(a)}));return}if("checkbox"===r){W(e=>({...e,[t]:s}));return}W(e=>({...e,[t]:a}))}},propertyFormData:K,handleCheckRequiredFields:ea,selectedLanguage:F,setSelectedLanguage:I,languages:n,translations:E,handleMultiLangChange:(e,t,a)=>{R(r=>{let s=r.findIndex(t=>t.language_id===e.id||t.language_id===e),l=[...r];return -1!==s?l[s]={...l[s],[t]:a}:l.push({language_id:e.id||e,[t]:a}),l})}})}),"seoSettings"===p&&(0,r.jsx)(tp,{handleTabChange:ei,seoFormData:Y,handleFillSeoFormData:(e,t,a)=>{if(t&&void 0!==a){Q(e=>({...e,[t]:a}));return}if(e&&e.target){let{name:t,value:a}=e.target;Q(e=>({...e,[t]:a}))}}}),"facilities"===p&&(0,r.jsx)(tn,{formData:z,setFormData:O,selectedCategory:U,categories:j,handleTabChange:ei,handleCheckRequiredFields:ea}),"outdoorFacilities"===p&&(0,r.jsx)(to,{facilities:S,handleTabChange:ei,facilityDistances:M,handleDistanceChange:(e,t)=>{let a=parseFloat(t),r=isNaN(a)||a<0?0:a;Z(t=>({...t,[e]:r}))}}),"location"===p&&(0,r.jsx)(tc,{selectedLocationAddress:$,setSelectedLocationAddress:X,handleLocationSelect:e=>{X(t=>({...t,city:e.city||t.city,state:e.state||t.state,country:e.country||t.country,formattedAddress:e.formattedAddress||t.formattedAddress,latitude:(null==e?void 0:e.latitude)||(null==e?void 0:e.lat)||t.latitude,longitude:(null==e?void 0:e.longitude)||(null==e?void 0:e.lng)||t.longitude}))},handleCheckRequiredFields:ea}),"imagesVideo"===p&&(0,r.jsx)(tm,{showLoader:A,handleCheckRequiredFields:ea,mediaFormData:J,setMediaFormData:G,handleRemoveMedia:et,handleRemoveGalleryImages:(e,t)=>{et("galleryImages",e)},handleRemoveDocuments:(e,t)=>{et("documents",e)}})]})})]})]})},ty=e=>{let{params:t=[]}=e,a=(0,s.useRouter)(),{locale:i,slug:n}=null==a?void 0:a.query,d=(null==t?void 0:t[0])||(null==n?void 0:n.split("/")[1]),c=(0,N.v9)(e=>{var t;return null===(t=e.WebSetting)||void 0===t?void 0:t.data}),p=(0,N.v9)(e=>{var t;return null===(t=e.User)||void 0===t?void 0:t.data}),x=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.languages})||[],h=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),g=(0,o.m)(),[f,y]=(0,l.useState)("categories"),[j,b]=(0,l.useState)(!0),[w,_]=(0,l.useState)(!1),[C,k]=(0,l.useState)([]),[S,B]=(0,l.useState)(!1),[A,D]=(0,l.useState)(0),[P,T]=(0,l.useState)([]),[F,I]=(0,l.useState)(!1),[E,R]=(0,l.useState)(!0),[L,M]=(0,l.useState)(null),[Z,z]=(0,l.useState)(!1),O=l.useMemo(()=>h&&x.length&&x.find(e=>e.code===h)||null,[h,x]),[U,q]=(0,l.useState)(O||h||"English"),[K,W]=(0,l.useState)([]),Y=[{id:"propertyDetails",label:g("propertyDetails")},{id:"seoSettings",label:g("seoSettings")},{id:"facilities",label:g("facilities")},{id:"outdoorFacilities",label:g("outdoorFacilities")},{id:"location",label:g("location")},{id:"imagesVideo",label:g("imagesVideo")}],[Q,J]=(0,l.useState)({}),[G,$]=(0,l.useState)({}),[X,ee]=(0,l.useState)(""),[et,ea]=(0,l.useState)({propertyType:"Sell",propertyTitle:"",propertySlug:"",propertyPrice:"",propertyDescription:"",isPrivateProperty:!1,rentDuration:""}),[er,es]=(0,l.useState)({metaTitle:"",metaKeywords:"",metaDescription:"",ogImage:null}),[el,ei]=(0,l.useState)({titleImages:[],documents:[],images3D:[],galleryImages:[],videoLink:""}),[en,eo]=(0,l.useState)({titleImages:[],documents:[],images3D:[],galleryImages:[],ogImage:null}),[ed,ec]=(0,l.useState)({city:"",state:"",country:"",formattedAddress:"",latitude:0,longitude:0}),[em,eu]=(0,l.useState)(new Set),[ep,ex]=(0,l.useState)(new Set),[eh,eg]=(0,l.useState)(!1),[ef,ev]=(0,l.useState)(!1),[ey,ej]=(0,l.useState)(!1),eb=(e,t)=>{let a=!1;switch(e){case"propertyDetails":if(!et.propertyTitle){V.ZP.error(g("propertyTitleRequired")),a=!0;break}if(!et.propertyPrice){V.ZP.error(g("propertyPriceRequired")),a=!0;break}if(!et.propertyDescription){V.ZP.error(g("propertyDescriptionRequired")),a=!0;break}"Rent"!==et.propertyType||et.rentDuration||(V.ZP.error(g("rentDurationRequired")),a=!0);break;case"facilities":if(X&&C.length>0){let e=C.find(e=>e.id===(null==X?void 0:X.id));if(e&&e.parameter_types)for(let t of"object"==typeof e.parameter_types?Object.values(e.parameter_types).filter(e=>1===e.is_required):e.parameter_types.filter(e=>1===e.is_required)){let e=G[t.id];if(void 0===e||""===e||null===e){V.ZP.error("".concat(g("pleaseFillRequiredField")," ").concat(t.name)),a=!0;break}}}break;case"outdoorFacilities":if(P.length>0)for(let e of P.filter(e=>1===e.is_required)){let t=Q[e.id];if(void 0===t||""===t||null===t){V.ZP.error("".concat(g("distanceFor")," ").concat(e.name," ").concat(g("isRequired"))),a=!0;break}}break;case"location":if(!ed.city){V.ZP.error(g("cityIsRequired")),a=!0;break}if(!ed.state){V.ZP.error(g("stateIsRequired")),a=!0;break}if(!ed.country){V.ZP.error(g("countryIsRequired")),a=!0;break}ed.formattedAddress||(V.ZP.error(g("addressIsRequired")),a=!0);break;case"imagesVideo":if(0===el.titleImages.length){V.ZP.error(g("titleImageRequired")),a=!0;break}if(!a&&null===t){ek();return}}!a&&t&&y(t)},eN=async function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(b(!0),D(0)):_(!0);try{let t=await (0,m.BH)({id:null==X?void 0:X.id,passHasProperty:!1});e?k(t.data):k(e=>[...e,...t.data]),B(t.data.length>=12)}catch(e){console.error("Failed to fetch categories:",e)}finally{b(!1),_(!1)}},ew=async()=>{try{let e=await (0,m.DS)();T(e.data)}catch(e){console.error("Failed to fetch facilities:",e)}},e_=async()=>{if(n||d)try{R(!0);let t=await (0,m.IC)({slug_id:d||n});if(t&&t.data&&t.data.length>0){var e;let a=t.data[0];if(M(a.id),ee(a.category),y("propertyDetails"),ea({propertyType:"1"===a.property_type||(null===(e=a.property_type)||void 0===e?void 0:e.toLowerCase())==="rent"?"Rent":"Sell",propertyTitle:a.title||"",propertySlug:a.slug_id||"",propertyPrice:a.price||"",propertyDescription:a.description||"",isPrivateProperty:!0===a.is_premium,rentDuration:a.rentduration||""}),es({metaTitle:a.meta_title||"",metaKeywords:a.meta_keywords||"",metaDescription:a.meta_description||"",ogImage:null}),ec({city:a.city||"",state:a.state||"",country:a.country||"",formattedAddress:a.address||"",latitude:a.latitude||0,longitude:a.longitude||0}),ei({titleImages:[],documents:a.documents||[],images3D:[],galleryImages:[],videoLink:a.video_link||""}),a.parameters){let e=a.parameters.reduce((e,t)=>{try{e[t.id]=t.value}catch(a){console.error("Error parsing value for parameter ".concat(t.id,":"),a),e[t.id]=t.value}return e},{});$(e)}if(a.translations&&Array.isArray(a.translations)){let e={};a.translations.forEach(t=>{let a=t.language_id;e[a]||(e[a]={language_id:a,title:"",description:"",title_translation_id:"",description_translation_id:""}),"title"===t.key?(e[a].title=t.value||"",e[a].title_translation_id=t.id):"description"===t.key&&(e[a].description=t.value||"",e[a].description_translation_id=t.id)});let t=Object.values(e);W(t)}else W([]);if(a.assign_facilities){let e={};a.assign_facilities.forEach(t=>{e[t.facility_id]=t.distance}),J(e)}if(a.title_image){let e=a.title_image;try{let t=await fetch(e),a=await t.blob();if(a.type.startsWith("image/")){let e=new File([a],"title_image.jpg",{type:a.type||"image/jpeg"});e.isExisting=!0,ei(t=>({...t,titleImages:[e]}))}else console.error("Fetched title image is not an image")}catch(e){console.error("Error fetching title image:",e)}}if(a.three_d_image){let e=a.three_d_image;try{let t=await fetch(e),a=await t.blob();if("image/jpeg"===a.type||"image/png"===a.type||"image/svg+xml"===a.type||"image/jpg"===a.type||a.type.startsWith("image/")){let e=new File([a],"3D_image.jpg",{type:a.type||"image/jpeg"});e.isExisting=!0,ei(t=>({...t,images3D:[e]}))}else console.error("Fetched 3D image is not a valid image")}catch(e){console.error("Error fetching 3D image:",e)}}if(a.gallery&&a.gallery.length>0){let e=a.gallery.map(async e=>{try{let t=await fetch(e.image_url),a=await t.blob();if(a.type.startsWith("image/")){let t=new File([a],e.image||"gallery_".concat(e.id,".jpg"),{type:a.type||"image/jpeg"});return t.id=e.id,t.isExisting=!0,t}return null}catch(t){return console.error("Error fetching gallery image ".concat(e.id,":"),t),null}}),t=(await Promise.all(e)).filter(Boolean);ei(e=>({...e,galleryImages:t}))}if(a.meta_image){let e=a.meta_image;try{let t=await fetch(e),a=await t.blob();if(a.type.startsWith("image/")){let e=new File([a],"meta_image.jpg",{type:a.type||"image/jpeg"});e.isExisting=!0,es(t=>({...t,ogImage:e}))}else console.error("Fetched OG image is not an image")}catch(e){console.error("Error fetching OG image:",e)}}if(a.documents&&a.documents.length>0){let e=a.documents.map(async e=>{try{let t=await fetch(e.file),a=await t.blob(),r=new File([a],e.file_name||"document.pdf",{type:"pdf"===e.type?"application/pdf":"application/octet-stream"});return r.id=e.id,r.isExisting=!0,r}catch(e){return console.error("Error fetching document:",e),null}}),t=(await Promise.all(e)).filter(Boolean);ei(e=>({...e,documents:t}))}}else V.ZP.error(g("propertyNotFound")),a.push("/".concat(i,"/user/dashboard"))}catch(e){console.error("Failed to fetch property details:",e),V.ZP.error(g("failedToLoadPropertyDetails"))}finally{R(!1)}};(0,l.useEffect)(()=>{p&&d&&(e_(),ew())},[d,h]),(0,l.useEffect)(()=>{eN(0,!0)},[X]),(0,l.useEffect)(()=>{K.length>0&&!U&&q(O||h||"English")},[K,O,h,U]);let eC=e=>{eb(f,e),q(O||h||"English")},ek=async e=>{e&&e.preventDefault(),I(!0);try{var t;if(null==c?void 0:c.demo_mode)return H().fire({title:g("opps"),text:g("notAllowdDemo"),icon:"warning",showCancelButton:!1,customClass:{confirmButton:"Swal-confirm-buttons",cancelButton:"Swal-cancel-buttons"},confirmButtonText:g("ok")}),!1;let e=K.map((e,t)=>({title:{translation_id:e.title_translation_id||"",language_id:e.language_id,value:e.title||""},description:{translation_id:e.description_translation_id||"",language_id:e.language_id,value:e.description||""}})),r=[],s=[];for(let[e,t]of Object.entries(G))r.push({parameter_id:e,value:t});for(let[e,t]of Object.entries(Q))s.push({facility_id:e,distance:t});let l=en.images3D.length>0?en.images3D[0]:"",n=en.galleryImages.length>0?en.galleryImages:"",o=ef&&en.titleImages.length>0?en.titleImages[0]:"",d=ey&&en.ogImage?en.ogImage:"",u=Array.from(em),x=Array.from(ep),h=en.documents||[],f={id:L,action_type:"0",slug_id:et.propertySlug,title:et.propertyTitle,description:et.propertyDescription,price:et.propertyPrice,category_id:X.id,property_type:(null===(t=et.propertyType)||void 0===t?void 0:t.toLowerCase())==="sell"?"0":"1",rentduration:et.rentDuration?et.rentDuration:"",is_premium:et.isPrivateProperty,city:ed.city,state:ed.state,country:ed.country,latitude:ed.latitude,longitude:ed.longitude,address:ed.formattedAddress,client_address:(null==p?void 0:p.address)?null==p?void 0:p.address:"",parameters:r,facilities:s,title_image:o,three_d_image:l,gallery_images:n,video_link:el.videoLink,meta_title:er.metaTitle,meta_description:er.metaDescription,meta_keywords:er.metaKeywords,meta_image:d,documents:h,remove_gallery_images:u,remove_documents:x,remove_three_d_image:eh?1:"",translations:e,remove_meta_image:Z?1:""},v=await (0,m.Ks)(f);I(!1),v&&!v.error?(V.ZP.success(g(null==v?void 0:v.message)),a.push("/".concat(i,"/user/properties"))):V.ZP.error(g(null==v?void 0:v.message)||g("somethingWentWrong"))}catch(e){I(!1),V.ZP.error(g(null==e?void 0:e.message)||g("somethingWentWrong")),console.error("Error updating property:",e)}};return((0,l.useEffect)(()=>()=>{el.titleImages.forEach(e=>{e instanceof File&&URL.revokeObjectURL(URL.createObjectURL(e))}),el.images3D.forEach(e=>{e instanceof File&&URL.revokeObjectURL(URL.createObjectURL(e))}),el.galleryImages.forEach(e=>{e instanceof File&&URL.revokeObjectURL(URL.createObjectURL(e))})},[el]),E)?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(u.O,{className:"h-8 w-64"}),(0,r.jsx)("div",{className:"bg-white p-6",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(u.O,{className:"h-12 w-full"}),(0,r.jsx)(u.O,{className:"h-12 w-full"}),(0,r.jsx)(u.O,{className:"h-12 w-full"}),(0,r.jsx)(u.O,{className:"h-24 w-full"})]})})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:g("editProperty")}),(0,r.jsxs)("div",{className:"bg-white",children:[(0,r.jsx)("div",{className:"border-b",children:(0,r.jsx)("div",{className:"flex overflow-x-auto",children:Y.map(e=>(0,r.jsx)("button",{onClick:()=>eC(e.id),className:"relative px-6 py-3 rounded-none border-b-2 whitespace-nowrap ".concat(f===e.id?"primaryBorderColor primaryColor":"border-transparent text-gray-500 hover:text-gray-700"),children:e.label},e.id))})}),(0,r.jsxs)("div",{className:"p-6",children:["propertyDetails"===f&&(0,r.jsx)("div",{className:"flex flex-col gap-12",children:(0,r.jsx)(tg,{selectedCategory:X,handleRemoveCategory:null,handleUpdatePropertyForm:(e,t,a)=>{if(t&&void 0!==a){ea(e=>({...e,[t]:a}));return}if("string"==typeof e&&t){ea(a=>({...a,[t]:e}));return}if(e&&e.target){let{name:t,value:a,type:r,checked:s}=e.target;if("propertyTitle"===t){ea(e=>({...e,[t]:a,propertySlug:(0,v.GD)(a)}));return}if("checkbox"===r){ea(e=>({...e,[t]:s}));return}ea(e=>({...e,[t]:a}))}},propertyFormData:et,handleCheckRequiredFields:eb,isEditing:!0,selectedLanguage:U,setSelectedLanguage:q,languages:x,translations:K,handleMultiLangChange:(e,t,a)=>{W(r=>{let s=r.findIndex(t=>t.language_id===e.id||t.language_id===e),l=[...r];return -1!==s?l[s]={...l[s],[t]:a}:l.push({language_id:e.id||e,[t]:a}),l})}})}),"seoSettings"===f&&(0,r.jsx)(tp,{handleTabChange:eC,seoFormData:er,handleFillSeoFormData:(e,t,a)=>{if(t&&void 0!==a){es(e=>({...e,[t]:a}));return}if(e&&e.target){let{name:t,value:a}=e.target;es(e=>({...e,[t]:a}))}},handleSeoImageUpload:e=>{es(t=>({...t,ogImage:e})),eo(t=>({...t,ogImage:e})),ej(!0)},isEditing:!0,setIsRemoveOgImage:z}),"facilities"===f&&(0,r.jsx)(tn,{formData:G,setFormData:$,selectedCategory:X,categories:C,handleTabChange:eC,handleCheckRequiredFields:eb,isEditing:!0}),"outdoorFacilities"===f&&(0,r.jsx)(to,{facilities:P,handleTabChange:eC,facilityDistances:Q,handleDistanceChange:(e,t)=>{let a=parseFloat(t),r=isNaN(a)||a<0?0:a;J(t=>({...t,[e]:r}))},isEditing:!0}),"location"===f&&(0,r.jsx)(tc,{selectedLocationAddress:ed,setSelectedLocationAddress:ec,handleLocationSelect:e=>{ec(t=>({...t,city:e.city||t.city,state:e.state||t.state,country:e.country||t.country,formattedAddress:e.formattedAddress||t.formattedAddress,latitude:e.latitude||e.lat||t.latitude,longitude:e.longitude||e.lng||t.longitude}))},handleCheckRequiredFields:eb,isEditing:!0}),"imagesVideo"===f&&(0,r.jsx)(tm,{showLoader:F,handleCheckRequiredFields:eb,mediaFormData:el,setMediaFormData:ei,handleNewFileUpload:(e,t)=>{ei(a=>({...a,[e]:"titleImages"===e||"images3D"===e?[t[0]]:"documents"===e||"galleryImages"===e?[...a[e],...t]:t})),eo(a=>({...a,[e]:"titleImages"===e||"images3D"===e?[t[0]]:"documents"===e||"galleryImages"===e?[...a[e],...t]:t})),"titleImages"===e?ev(!0):"images3D"===e&&eg(!1)},isEditing:!0,handleRemoveGalleryImages:(e,t)=>{let a=el.galleryImages[e];ei(t=>{let a=[...t.galleryImages];return a.splice(e,1),{...t,galleryImages:a}}),(a.id||t)&&eu(e=>new Set([...e,a.id||t])),a.isExisting||eo(e=>{var t;let r=[...e.galleryImages||[]],s=null===(t=e.galleryImages)||void 0===t?void 0:t.find(e=>e.name===a.name&&e.size===a.size&&e.lastModified===a.lastModified);if(s){let t=e.galleryImages.indexOf(s);t>-1&&r.splice(t,1)}return{...e,galleryImages:r}})},handleRemoveDocuments:(e,t)=>{let a=el.documents[e];ei(t=>{let a=[...t.documents];return a[e],a.splice(e,1),{...t,documents:a}}),(a.id||t)&&ex(e=>new Set([...e,a.id||t])),a.isExisting||eo(e=>{var t;let r=[...e.documents||[]],s=null===(t=e.documents)||void 0===t?void 0:t.find(e=>e.name===a.name&&e.size===a.size&&e.lastModified===a.lastModified);if(s){let t=e.documents.indexOf(s);t>-1&&r.splice(t,1)}return{...e,documents:r}})},handleRemoveMedia:(e,t)=>{let a=el[e][t];"galleryImages"===e&&(a.id||a.isExisting)?a.id&&eu(e=>new Set([...e,a.id])):"documents"===e&&(a.id||a.isExisting)?a.id&&ex(e=>new Set([...e,a.id])):"images3D"===e?eg(!0):"titleImages"===e&&ev(!0),ei(a=>{let r=[...a[e]];return r.splice(t,1),{...a,[e]:r}}),a.isExisting||eo(t=>{var r;let s=[...t[e]||[]],l=null===(r=t[e])||void 0===r?void 0:r.find(e=>e.name===a.name&&e.size===a.size&&e.lastModified===a.lastModified);if(l){let a=t[e].indexOf(l);a>-1&&s.splice(a,1)}return{...t,[e]:"titleImages"===e||"images3D"===e?[]:s}})}})]})]})]})},tj=e=>{let{showLoader:t,handleCheckRequiredFields:a,mediaFormData:s,setMediaFormData:i,isEditing:d=!1,handleRemoveGalleryImages:m,handleRemoveDocuments:u,handleRemoveMedia:p}=e,x=(0,o.m)(),h=(0,l.useRef)(null),g=(0,l.useRef)(new Map);(0,l.useEffect)(()=>{let e=h.current,t=g.current;return()=>{e&&URL.revokeObjectURL(e),[...t.values()].forEach(e=>{URL.revokeObjectURL(e)})}},[]);let f=(0,l.useCallback)((e,t)=>{if("titleImage"===e){if(i(e=>({...e,titleImage:null})),h.current&&"string"!=typeof s.titleImage){try{URL.revokeObjectURL(h.current)}catch(e){console.error("Error revoking object URL:",e)}h.current=null}return}i(a=>{let r=[...a[e]];return r.splice(t,1),{...a,[e]:r}})},[s.titleImage,i]),v=(0,l.useCallback)((e,t)=>{if(d&&p){try{"titleImage"===e?p(e,0):p(e,t)}catch(a){console.error("Error in parent handler:",a),f(e,t)}return}f(e,t)},[d,p,f]),y=(0,l.useCallback)(e=>{if(e.length>0){let t=e[0];h.current&&(URL.revokeObjectURL(h.current),h.current=null),i(e=>({...e,titleImage:t}))}},[i]),{getRootProps:j,getInputProps:b,isDragActive:N}=(0,te.uI)({onDrop:y,accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/webp":[".webp"]},multiple:!1}),w=(0,l.useCallback)(e=>{i(t=>({...t,documents:[...t.documents,...e]}))},[i]),_=(0,l.useCallback)((e,t)=>{if(d&&u){u(e,t);return}v("documents",e)},[d,u,v]),{getRootProps:C,getInputProps:k,isDragActive:S}=(0,te.uI)({onDrop:w,accept:{"application/pdf":[".pdf"],"application/msword":[".doc",".docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},multiple:!0}),B=(0,l.useCallback)(e=>{i(t=>({...t,galleryImages:[...t.galleryImages,...e]}))},[i]),A=(0,l.useCallback)((e,t)=>{if(d&&m){m(e,t);return}v("galleryImages",e)},[d,m,v]),{getRootProps:D,getInputProps:P,isDragActive:T}=(0,te.uI)({onDrop:B,accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/webp":[".webp"]},multiple:!0}),F=(0,l.useMemo)(()=>{if(!s.titleImage)return null;try{let e=s.titleImage,t="string"==typeof e?e:(e=>{if("string"==typeof e)return e;if(!e)return null;try{return h.current||(h.current=URL.createObjectURL(e)),h.current}catch(e){return console.error("Error creating object URL:",e),""}})(e);return(0,r.jsxs)("div",{className:"relative mb-2 rounded-md overflow-hidden w-full",children:[(0,r.jsx)(c(),{height:0,width:0,src:t||"/placeholder-image.png",alt:"Title image preview",className:"w-full h-[150px] object-cover",onError:e=>{console.error("Image failed to load"),e.target.src="/placeholder-image.png"}}),(0,r.jsx)("button",{className:"absolute top-2 right-2 bg-black rounded-full p-1 text-white hover:bg-gray-800",onClick:e=>{e.preventDefault(),e.stopPropagation(),v("titleImage")},children:(0,r.jsx)(U.aHS,{size:14})}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs px-2 py-1 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"text-xs font-medium mr-1",children:"string"==typeof e?e.split("/").pop()||x("file"):e.name||x("file")})}),(0,r.jsx)("span",{className:"text-xs",children:"string"!=typeof e&&e.size?Math.round(e.size/1024)+" KB":""})]})]})}catch(e){return console.error("Error rendering title image:",e),null}},[s.titleImage,v,x]),I=(0,l.useMemo)(()=>{let e=(e,t)=>{_(e,t)};return s.documents.map((t,a)=>{try{return(0,r.jsxs)("div",{className:"relative mb-2 p-3 bg-white border rounded-md flex items-center justify-between w-full",children:[(0,r.jsx)("div",{className:"flex items-center gap-2 overflow-hidden",children:(0,r.jsx)("span",{className:"truncate",children:t instanceof File?t.name:t.name.split("/").pop()||x("file")})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"string"!=typeof t&&t.size?Math.round(t.size/1024)+" KB":""}),(0,r.jsx)("button",{className:"bg-black rounded-full p-1 text-white hover:bg-gray-800",onClick:r=>{r.stopPropagation(),e(a,"string"==typeof t?t:t.id)},children:(0,r.jsx)(U.aHS,{size:14})})]})]},a)}catch(e){return console.error("Error rendering document at index ".concat(a,":"),e),null}}).filter(Boolean)},[s.documents,x,_]),E=(0,l.useMemo)(()=>{let e=e=>{if("string"==typeof e)return e;if(!e)return null;try{let t=e.name||e.id||Date.now().toString();if(!g.current.has(t)){let a=URL.createObjectURL(e);g.current.set(t,a)}return g.current.get(t)}catch(e){return console.error("Error creating object URL:",e),""}};return s.galleryImages.map((t,a)=>{try{let s=t instanceof File?e(t):t.name;return(0,r.jsxs)("div",{className:"relative mb-2 rounded-md overflow-hidden w-full",children:[(0,r.jsx)(c(),{height:0,width:0,src:s||"/placeholder-image.png",alt:"preview-".concat(a),className:"w-full h-[150px] object-cover",onError:e=>{console.error("Gallery image ".concat(a," failed to load")),e.target.src="/placeholder-image.png"}}),(0,r.jsx)("button",{className:"absolute top-2 right-2 bg-black rounded-full p-1 text-white hover:bg-gray-800",onClick:e=>{e.preventDefault(),e.stopPropagation(),A(a,"string"==typeof t?t:t.id)},children:(0,r.jsx)(U.aHS,{size:14})}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs px-2 py-1 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"text-xs font-medium mr-1",children:"string"==typeof t.name?t.name.split("/").pop()||x("file"):t.name||x("file")})}),(0,r.jsx)("span",{className:"text-xs",children:"string"!=typeof t&&t.size?Math.round(t.size/1024)+" KB":""})]})]},a)}catch(e){return console.error("Error rendering gallery image at index ".concat(a,":"),e),null}}).filter(Boolean)},[s.galleryImages,A,x]);return(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(eF._,{htmlFor:"title-image",className:"font-medium text-gray-800",children:[x("projectTitleImage")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("div",{className:"primaryBackgroundBg rounded-md",children:(0,r.jsxs)("div",{...j(),className:"border border-dashed p-4 rounded-md cursor-pointer transition-colors duration-200 flex flex-col items-center justify-center min-h-[120px] ".concat(N?"border-primary bg-primary/5":"border-gray-300"),children:[(0,r.jsx)("input",{...b()}),s.titleImage?F:(0,r.jsx)("div",{className:"text-center text-gray-500",children:N?(0,r.jsx)("span",{children:x("dropToUpload")}):(0,r.jsxs)("span",{children:[x("dragDrop")," ",(0,r.jsx)("span",{className:"underline",children:x("browse")})]})})]})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(eF._,{htmlFor:"documents",className:"font-medium text-gray-800",children:x("documents")}),(0,r.jsx)("div",{className:"primaryBackgroundBg rounded-md",children:(0,r.jsxs)("div",{...C(),className:"border border-dashed p-4 rounded-md cursor-pointer transition-colors duration-200 flex flex-col items-center justify-center min-h-[120px] ".concat(S?"border-primary bg-primary/5":"border-gray-300"),children:[(0,r.jsx)("input",{...k()}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{className:"text-center text-gray-500 mb-3",children:S?(0,r.jsx)("span",{children:x("dropToUpload")}):(0,r.jsxs)("span",{children:[x("dragDrop")," ",(0,r.jsx)("span",{className:"underline",children:x("browse")})]})}),I.length>0&&(0,r.jsx)("div",{className:"w-full space-y-2",children:I})]})]})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(eF._,{htmlFor:"gallery-images",className:"font-medium text-gray-800",children:x("galleryImages")}),(0,r.jsx)("div",{className:"primaryBackgroundBg rounded-md",children:(0,r.jsxs)("div",{...D(),className:"border border-dashed p-4 rounded-md cursor-pointer transition-colors duration-200 flex flex-col items-center justify-center min-h-[120px] ".concat(T?"border-primary bg-primary/5":"border-gray-300"),children:[(0,r.jsx)("input",{...P()}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{className:"text-center text-gray-500 mb-3",children:T?(0,r.jsx)("span",{children:x("dropToUpload")}):(0,r.jsxs)("span",{children:[x("dragDrop")," ",(0,r.jsx)("span",{className:"underline",children:x("browse")})]})}),E.length>0&&(0,r.jsx)("div",{className:"w-full space-y-2",children:E})]})]})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(eF._,{htmlFor:"video-link",className:"font-medium text-gray-800",children:x("videoLink")}),(0,r.jsx)(eC.I,{type:"text",id:"video-link",placeholder:x("enterVideoLink"),value:s.videoLink,onChange:e=>{i(t=>({...t,videoLink:e.target.value}))},className:"w-full px-3 py-2 primaryBackgroundBg rounded-md focus:outline-none focus:border-none focus:border-transparent"})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(n.z,{disabled:t,onClick:()=>{a("imagesVideo","submit")},className:"px-10 py-5",children:t?x("submitting"):d?x("updateProject"):x("submitProject")})})]})},tb=e=>{let{value:t,checked:a,onChange:s,label:l,name:i}=e;return(0,r.jsx)("div",{className:"flex items-center gap-2 primaryBackgroundBg ".concat(a?"primaryBorderColor":""," relative p-2 rounded-lg w-full"),children:(0,r.jsxs)("label",{htmlFor:"projectType".concat(t),className:"flex items-center gap-2 w-full cursor-pointer",children:[(0,r.jsx)("input",{id:"projectType".concat(t),type:"radio",name:i,value:t,checked:a,onChange:e=>{s(e,i,t)},className:"peer sr-only"}),(0,r.jsx)("div",{className:"w-5 h-5 rounded-full border bg-white peer-checked:primaryBg outline outline-1 outline-black peer-checked:border-white flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-2 h-2 rounded-full primaryBg scale-0 peer-checked:scale-100 transition-transform"})}),(0,r.jsx)("span",{children:l})]})})},tN=e=>{let{selectedCategory:t,handleRemoveCategory:a,handleUpdateProjectForm:s,projectFormData:i,handleCheckRequiredFields:d,isEditing:m=!1,disableCategoryChange:u=!1,selectedLanguage:p,setSelectedLanguage:x,languages:h=[],translations:g=[],handleMultiLangChange:f}=e,v=(0,o.m)(),y=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),j=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.default_language}),b=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.current_language})||{},w=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.languages})||[],_=(0,l.useMemo)(()=>{if(j){let e=w.find(e=>e.code===j||e.id===j);if(e)return e}return b&&b.id?b:{id:"English",name:"English",code:"en"}},[j,b,w]),C=(0,l.useMemo)(()=>{let e=new Map;b&&b.id&&e.set(b.code||b.id,b);let t=_.code||_.id;return e.has(t)||e.set(t,_),w.forEach(t=>{e.has(t.code)||e.set(t.code,t)}),h.forEach(t=>{let a="object"==typeof t?t.code||t.id:t;a&&!e.has(a)&&e.set(a,t)}),Array.from(e.values())},[b,_,w,h]),k=e=>g.find(t=>"object"==typeof e?t.language_id===e.id:t.language_id===e),S=(e,t)=>{let a=k(e);return a&&a[t]||""},B=e=>"object"==typeof p&&"object"==typeof e?p.id===e.id:"string"==typeof p&&"string"==typeof e&&p===e,A=e=>!!e&&("object"==typeof e&&"object"==typeof _?e.id&&_.id&&e.id===_.id||e.code&&_.code&&e.code===_.code||e.name&&_.name&&e.name===_.name:"string"==typeof e&&"object"==typeof _?e===_.id||e===_.code||e===_.name||"English"===e:e===_),D=e=>A(e)||e===y,P=(e,t)=>{if(e&&e.target){let{name:a,value:r}=e.target;A(p)||p===y?"title"===a?s({target:{name:"projectTitle",value:r}}):"description"===a?s({target:{name:"projectDescription",value:r}}):s(e):f(p,t||a,r)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-7 mb-6 overflow-x-auto",children:[(0,r.jsx)("button",{onClick:()=>x(_),className:"px-8 py-3 rounded-lg whitespace-nowrap ".concat(B(_)||p===y&&A(y)?"secondaryTextBg text-white":"btnBorder secondaryTextColor"),children:"object"==typeof _?_.name:_},"object"==typeof _?_.id||_.code:_),C.filter(e=>!!e&&("object"==typeof e&&"object"==typeof _?e.id!==_.id&&e.code!==_.code:e!==_)).map(e=>(0,r.jsx)("button",{onClick:()=>x(e),className:"px-8 py-3 rounded-lg whitespace-nowrap ".concat(B(e)||"object"==typeof p&&"object"==typeof e&&p.name===e.name?"secondaryTextBg text-white":"btnBorder secondaryTextColor"),children:"object"==typeof e?e.name:e},"object"==typeof e?e.id||e.code:e))]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(A(p)||p===y)&&t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:v("selectedCategory")}),(0,r.jsxs)("div",{className:"flex items-center gap-2 ".concat(m||u?"":"cursor-pointer"),onClick:m||u||!a?void 0:a,children:[(0,r.jsx)("div",{className:"primaryColor",children:(0,r.jsx)(c(),{height:0,width:0,src:t&&(null==t?void 0:t.image),className:"w-10 h-10 bg-white rounded-full",alt:t&&(null==t?void 0:t.category)})}),(0,r.jsx)("span",{children:t&&(null==t?void 0:t.category)})]})]}),(A(p)||p===y)&&(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("h3",{className:"font-medium mb-2 text-gray-800",children:[v("projectType")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsx)(tb,{value:"upcoming",name:"projectType",checked:"upcoming"===i.projectType,onChange:e=>s(e),label:v("upcoming")}),(0,r.jsx)(tb,{value:"under_construction",name:"projectType",checked:"under_construction"===i.projectType,onChange:e=>s(e),label:v("underConstruction")})]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)(eF._,{htmlFor:"project-title",className:"font-medium mb-2 block text-gray-800",children:[v("projectTitle")," ",D(p)&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(eC.I,{type:"text",id:"project-title",value:A(p)||p===y?i.projectTitle:S(p,"title"),name:"title",onChange:e=>P(e,"title"),placeholder:v("enterProjectTitle"),className:"w-full px-3 py-2 primaryBackgroundBg rounded-md focus:outline-none focus:border-none focus:border-transparent"})]}),(A(p)||p===y)&&(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)(eF._,{htmlFor:"project-slug",className:"font-medium mb-2 block text-gray-800",children:v("projectSlug")}),(0,r.jsx)(eC.I,{type:"text",id:"project-slug",value:i.projectSlug,name:"projectSlug",onChange:e=>s(e),placeholder:v("enterProjectSlug"),className:"w-full px-3 py-2 primaryBackgroundBg rounded-md focus:outline-none focus:border-none focus:border-transparent"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(eF._,{htmlFor:"project-description",className:"font-medium mb-2 block text-gray-800",children:[v("projectDescription")," ",D(p)&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(ek,{id:"project-description",value:A(p)||p===y?i.projectDescription:S(p,"description"),name:"description",onChange:e=>P(e,"description"),placeholder:v("enterProjectDescription"),className:"w-full h-full px-3 py-2 rounded-md focus:outline-none focus:border-none primaryBackgroundBg focus:border-transparent resize-none"})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(n.z,{onClick:()=>d("projectDetails","seoSettings"),className:"px-10 py-5",children:v(m?"save":"next")})})]})},tw=e=>{let{floorFormData:t,setFloorFormData:a,handleCheckRequiredFields:s,isEditing:i=!1,setRemovedPlans:d}=e,m=(0,o.m)(),[u,p]=(0,l.useState)(0),x=(0,l.useRef)(new Map);(0,l.useEffect)(()=>{let e=x.current;return()=>{[...e.values()].forEach(e=>{URL.revokeObjectURL(e)}),e.clear()}},[]);let h=e=>{if("string"==typeof e)return e;if(!e)return null;try{let t=e.name||Date.now().toString();if(!x.current.has(t)){let a=URL.createObjectURL(e);x.current.set(t,a)}return x.current.get(t)}catch(e){return console.error("Error creating object URL:",e),null}},g=e=>{let t=e+1;if(11===t||12===t||13===t)return"".concat(t,"th");{let e=["st","nd","rd"][t%10-1]||"th";return"".concat(t).concat(e)}},f=e=>{let r=t[e];if(d(e=>new Set([...e,null==r?void 0:r.id].filter(Boolean))),(null==r?void 0:r.floorImage)&&"string"!=typeof r.floorImage)try{let e=r.floorImage.name||Date.now().toString();x.current.has(e)&&(URL.revokeObjectURL(x.current.get(e)),x.current.delete(e))}catch(e){console.error("Error cleaning up floor image URL:",e)}a(t=>{let a=t.filter((t,a)=>a!==e);return p(e<u?u-1:e===u?Math.max(0,e-1):u),a})},v=(e,t)=>{let{name:r,value:s}=t.target;a(t=>{let a=[...t];return a[e]={...a[e],[r]:s},a})},y=(e,t)=>{a(a=>{let r=[...a];return r[e]||(r[e]={floorTitle:"",floorImage:null}),r[e]={...r[e],floorImage:t[0]},r})},j=e=>{let r=t[e];if((null==r?void 0:r.floorImage)&&"string"!=typeof r.floorImage)try{let e=r.floorImage.name||Date.now().toString();x.current.has(e)&&(URL.revokeObjectURL(x.current.get(e)),x.current.delete(e))}catch(e){console.error("Error cleaning up floor image URL:",e)}a(t=>{let a=[...t];return a[e]={...a[e],floorImage:null},a})},{getRootProps:b,getInputProps:N,isDragActive:w}=(0,te.uI)({onDrop:e=>y(u,e),accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/webp":[".webp"]},multiple:!1}),_=(0,l.useMemo)(()=>t.map((e,t)=>{if(!e.floorImage)return null;try{let a=h(e.floorImage);if(!a)return null;let s="string"==typeof e.floorImage?e.floorImage.split("/").pop()||m("file"):e.floorImage.name||m("file"),l="string"!=typeof e.floorImage&&e.floorImage.size?"".concat(Math.round(e.floorImage.size/1024)," KB"):"";return(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-md",children:[(0,r.jsx)(c(),{width:0,height:0,src:a,alt:s,className:"h-[150px] w-full object-cover",onError:e=>{console.error("Floor image ".concat(t," failed to load")),e.target.src="/placeholder-image.png"}}),(0,r.jsx)("button",{className:"absolute right-2 top-2 rounded-full bg-black p-1.5 text-white hover:bg-gray-800",onClick:()=>j(t),type:"button",children:(0,r.jsx)(U.aHS,{size:14})}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 flex items-center justify-between bg-black/50 px-2 py-1.5 text-xs text-white",children:[(0,r.jsx)("div",{className:"overflow-hidden",children:(0,r.jsx)("span",{className:"block max-w-[200px] truncate",children:s})}),(0,r.jsx)("span",{children:l})]})]})},t)}catch(e){return console.error("Error rendering floor image at index ".concat(t,":"),e),null}}).filter(Boolean),[t,m,h]);return(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[t.map((e,a)=>(0,r.jsxs)("div",{className:"relative grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(eF._,{className:"mb-2 block font-medium text-gray-800",children:[g(a)," ",m("floorTitle")]}),(0,r.jsx)(eC.I,{type:"text",id:"floor-title-".concat(a),name:"floorTitle",value:e.floorTitle,onChange:e=>v(a,e),placeholder:m("enterFloorTitle"),className:"primaryBackgroundBg w-full rounded-md px-3 py-2 focus:outline-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(eF._,{className:"mb-2 block font-medium text-gray-800",children:[g(a)," ",m("floorImage")]}),(0,r.jsxs)("div",{onMouseEnter:()=>p(a),className:"flex gap-2",children:[(0,r.jsx)("div",{className:"primaryBackgroundBg w-full rounded-md",children:e.floorImage?(0,r.jsx)("div",{className:"mt-2",children:_[a]}):(0,r.jsxs)("div",{...b(),className:"flex min-h-[72px] cursor-pointer flex-col items-center justify-center rounded-md border border-dashed p-4 transition-colors duration-200 ".concat(w?"border-primary bg-primary/5":"border-gray-300"),children:[(0,r.jsx)("input",{...N()}),(0,r.jsx)("div",{className:"text-center text-gray-500",children:w?(0,r.jsx)("span",{children:m("dropToUpload")}):(0,r.jsxs)("span",{children:[m("dragDrop")," ",(0,r.jsx)("span",{className:"underline",children:m("browse")})]})})]})}),t.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>f(a),className:"w-fit text-teal-600","aria-label":"Remove floor",children:(0,r.jsx)(ey.IGK,{size:24})})]})]})]},a)),(0,r.jsx)(n.z,{onClick:()=>{let e=t.length-1,r=t[e];if(""===r.floorTitle.trim()||!r.floorImage)return V.ZP.error(m("currentFloorDetailsIsRequired"));a(e=>[...e,{floorTitle:"",floorImage:null}]),p(t.length)},className:"primaryBorderColor primaryColor flex w-auto items-center justify-center gap-2 border px-6 py-2 hover:primaryColor hover:primaryBorderColor bg-white hover:bg-white",type:"button",children:(0,r.jsx)("span",{children:m("addFloor")})})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(n.z,{onClick:()=>s("floorDetails","imagesVideo"),className:"rounded-md bg-gray-800 px-10 py-2 text-white hover:bg-gray-900",children:i?m("save"):m("next")})})]})},t_=()=>{let e=(0,s.useRouter)(),{locale:t}=null==e?void 0:e.query;(0,N.v9)(e=>{var t;return null===(t=e.User)||void 0===t?void 0:t.data});let a=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.languages})||[],i=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),n=(0,N.v9)(e=>{var t;return null===(t=e.WebSetting)||void 0===t?void 0:t.data}),d=(0,N.v9)(e=>e.location),c=(0,o.m)(),[p,x]=(0,l.useState)("categories"),[h,g]=(0,l.useState)(!0),[f,y]=(0,l.useState)(!1),[j,b]=(0,l.useState)([]),[w,_]=(0,l.useState)(!1),[C,k]=(0,l.useState)(0),[S,B]=(0,l.useState)(!1),A=l.useMemo(()=>i&&a.length&&a.find(e=>e.code===i)||null,[i,a]),[D,P]=(0,l.useState)(A||i||"English"),[T,F]=(0,l.useState)([]),I=[{id:"categories",label:c("categories")},{id:"projectDetails",label:c("projectDetails")},{id:"seoSettings",label:c("seoSettings")},{id:"location",label:c("location")},{id:"floorDetails",label:c("floorDetails")},{id:"imagesVideo",label:c("imagesVideo")}],[E,R]=(0,l.useState)(""),[L,M]=(0,l.useState)({projectType:"upcoming",projectTitle:"",projectSlug:"",projectDescription:""}),[Z,z]=(0,l.useState)({metaTitle:"",metaKeywords:"",metaDescription:"",ogImage:null}),[O,U]=(0,l.useState)([{floorTitle:"",floorImage:null}]),[q,K]=(0,l.useState)({titleImage:null,documents:[],galleryImages:[],videoLink:""}),[W,Y]=(0,l.useState)({city:(null==d?void 0:d.city)||"",state:(null==d?void 0:d.state)||"",country:(null==d?void 0:d.country)||"",formattedAddress:(null==d?void 0:d.formatted_address)||"",latitude:(null==d?void 0:d.latitude)||"",longitude:(null==d?void 0:d.longitude)||""}),Q=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2],K(a=>{let r=[...a[e]];return r.splice(t,1),{...a,[e]:r}})},J=(e,t)=>{let a=!1;switch(e){case"categories":E||(V.ZP.error(c("pleaseSelectCategory")),a=!0);break;case"projectDetails":if(!L.projectTitle){V.ZP.error(c("projectTitleIsRequired")),a=!0;break}L.projectDescription||(V.ZP.error(c("projectDescriptionIsRequired")),a=!0);break;case"location":if(!W.city){V.ZP.error(c("cityIsRequired")),a=!0;break}if(!W.state){V.ZP.error(c("stateIsRequired")),a=!0;break}if(!W.country){V.ZP.error(c("countryIsRequired")),a=!0;break}W.formattedAddress||(V.ZP.error(c("addressIsRequired")),a=!0);break;case"imagesVideo":q.titleImage||(V.ZP.error(c("projectTitleImageIsRequired")),a=!0)}a||("submit"===t?er():x(t))},G=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(g(!0),k(0)):y(!0);try{let a=await (0,m.BH)({limit:12,offset:e,passHasProperty:!1});t?b(a.data):b(e=>[...e,...a.data]),_(a.data.length>=12)}catch(e){console.error("Failed to fetch categories:",e)}finally{g(!1),y(!1)}},$=async()=>{if(!f&&w){let e=C+12;k(e),await G(e,!1)}},X=e=>{x(e),P(A||i||"English")},et=e=>{R(e),X("projectDetails")};(0,l.useEffect)(()=>{"categories"===p&&0===j.length?G(0,!0):(null==j?void 0:j.length)>0&&G(0,!0)},[p,i]),(0,l.useEffect)(()=>{},[i]);let ea=()=>(0,r.jsxs)("div",{className:"flex items-center justify-center p-4 rounded-lg primaryBackgroundBg gap-3",children:[(0,r.jsx)(u.O,{className:"h-12 w-12 rounded-full bg-gray-200"}),(0,r.jsx)(u.O,{className:"h-6 w-24 bg-gray-200"})]}),er=async()=>{try{B(!0);let a=[];for(let e of O){let t=e.floorTitle,r=e.floorImage;r&&a.push({id:"",title:t,document:r})}let r=T.map((e,t)=>({translation_id:t,language_id:e.language_id,title:e.title||"",description:e.description||""})),s={category_id:E.id,title:L.projectTitle,description:L.projectDescription,slug:L.projectSlug,type:L.projectType,meta_title:Z.metaTitle,meta_description:Z.metaDescription,meta_keywords:Z.metaKeywords,meta_image:Z.ogImage,city:W.city,state:W.state,country:W.country,location:W.formattedAddress,latitude:W.latitude,longitude:W.longitude,plans:a,image:q.titleImage,gallery_images:q.galleryImages,documents:q.documents,video_link:q.videoLink,translations:r},l=await (0,m.ZQ)(s);(null==l?void 0:l.error)?V.ZP.error(c(null==l?void 0:l.message)||c("somethingWentWrong")):H().fire({imageUrl:tf.src,imageWidth:160,imageHeight:160,title:c("projectSubmittedSuccess"),text:(null==n?void 0:n.auto_approve)?"":null==n?void 0:n.text_project_submission,allowOutsideClick:!1,showCancelButton:!1,customClass:{confirmButton:"Swal-confirm-buttons",cancelButton:"Swal-cancel-buttons"},confirmButtonText:c("ok")}).then(a=>{e.push("/".concat(t,"/user/projects"))})}catch(e){var a,r;console.error("Error adding project:",e),V.ZP.error(c(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.message)||c(null==e?void 0:e.message)||c("somethingWentWrong"))}finally{B(!1)}};return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:c("addProject")}),(0,r.jsxs)("div",{className:"bg-white",children:[(0,r.jsx)("div",{className:"border-b",children:(0,r.jsx)("div",{className:"flex overflow-x-auto",children:I.map(e=>(0,r.jsx)("button",{onClick:()=>X(e.id),className:"relative px-6 py-3 rounded-none border-b-2 whitespace-nowrap ".concat(p===e.id?"primaryBorderColor primaryColor":"border-transparent text-gray-500 hover:text-gray-700"),children:e.label},e.id))})}),(0,r.jsx)("div",{className:"p-6",children:"categories"===p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:h?Array.from({length:5}).map((e,t)=>(0,r.jsx)(ea,{},t)):j.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-center p-4 rounded-lg cursor-pointer transition-colors duration-500 primaryBackgroundBg gap-3 hover:primaryBg hover:text-white ".concat(E&&(null==E?void 0:E.id)===e.id?"!primaryBg text-white":""),onClick:()=>et(e),children:[(0,r.jsx)("div",{className:"w-10 h-10 flex justify-center items-center bg-white rounded-full",children:(0,r.jsx)(ee.Z,{src:e.image,alt:e.translated_name||e.category,className:"w-7 h-7"})}),(0,r.jsx)("span",{className:"text-lg font-semibold",children:e.translated_name||(null==e?void 0:e.category)})]},e.id))}),f&&(0,r.jsx)("div",{className:"flex flex-wrap items-center gap-4 mt-4",children:Array.from({length:3}).map((e,t)=>(0,r.jsx)(ea,{},"more-".concat(t)))}),!h&&w&&(0,r.jsx)("div",{className:"flex justify-center mt-6",children:(0,r.jsx)("button",{onClick:$,className:"border primaryColor primaryBorderColor px-4 py-2 rounded-md disabled:opacity-70",disabled:f,children:f?c("loading"):c("loadMore")})})]}):(0,r.jsxs)(r.Fragment,{children:["projectDetails"===p&&(0,r.jsx)("div",{className:"flex flex-col gap-12",children:(0,r.jsx)(tN,{selectedCategory:E,handleRemoveCategory:()=>{R(null),x("categories")},projectFormData:L,handleUpdateProjectForm:(e,t,a)=>{if(t&&void 0!==a){M(e=>({...e,[t]:a}));return}if(e&&e.target){let{name:t,value:a,type:r,checked:s}=e.target;if("title"===t){M(e=>({...e,projectTitle:a,projectSlug:(0,v.GD)(a)}));return}if("description"===t){M(e=>({...e,projectDescription:a}));return}if("projectTitle"===t){M(e=>({...e,[t]:a,projectSlug:(0,v.GD)(a)}));return}if("checkbox"===r){M(e=>({...e,[t]:s}));return}M(e=>({...e,[t]:a}))}},handleCheckRequiredFields:J,selectedLanguage:D,setSelectedLanguage:P,languages:a,translations:T,handleMultiLangChange:(e,t,a)=>{F(r=>{let s=r.findIndex(t=>t.language_id===e.id||t.language_id===e),l=[...r];return -1!==s?l[s]={...l[s],[t]:a}:l.push({language_id:e.id||e,[t]:a}),l})}})}),"seoSettings"===p&&(0,r.jsx)(tp,{handleTabChange:X,seoFormData:Z,handleFillSeoFormData:(e,t,a)=>{if(t&&void 0!==a){z(e=>({...e,[t]:a}));return}if(e&&e.target){let{name:t,value:a}=e.target;z(e=>({...e,[t]:a}))}},isProperty:!1}),"floorDetails"===p&&(0,r.jsx)(tw,{floorFormData:O,setFloorFormData:U,handleCheckRequiredFields:J}),"location"===p&&(0,r.jsx)(tc,{selectedLocationAddress:W,setSelectedLocationAddress:Y,handleLocationSelect:e=>{Y(t=>({...t,city:e.city||t.city,state:e.state||t.state,country:e.country||t.country,formattedAddress:e.formattedAddress||t.formattedAddress,latitude:e.latitude||e.lat||t.latitude,longitude:e.longitude||e.lng||t.longitude}))},handleCheckRequiredFields:J,isProperty:!1}),"imagesVideo"===p&&(0,r.jsx)(tj,{showLoader:S,handleCheckRequiredFields:J,mediaFormData:q,setMediaFormData:K,handleRemoveGalleryImages:(e,t)=>{Q("galleryImages",e)},handleRemoveDocuments:(e,t)=>{Q("documents",e)}})]})})]})]})},tC=e=>{let{params:t}=e,a=(0,s.useRouter)(),{locale:i,slug:n}=null==a?void 0:a.query,d=(null==t?void 0:t[0])||(null==n?void 0:n.split("/")[1]);(0,N.v9)(e=>{var t;return null===(t=e.User)||void 0===t?void 0:t.data});let c=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.languages})||[],p=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),x=(0,o.m)(),[h,g]=(0,l.useState)("projectDetails"),[f,y]=(0,l.useState)(!0),[j,b]=(0,l.useState)(!1),[w,_]=(0,l.useState)([]),[C,k]=(0,l.useState)([]),[S,B]=(0,l.useState)([]),A=l.useMemo(()=>p&&c.length&&c.find(e=>e.code===p)||null,[p,c]),[D,P]=(0,l.useState)(A||p||"English"),[T,F]=(0,l.useState)([]),I=[{id:"projectDetails",label:x("projectDetails")},{id:"seoSettings",label:x("seoSettings")},{id:"location",label:x("location")},{id:"floorDetails",label:x("floorDetails")},{id:"imagesVideo",label:x("imagesVideo")}],[E,R]=(0,l.useState)(""),[L,M]=(0,l.useState)({projectType:"upcoming",projectTitle:"",projectSlug:"",projectDescription:""}),[Z,z]=(0,l.useState)({metaTitle:"",metaKeywords:"",metaDescription:"",ogImage:null}),[O,U]=(0,l.useState)([{floorTitle:"",floorImage:null}]),[q,K]=(0,l.useState)({titleImage:null,documents:[],galleryImages:[],videoLink:""}),[W,H]=(0,l.useState)({city:"",state:"",country:"",formattedAddress:"",latitude:0,longitude:0}),[Y,Q]=(0,l.useState)(null);(0,l.useEffect)(()=>{d&&J()},[d]),(0,l.useEffect)(()=>{T.length>0&&!D&&P(A||p||"English")},[T,A,p,D]);let J=async()=>{try{y(!0);let e=await (0,m.my)({slug_id:d});if(e.error)V.ZP.error(x(e.message)||x("somethingWentWrong"));else{let t=e.data;if(R(t.category),Q(t.id),M({projectType:t.type||"upcoming",projectTitle:t.title||"",projectSlug:t.slug_id||"",projectDescription:t.description||""}),z({metaTitle:t.meta_title||"",metaKeywords:t.meta_keywords||"",metaDescription:t.meta_description||"",ogImage:t.meta_image||null}),H({city:t.city||"",state:t.state||"",country:t.country||"",formattedAddress:t.location||"",latitude:t.latitude||0,longitude:t.longitude||0}),t.plans&&t.plans.length>0&&U(t.plans.map(e=>({id:e.id,floorTitle:e.title||"",floorImage:e.document||null}))),K({titleImage:t.image||null,documents:t.documents||[],galleryImages:t.gallary_images||[],videoLink:t.video_link||""}),t.translations&&Array.isArray(t.translations)){let e={};t.translations.forEach(t=>{let a=t.language_id;e[a]||(e[a]={language_id:a,title:"",description:""}),"title"===t.key?e[a].title=t.value||"":"description"===t.key&&(e[a].description=t.value||"")});let a=Object.values(e);F(a)}else F([]);g("projectDetails")}}catch(e){console.error("Error fetching project details:",e),V.ZP.error(x(null==e?void 0:e.message)||x("errorFetchingProjectDetails"))}finally{y(!1)}},G=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("titleImage"===e){K(e=>({...e,titleImage:null}));return}K(r=>{let s=[...r[e]];return a&&"galleryImages"===e?_(e=>[...e,a]):a&&"documents"===e&&k(e=>[...e,a]),s.splice(t,1),{...r,[e]:s}})},$=(e,t)=>{let a=!1;switch(e){case"projectDetails":if(!L.projectTitle){V.ZP.error(x("projectTitleIsRequired")),a=!0;break}L.projectDescription||(V.ZP.error(x("projectDescriptionIsRequired")),a=!0);break;case"location":if(!W.city){V.ZP.error(x("cityIsRequired")),a=!0;break}if(!W.state){V.ZP.error(x("stateIsRequired")),a=!0;break}if(!W.country){V.ZP.error(x("countryIsRequired")),a=!0;break}W.formattedAddress||(V.ZP.error(x("addressIsRequired")),a=!0);break;case"floorDetails":if(O.some(e=>""!==e.floorTitle.trim()||null!==e.floorImage))for(let e of O){if(!e.floorTitle.trim()){V.ZP.error(x("floorTitleIsRequired")),a=!0;break}if(!e.floorImage){V.ZP.error(x("floorImageIsRequired")),a=!0;break}}break;case"imagesVideo":q.titleImage||(V.ZP.error(x("projectTitleImageIsRequired")),a=!0)}a||("submit"===t?ee():g(t))},X=e=>{g(e),P(A||p||"English")},ee=async()=>{var e,t,r;try{b(!0);let t=[];for(let a of O){let r=a.id||"",s=(null===(e=a.floorTitle)||void 0===e?void 0:e.trim())||"",l=a.floorImage;l&&s?t.push({id:r,title:s,document:l instanceof File?l:""}):r&&B(e=>[...e,r])}let r=Array.from(S),s=Array.from(w),l=Array.from(C),n=q.documents.filter(e=>e instanceof File).map(e=>e),o=q.galleryImages.filter(e=>e instanceof File).map(e=>e),d=T.map((e,t)=>({translation_id:t,language_id:e.language_id,title:e.title||"",description:e.description||""})),c={id:Y,title:L.projectTitle,description:L.projectDescription,category_id:E.id,type:L.projectType,meta_title:Z.metaTitle,meta_description:Z.metaDescription,meta_keywords:Z.metaKeywords,meta_image:Z.ogImage&&Z.ogImage instanceof File?Z.ogImage:"",city:W.city,state:W.state,country:W.country,latitude:W.latitude,longitude:W.longitude,location:W.formattedAddress,plans:t,image:q.titleImage instanceof File?q.titleImage:"",documents:n,gallery_images:o,video_link:q.videoLink,remove_plans:r,remove_gallery_images:s,remove_documents:l,slug_id:L.projectSlug,translations:d},u=await (0,m.ZQ)(c);(null==u?void 0:u.error)?V.ZP.error((null==u?void 0:u.message)||x("somethingWentWrong")):(V.ZP.success(x(null==u?void 0:u.message)),a.push("/".concat(i,"/user/projects")))}catch(e){console.error("Error updating project:",e),V.ZP.error((null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||(null==e?void 0:e.message)||x("somethingWentWrong"))}finally{b(!1)}};return f?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:x("editProject")}),(0,r.jsx)("div",{className:"bg-white p-6",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)(u.O,{className:"h-8 w-1/3"}),(0,r.jsx)(u.O,{className:"h-40 w-full"}),(0,r.jsx)(u.O,{className:"h-10 w-1/2"})]})})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:x("editProject")}),(0,r.jsxs)("div",{className:"bg-white",children:[(0,r.jsx)("div",{className:"border-b",children:(0,r.jsx)("div",{className:"flex overflow-x-auto",children:I.map(e=>(0,r.jsx)("button",{onClick:()=>X(e.id),className:"relative px-6 py-3 rounded-none border-b-2 whitespace-nowrap ".concat(h===e.id?"primaryBorderColor primaryColor":"border-transparent text-gray-500 hover:text-gray-700"),children:e.label},e.id))})}),(0,r.jsxs)("div",{className:"p-6",children:["projectDetails"===h&&(0,r.jsx)("div",{className:"flex flex-col gap-12",children:(0,r.jsx)(tN,{selectedCategory:E,projectFormData:L,handleUpdateProjectForm:(e,t,a)=>{if(t&&void 0!==a){M(e=>({...e,[t]:a}));return}if(e&&e.target){let{name:t,value:a,type:r,checked:s}=e.target;if("title"===t){M(e=>({...e,projectTitle:a,projectSlug:(0,v.GD)(a)}));return}if("description"===t){M(e=>({...e,projectDescription:a}));return}if("projectTitle"===t){M(e=>({...e,[t]:a,projectSlug:(0,v.GD)(a)}));return}if("checkbox"===r){M(e=>({...e,[t]:s}));return}M(e=>({...e,[t]:a}))}},handleCheckRequiredFields:$,isEditing:!0,disableCategoryChange:!0,selectedLanguage:D,setSelectedLanguage:P,languages:c,translations:T,handleMultiLangChange:(e,t,a)=>{F(r=>{let s=r.findIndex(t=>t.language_id===e.id||t.language_id===e),l=[...r];return -1!==s?l[s]={...l[s],[t]:a}:l.push({language_id:e.id||e,[t]:a}),l})}})}),"seoSettings"===h&&(0,r.jsx)(tp,{handleTabChange:X,seoFormData:Z,handleFillSeoFormData:(e,t,a)=>{if(t&&void 0!==a){z(e=>({...e,[t]:a}));return}if(e&&e.target){let{name:t,value:a}=e.target;z(e=>({...e,[t]:a}))}},isProperty:!1,isEditing:!0}),"floorDetails"===h&&(0,r.jsx)(tw,{floorFormData:O,setFloorFormData:U,handleCheckRequiredFields:$,isEditing:!0,setRemovedPlans:B}),"location"===h&&(0,r.jsx)(tc,{selectedLocationAddress:W,setSelectedLocationAddress:H,handleLocationSelect:e=>{H(t=>({...t,city:e.city||t.city,state:e.state||t.state,country:e.country||t.country,formattedAddress:e.formattedAddress||t.formattedAddress,latitude:e.latitude||e.lat||t.latitude,longitude:e.longitude||e.lng||t.longitude}))},handleCheckRequiredFields:$,isProperty:!1,isEditing:!0}),"imagesVideo"===h&&(0,r.jsx)(tj,{showLoader:j,handleCheckRequiredFields:$,mediaFormData:q,setMediaFormData:K,handleRemoveGalleryImages:(e,t)=>{t&&_(e=>[...e,t]),G("galleryImages",e)},handleRemoveDocuments:(e,t)=>{t&&k(e=>[...e,t]),G("documents",e)},isEditing:!0,handleRemoveMedia:G})]})]})]})},tk=a(94728),tS=a(5041),tB=a(41664),tA=a.n(tB),tD=l.memo(e=>{let{is_user:t=!1,is_agent:a=!1,appointmentData:s={},onReportUser:l=()=>{}}=e,i=(0,o.m)(),n=(null==s?void 0:s.property)||{},d=(null==s?void 0:s.admin)?null==s?void 0:s.admin:null==s?void 0:s.agent,c=(null==s?void 0:s.user)||{},m=a?c:d,u="".concat((null==n?void 0:n.city)||"",", ").concat((null==n?void 0:n.state)||"",", ").concat((null==n?void 0:n.country)||""),p=(null==n?void 0:n.translated_title)||(null==n?void 0:n.title);return(0,r.jsxs)("div",{className:"primaryBackgroundBg rounded-2xl p-4 md:p-6 flex flex-col lg:flex-row gap-4 md:gap-6 m-3",children:[(0,r.jsx)("div",{className:"flex-1 w-full",children:(0,r.jsx)(()=>{var e,t,a;return(0,r.jsxs)("div",{className:"flex flex-col bg-white rounded-2xl p-4 relative",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 mb-4",children:[(0,r.jsx)("div",{className:"w-full sm:w-36 h-24 rounded-2xl overflow-hidden flex-shrink-0",children:(0,r.jsx)(ee.Z,{src:null==n?void 0:n.title_image,alt:p,className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{className:"flex-1 space-y-3 w-full",children:[(0,r.jsx)("h3",{className:"text-base font-bold brandColor",children:p}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(eS.Y4r,{className:"w-4 h-4 leadColor"}),(0,r.jsx)("span",{className:"text-sm leadColor",children:u})]})]})]}),(0,r.jsx)("div",{className:"absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-semibold ".concat((null==n?void 0:n.property_type)==="sell"?"primarySellBg primarySellText":"primaryRentBg primaryRentText"),children:i(null==n?void 0:n.property_type)}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"newBorder rounded-lg p-4",children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("div",{className:"flex flex-wrap items-center gap-2 md:gap-4",children:(null==n?void 0:null===(e=n.parameters)||void 0===e?void 0:e.length)>0?(0,r.jsx)(r.Fragment,{children:null==n?void 0:null===(a=n.parameters)||void 0===a?void 0:null===(t=a.slice(0,4))||void 0===t?void 0:t.map((e,t)=>{let a=(null==e?void 0:e.translated_name)||(null==e?void 0:e.name);return(0,r.jsxs)(S.u,{children:[(0,r.jsx)(S.aJ,{asChild:!0,children:(0,r.jsxs)("div",{className:"flex cursor-default items-center justify-center gap-1 px-2","aria-label":a,children:[(0,r.jsx)(tS.Q,{src:e.image,beforeInjection:e=>{e.setAttribute("style","height: 100%; width: 100%;"),e.querySelectorAll("path").forEach(e=>{e.setAttribute("style","fill: var(--facilities-icon-color);")})},className:"w-4 h-4 flex items-center justify-center object-contain shrink-0",alt:a}),(0,r.jsx)("span",{className:"truncate leadColor",children:(0,v.z4)(e)})]})}),(0,r.jsx)(S._v,{side:"top",children:(0,r.jsx)("p",{children:a})})]},e.id||t)})}):(0,r.jsx)("div",{})})})}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center justify-between w-full gap-4",children:[(0,r.jsx)("span",{className:"text-base font-bold brandColor",children:i("price")}),(0,r.jsxs)("span",{className:"text-xl font-bold primaryColor",children:[(0,v.ze)(n.price)," ",(0,r.jsx)("span",{class:"text-sm font-normal",children:(null==n?void 0:n.property_type)==="rent"&&(null==n?void 0:n.rentduration)?"/ "+(null==n?void 0:n.rentduration):""})]})]})})]})]})},{})}),(0,r.jsx)("div",{className:"flex-1 w-full",children:(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"flex flex-col bg-white rounded-2xl p-4 space-y-6 w-full",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("span",{className:"text-base leadColor",children:t?i("agentName")||"Agent Name":i("userName")||"User Name"}),(0,r.jsx)("span",{className:"text-base font-bold text-gray-800",children:m.name})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[m.is_user_verified&&(0,r.jsxs)("div",{className:"flex items-center gap-1 primarySellColorBg text-white px-2 py-1 rounded",children:[(0,r.jsx)(v.QL,{}),(0,r.jsx)("span",{className:"text-sm font-semibold",children:i("verified")})]}),a&&(0,r.jsx)("button",{onClick:e=>l(e),className:"px-4 py-2 newBorder brandColor rounded-lg font-medium hover:primaryBackgroundBg transition-colors",children:i("reportUser")})]})]}),(0,r.jsx)("div",{className:"w-full h-px newBorderColor bg-gray-300"}),(0,r.jsxs)("div",{className:"space-y-6 md:space-y-8",children:[(null==m?void 0:m.phone)&&(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 primaryBgLight12 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(eS.a54,{className:"w-6 h-6 primaryColor"})}),(0,r.jsxs)("div",{className:"flex-1 w-full",children:[(0,r.jsx)("h4",{className:"text-base font-bold brandColor",children:i("phone")}),(0,r.jsx)("p",{className:"text-base leadColor mt-2",children:m.phone})]})]}),(null==m?void 0:m.email)&&(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 primaryBgLight12 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(eS.Y$y,{className:"w-6 h-6 primaryColor"})}),(0,r.jsxs)("div",{className:"flex-1 w-full",children:[(0,r.jsx)("h4",{className:"text-sm md:text-base font-bold brandColor",children:i("email")}),(0,r.jsx)(tA(),{href:"mailto:".concat(null==m?void 0:m.email),className:"text-sm md:text-base break-all leadColor mt-2 block",children:null==m?void 0:m.email})]})]}),a&&m.client_address&&(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 primaryBgLight12 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(eS.Y4r,{className:"w-6 h-6 primaryColor"})}),(0,r.jsxs)("div",{className:"flex-1 w-full",children:[(0,r.jsx)("h4",{className:"text-base font-bold brandColor",children:i("address")}),(0,r.jsx)("p",{className:"text-base leadColor mt-2",children:m.client_address})]})]})]}),a&&s.notes&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-full h-px newBorderColor bg-gray-300"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-base font-bold brandColor mb-2",children:i("userMessage")}),(0,r.jsx)("p",{className:"text-base leadColor",children:s.notes})]})]})]}),{})})]})}),tP=e=>{let{isOpen:t=!1,onClose:a=()=>{},handleSubmit:s=()=>{},title:i="",description:n="",showWarning:d=!1,warningText:c="",submitButtonText:m="",submitButtonColor:u="brandBg",initialReason:p="",isRequired:x=!1}=e,[h,g]=(0,l.useState)(p),f=(0,o.m)();return(0,l.useEffect)(()=>{t?g(p):g("")},[t,p]),(0,r.jsx)(eN.Vq,{open:t,onOpenChange:a,children:(0,r.jsxs)(eN.cZ,{className:"max-w-xl rounded-2xl p-0 gap-0 border-none overflow-hidden [&>button]:hidden  bg-white",children:[(0,r.jsx)(eN.fK,{children:(0,r.jsxs)("div",{className:"p-6 rounded-t-2xl newBorder flex items-center justify-between",children:[(0,r.jsx)(eN.$N,{className:"text-xl font-bold brandColor",children:f(i)}),(0,r.jsx)(eN.Be,{className:"sr-only",children:f(n)}),(0,r.jsx)("button",{className:"primaryBackgroundBg rounded-lg p-2 w-10 h-10",onClick:a,children:(0,r.jsx)(ey.QAE,{className:"w-6 h-6"})})]})}),(0,r.jsxs)("div",{className:"py-6 px-4 flex flex-col gap-4",children:[d&&(0,r.jsx)("div",{className:"p-6 rounded-lg borderRed flex flex-col gap-4 redBgLight04",children:(0,r.jsxs)("div",{className:"flex flex-col items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"flex items-center justify-center w-10 h-10 bgRed rounded-full",children:(0,r.jsx)(ep.SZZ,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("span",{className:"font-bold text-base md:text-xl redColor",children:f("warning")})]}),(0,r.jsx)("p",{className:"font-medium brandColor text-sm md:text-base",children:f(c)})]})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2.5",children:[(0,r.jsxs)("label",{htmlFor:"reason",className:"text-base font-medium brandColor",children:[f("reason")," ",x&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("textarea",{id:"reason",name:"reason",rows:4,value:h,onChange:e=>g(e.target.value),placeholder:f("writeReason"),className:"w-full primaryBackgroundBg newBorder py-3 px-4 rounded-lg resize-none focus:outline-none"})]})]}),(0,r.jsx)("div",{className:"py-4 px-6 bg-white flex justify-end gap-4 border-t newBorderColor",children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,r.jsx)("button",{className:"font-medium text-sm md:text-base",onClick:a,children:f("cancel")}),(0,r.jsx)("button",{className:"font-medium text-sm md:text-base rounded-lg text-white ".concat(u," py-2 md:py-3 px-3 md:px-4"),onClick:()=>s(h),children:f(m)})]})})]})})},tT=a(14947),tF=a(22028),tI=a(88029),tE=a(99652),tR=a(784),tL=e=>{var t,a,s;let{isOpen:i=!1,onClose:n=()=>{},appointment:d=null,onReschedule:c=()=>{},onCancel:u=()=>{},onContinue:p=()=>{}}=e,x=(0,o.m)(),h=(0,eb.d)(),g=(null==d?void 0:null===(t=d.property)||void 0===t?void 0:t.translated_title)?null===(a=d.property)||void 0===a?void 0:a.translated_title:(null==d?void 0:null===(s=d.property)||void 0===s?void 0:s.title)||(null==d?void 0:d.property_title),f=(null==d?void 0:d.is_admin_appointment)===!0,[v,y]=(0,l.useState)(new Date),[j,b]=(0,l.useState)(new Date),[N,w]=(0,l.useState)(null),[_,C]=(0,l.useState)((null==d?void 0:d.meeting_type)||""),[k,S]=(0,l.useState)(""),[B,A]=(0,l.useState)({}),[D,P]=(0,l.useState)([]),[T,F]=(0,l.useState)(!1),I=async()=>{F(!0);try{var e,t,a;let r=f?0:(null==d?void 0:d.agent_id)||(null==d?void 0:null===(e=d.property)||void 0===e?void 0:e.added_by)||(null==d?void 0:d.added_by)||(null==d?void 0:null===(t=d.property_details)||void 0===t?void 0:t.added_by),s=await (0,m.vR)({month:j.getMonth()+1,year:j.getFullYear(),agent_id:r});if(null==s?void 0:s.data){A((0,tR.ny)(null==s?void 0:s.data,j));let e=(0,tR.kW)(null==s?void 0:null===(a=s.data)||void 0===a?void 0:a.availability_types);P(e)}}catch(e){console.error("Error fetching monthly time slots",e),V.ZP.error((null==e?void 0:e.message)||x("somethingWentWrong")||"Something went wrong")}finally{F(!1)}};(0,l.useEffect)(()=>{i&&d&&I()},[i,j,d]);let E=(0,l.useMemo)(()=>v&&B?(0,tR.ZY)(B,v.getDate(),B.currentMonthNumber,B.currentYear):[],[v,B,null==B?void 0:B.currentMonthNumber,null==B?void 0:B.currentYear]),R=(0,l.useMemo)(()=>B?(0,tR.em)(B):[],[B]),L=e=>{y(e),w(null)},M=e=>{w(e)},Z=e=>{C(e)},z=()=>{v&&N&&_&&k.trim()&&p({date:v,timeSlot:N,meetingType:_,reason:k.trim()})},O=()=>{y(null),w(null),C((null==d?void 0:d.meeting_type)||""),S(""),u(),n()},U=v&&N&&_&&k.trim(),q=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-6 border-b newBorderColor bg-white sticky top-0 z-10",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("h2",{className:"text-lg md:text-xl font-bold brandColor",children:x("rescheduleAppointment")}),(0,r.jsx)("div",{className:"flex items-center gap-1 primaryBgLight12 px-2 py-1 rounded-sm w-fit",children:(0,r.jsxs)("span",{className:"text-sm md:text-base font-medium leadColor",children:[x("property"),": ",g]})})]}),(0,r.jsx)("button",{onClick:O,className:"w-10 h-10 flex items-center justify-center rounded-xl primaryBackgroundBg leadColor hover:opacity-80 transition-opacity","aria-label":"Close",children:(0,r.jsx)(ey.QAE,{className:"w-6 h-6"})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 lg:gap-6 p-4 lg:p-6 primaryBackgroundBg overflow-y-auto max-h-[550px]",children:[(0,r.jsx)("div",{className:"flex-1 w-full",children:(0,r.jsx)(tF.Z,{availableDates:R,selectedDate:v,onDateSelect:L,date:j,onCalendarDateChange:b})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 flex-1 w-full",children:[(0,r.jsx)(tI.Z,{selectedDate:v,timeSlots:E,selectedTimeSlot:N,onSelectTimeSlot:M}),(0,r.jsx)(tE.Z,{meetingTypes:D,selectedType:_,onSelectMeetingType:Z})]}),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("div",{className:"bg-white rounded-2xl p-4 border newBorderColor",children:(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-base font-semibold brandColor",children:x("reasonForReschedule")}),(0,r.jsx)("span",{className:"text-red-500 text-sm",children:"*"})]}),(0,r.jsx)("textarea",{value:k,onChange:e=>S(e.target.value),placeholder:x("pleaseProvideReasonForReschedule")||"Please provide a reason for rescheduling...",className:"w-full p-3 border newBorderColor rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,maxLength:500}),(0,r.jsx)("div",{className:"flex justify-between items-center text-sm text-gray-500",children:(0,r.jsxs)("span",{children:[k.length,"/500"]})})]})})})]}),(0,r.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row justify-end items-center gap-4 p-4 md:p-6 bg-white border-t newBorderColor",children:[(0,r.jsx)("button",{onClick:O,className:"w-full sm:w-auto px-6 py-3 rounded-lg newBorder brandColor font-medium hover:primaryBackgroundBg transition-colors","aria-label":"Cancel",children:x("cancel")}),(0,r.jsx)("button",{onClick:z,disabled:!U||T,className:"w-full sm:w-auto px-6 py-3 rounded-lg font-medium transition-colors ".concat(U&&!T?"primaryBg primaryTextColor hover:opacity-90":"primaryBackgroundBg text-gray-400 cursor-not-allowed"),"aria-label":"Continue",children:T?x("loading"):x("continue")})]})]});return h?(0,r.jsx)(tT.yo,{open:i,onOpenChange:n,children:(0,r.jsx)(tT.ue,{side:"bottom",className:"rounded-t-2xl w-full p-0 gap-0 h-[90vh] !border-0 outline-none",children:q()})}):(0,r.jsx)(eN.Vq,{open:i,onOpenChange:n,children:(0,r.jsxs)(eN.cZ,{className:"max-w-7xl w-full bg-white newBorder rounded-2xl p-0 gap-0 overflow-hidden",children:[(0,r.jsx)(eN.$N,{className:"sr-only",children:x("rescheduleAppointment")}),q()]})})},tM=a(65550),tZ=a(34526);let tz=e=>({PiVideoCamera:tZ.b_V,BiPhoneCall:eS.a54,BiUserPlus:eS.cHT})[e]||b.TIu;var tO=e=>{let{availableMeetingTypes:t="virtual,phone,in_person",isOpen:a=!1,onClose:s=()=>{},currentMeetingType:l="",onChangeMeetingType:i=()=>{},handleSubmit:n=()=>{}}=e,d=(0,o.m)(),c=(0,eb.d)(),m=t.split(",").map(e=>e.trim()).map(e=>({id:e,label:e,icon:"virtual"===e?"PiVideoCamera":"phone"===e?"BiPhoneCall":"in_person"===e?"BiUserPlus":"MdOutlineMeetingRoom"})),u=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"p-6 flex flex-row justify-between items-center",children:[(0,r.jsx)("div",{className:"font-bold text-xl brandColor",children:d("updateMeetingType")}),(0,r.jsx)("div",{className:"flex items-center justify-center rounded-xl primaryBackgroundBg p-1.5 hover:cursor-pointer",children:(0,r.jsx)(ey.QAE,{className:"w-7 h-7",onClick:s})})]}),(0,r.jsxs)("div",{className:"p-4 flex flex-col primaryBackgroundBg",children:[(0,r.jsx)("div",{className:"font-semibold text-base rounded-t-2xl border-x-[1.5px] border-t-[1.5px] newBorderColor p-4 brandColor bg-white",children:d("selectType")}),(0,r.jsx)("div",{className:"rounded-b-2xl border-x-[1.5px] border-b-[1.5px] newBorderColor p-4 bg-white flex flex-col gap-4",children:m.map(e=>{let t=tz(e.icon);return(0,r.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 hover:cursor-pointer rounded-lg hover:bg-gray-50 transition-colors border newBorderColor",onClick:()=>i(e.id),children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(t,{className:"w-5 h-5 leadColor mr-3"}),(0,r.jsx)("span",{className:"leadColor font-medium text-base",children:d(e.label)})]}),(0,r.jsx)("input",{type:"radio",name:"meetingType",value:e.id,checked:l===e.id,onChange:()=>i(e.id),className:"w-5 h-5 cursor-pointer primaryCheckbox",onClick:e=>e.stopPropagation()})]},e.id)})})]}),(0,r.jsx)("div",{className:"flex items-center justify-end p-4 rounded",children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,r.jsx)("button",{className:"font-medium text-base",onClick:s,children:d("cancel")}),(0,r.jsx)("button",{className:"font-medium text-base rounded-lg text-white brandBg py-3 px-4",onClick:n,children:d("update")})]})})]});return c?(0,r.jsx)(tT.yo,{open:a,onOpenChange:s,children:(0,r.jsx)(tT.ue,{side:"bottom",className:"rounded-t-2xl w-full p-0 gap-0 h-auto max-h-[80vh] !border-0 outline-none",children:u()})}):(0,r.jsx)(eN.Vq,{open:a,onOpenChange:s,children:(0,r.jsx)(eN.cZ,{className:"max-w-md rounded-2xl p-0 gap-0 border-none overflow-hidden [&>button]:hidden",children:u()})})};let tU=e=>{let{status:t,t:a}=e,s=(e=>{switch(e.toLowerCase()){case"confirmed":return{bg:"bg-green-100",text:"text-green-600",label:a("confirmed")};case"completed":return{bg:"bg-green-100",text:"text-green-600",label:a("completed")};case"rescheduled":return{bg:"bg-blue-100",text:"text-blue-600",label:a("rescheduled")};case"pending":return{bg:"bg-blue-100",text:"text-blue-600",label:a("pending")};case"rejected":return{bg:"bg-red-100",text:"text-red-600",label:a("rejected")};case"cancelled":case"auto_cancelled":return{bg:"bg-red-100",text:"text-red-600",label:a("cancelled")};default:return{bg:"bg-gray-100",text:"text-gray-600",label:a(e)}}})(t);return(0,r.jsx)("div",{className:"px-3 py-2 rounded flex justify-center ".concat(s.bg),children:(0,r.jsx)("span",{className:"text-sm font-medium ".concat(s.text),children:s.label})})};var tq=e=>{var t,a,s,i;let{appointment:n,onEdit:d,onCancel:c,onAccept:u,isAgent:p=!1,activeTab:g="",refetchData:f=()=>{},isRequestedAppointment:v=!1}=e,y=(0,o.m)(),j=(null==n?void 0:n.user)||{},N=(null==n?void 0:n.property)||{},w=v?(null==n?void 0:n.admin)||(null==n?void 0:n.agent):(null==n?void 0:n.agent)||(null==n?void 0:n.admin),[_,C]=(0,l.useState)(!1),[k,S]=(0,l.useState)(!1),[B,A]=(0,l.useState)(!1),[D,P]=(0,l.useState)(!1),[T,F]=(0,l.useState)(null==n?void 0:n.meeting_type),I=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),E=async e=>{if(!e){V.ZP.error(y("pleaseProvideReasonForReport"));return}try{let t=await (0,m.xc)({user_id:p?j.id:w.id,reason:e});(null==t?void 0:t.error)===!1&&(null==t?void 0:t.data)&&(S(!1),V.ZP.success(y("reportSubmittedSuccessfully")))}catch(e){console.error("Error reporting user:",e.message),V.ZP.error(e.message)}},R=async e=>{try{var t,a;let r="".concat(null==e?void 0:e.date.getFullYear(),"-").concat(((null==e?void 0:e.date.getMonth())+1).toString().padStart(2,"0"),"-").concat(null==e?void 0:e.date.getDate().toString().padStart(2,"0")),s=await (0,m.pF)({appointment_id:null==n?void 0:n.id,status:"rescheduled",reason:null==e?void 0:e.reason,date:r,start_time:null==e?void 0:null===(t=e.timeSlot)||void 0===t?void 0:t.start_time,end_time:null==e?void 0:null===(a=e.timeSlot)||void 0===a?void 0:a.end_time,meeting_type:null==e?void 0:e.meetingType});if((null==s?void 0:s.error)===!0){V.ZP.error((null==s?void 0:s.message)||y("somethingWentWrong")||"Something went wrong");return}(null==s?void 0:s.error)===!1&&(null==s?void 0:s.data)&&(A(!1),V.ZP.success(null==s?void 0:s.message),f&&f())}catch(e){console.error("Error rescheduling appointment:",e),V.ZP.error((null==e?void 0:e.message)||y("somethingWentWrong")||"Something went wrong")}},L=async()=>{try{let e=await (0,m.aH)({appointment_id:null==n?void 0:n.id,meeting_type:T});(null==e?void 0:e.error)===!1&&(null==e?void 0:e.data)&&(P(!1),V.ZP.success(y("meetingTypeUpdatedSuccessfully")),f&&f())}catch(e){}};return(0,r.jsxs)("div",{className:"border border-gray-200 rounded-2xl overflow-hidden ".concat(""),children:[(0,r.jsx)("div",{className:"md:overflow-x-auto no-scrollbar ".concat(_?"border-b mb-2 newBorderColor":""),children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 md:gap-8 p-4 w-full no-scrollbar",children:[(0,r.jsxs)("div",{className:"flex justify-start items-center gap-4 w-full md:w-[300px] md:max-w-[300px]",children:[(0,r.jsx)("div",{className:"relative w-12 h-12 flex-shrink-0",children:(0,r.jsx)(ee.Z,{src:p?null==j?void 0:j.profile:null==w?void 0:w.profile,alt:p?(null==j?void 0:j.name)||"User Image":(null==w?void 0:w.name)||"Agent Image",className:"w-12 h-12 rounded object-cover shadow-md"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full md:w-[220px] md:max-w-[220px]",children:[(0,r.jsx)("span",{className:"font-bold text-base text-gray-800 truncate text-start",children:p?null==j?void 0:j.name:null==w?void 0:w.name}),(0,r.jsx)("span",{className:"text-base text-gray-600 truncate text-start",children:p?null==j?void 0:j.email:null==w?void 0:w.email})]})]}),p&&N&&(0,r.jsxs)("div",{className:"flex justify-start items-center gap-4 w-full md:w-[300px] md:max-w-[300px]",children:[(0,r.jsx)("div",{className:"relative w-12 h-12 flex-shrink-0",children:(0,r.jsx)(ee.Z,{src:null==N?void 0:N.title_image,alt:(null==N?void 0:N.translated_title)||(null==N?void 0:N.title)||"Property Image",className:"w-12 h-12 rounded-lg object-cover"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,r.jsx)("span",{className:"text-base text-gray-600 text-start",children:y("propertyBook")}),(0,r.jsx)("span",{className:"font-bold text-base text-gray-800 truncate text-start",children:N.translated_title||(null==N?void 0:N.title)})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full md:w-[150px] md:max-w-[150px] items-start md:items-center",children:[(0,r.jsx)("span",{className:"text-base text-start md:text-center text-gray-600 whitespace-nowrap",children:y("meetingType")}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-start md:text-center text-gray-800",children:[(0,r.jsx)("span",{className:"font-bold text-base text-nowrap",children:y(null==n?void 0:n.meeting_type)}),!["cancelled","auto_cancelled","completed"].includes(null==n?void 0:null===(t=n.status)||void 0===t?void 0:t.toLowerCase())&&(0,r.jsx)("span",{className:"primaryBgLight08 flex items-center justify-center w-6 h-6 rounded-sm hover:cursor-pointer",onClick:()=>P(!0),children:(0,r.jsx)(tM.VJJ,{className:"primaryColor"})})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full md:w-[150px] md:max-w-[150px] items-start md:items-center",children:[(0,r.jsx)("span",{className:"text-base text-center text-gray-600 whitespace-nowrap",children:y("meetingTime")}),(0,r.jsxs)("span",{className:"font-bold text-base text-center text-gray-800",children:[I(null==n?void 0:n.start_at)," - ",I(null==n?void 0:n.end_at)]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full md:w-[150px] md:max-w-[150px] items-center",children:[(0,r.jsx)("span",{className:"text-base text-start md:text-center text-gray-600 whitespace-nowrap",children:y("status")}),(0,r.jsx)("div",{className:"flex justify-start md:justify-center w-full",children:(0,r.jsx)(tU,{status:null==n?void 0:n.status,t:y})})]}),(0,r.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap justify-start sm:justify-center items-start sm:items-center gap-2 md:gap-4 w-full md:w-auto",children:[(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),C(!_)},className:"primaryBackgroundBg rounded flex items-center gap-2.5 px-2 py-1 h-10 hover:bg-gray-200 transition-colors",children:[(0,r.jsx)(h.E.div,{animate:{rotate:_?180:0},transition:{duration:.3,ease:"easeInOut"},children:(0,r.jsx)(eS.OrA,{size:24,className:"text-gray-800"})}),(0,r.jsx)("span",{className:"text-base text-black whitespace-nowrap",children:y("seeDetails")})]}),p&&(null==n?void 0:null===(a=n.status)||void 0===a?void 0:a.toLowerCase())==="pending"&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),u&&u(n)},className:"bg-[#83B8071F] rounded flex items-center gap-2.5 px-2 py-1 h-10 transition-colors",children:(0,r.jsx)("span",{className:"text-base font-medium text-[#83B807] whitespace-nowrap",children:y("accept")})}),!["cancelled","auto_cancelled","completed"].includes(null==n?void 0:null===(s=n.status)||void 0===s?void 0:s.toLowerCase())&&"upcoming"===g&&(0,r.jsx)("button",{onClick:e=>{A(!0)},className:"primarySellBgLight12 rounded flex items-center gap-2.5 px-2 py-1 h-10 transition-colors",children:(0,r.jsx)(b.BMe,{className:"w-5 h-5"})}),!["cancelled","approved","auto_cancelled","completed"].includes(null==n?void 0:null===(i=n.status)||void 0===i?void 0:i.toLowerCase())&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),c(null==n?void 0:n.id)},className:"bg-red-100 rounded flex items-center gap-2.5 px-2 py-1 h-10 hover:bg-red-200 transition-colors",children:(0,r.jsx)(eS.czh,{size:24,className:"text-red-600"})})]})]})}),(0,r.jsx)(x.M,{children:_&&(0,r.jsx)(h.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.4,ease:"easeInOut",opacity:{duration:.2}},style:{overflow:"hidden"},children:(0,r.jsx)(tD,{appointmentData:n,is_agent:p,onClose:()=>C(!1),setIsReportModalOpen:S,isReportModalOpen:k,onReportUser:e=>{null==e||e.preventDefault(),S(!0)}})})}),(null==n?void 0:n.status.toLowerCase())==="cancelled"&&(null==n?void 0:n.reason)&&(0,r.jsxs)("div",{className:"mx-4 mb-4 bg-red-50 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 mb-2",children:[(0,r.jsx)("span",{className:"font-semibold text-sm brandColor",children:y("cancellationReason")}),(0,r.jsx)("span",{className:"font-semibold text-sm brandColor",children:":"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-base text-red-600",children:null==n?void 0:n.reason})})]}),k&&(0,r.jsx)(tP,{isOpen:k,onClose:()=>S(!1),title:"reportUser",initialReason:"",isRequired:!0,submitButtonText:"submit",submitButtonColor:"brandBg",handleSubmit:E}),B&&(0,r.jsx)(tL,{isOpen:B,onClose:()=>A(!1),appointment:n,onContinue:R}),D&&(0,r.jsx)(tO,{availableMeetingTypes:null==n?void 0:n.availability_types,currentMeetingType:T,isOpen:D,onClose:()=>P(!1),onChangeMeetingType:F,handleSubmit:L})]})};a(54772);var tV=()=>{var e,t;let[a,s]=(0,l.useState)(1),[i,n]=(0,l.useState)([]),[d,c]=(0,l.useState)("upcoming"),[u,p]=(0,l.useState)(0),[x,h]=(0,l.useState)(0),[g,f]=(0,l.useState)(!1),y=e=>{p((e-1)*10)},b=(0,o.m)(),N=async()=>{try{var e;f(!0);let t=await (0,m.ex)({offset:u,limit:10,date_filter:d}),a=(null===(e=t.data)||void 0===e?void 0:e.map(e=>({...e,agent:e.agent||e.admin,property:e.property,meeting_type:e.meeting_type,status:e.status,availability_types:e.availability_types})))||[];n(a),h(t.total)}catch(e){console.error("Error fetching appointments:",e)}finally{f(!1)}},w=(e=>{let t=null==e?void 0:e.reduce((e,t)=>{let a=t.date;return e[a]||(e[a]=[]),e[a].push(t),e},{});return Object.keys(t).forEach(e=>{t[e].sort((e,t)=>new Date(e.start_at).getTime()-new Date(t.start_at).getTime())}),t})(i),_=null===(t=Object)||void 0===t?void 0:null===(e=t.keys(w))||void 0===e?void 0:e.sort((e,t)=>new Date(e)-new Date(t));return(0,l.useEffect)(()=>{N()},[d]),i.length,(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("div",{className:"pt-2 pb-7 brandColor font-bold text-2xl",children:b("myRequestedAppointments")}),(0,r.jsx)("div",{className:"flex bg-white h-full px-4",children:(0,r.jsxs)(tk.mQ,{value:d,onValueChange:c,className:"w-full bg-white",children:[(0,r.jsx)("div",{className:"border-b newBorderColor overflow-x-auto",children:(0,r.jsxs)(tk.dr,{className:"w-full h-auto bg-transparent p-0 gap-7 rounded-none justify-start",children:[(0,r.jsx)(tk.SP,{value:"upcoming",className:"p-3 rounded-none border-b-2 border-transparent data-[state=active]:primaryBorderColor data-[state=active]:bg-transparent bg-transparent hover:bg-transparent transition-colors !shadow-none",children:(0,r.jsx)("span",{className:"text-sm sm:text-base font-manrope whitespace-nowrap ".concat("upcoming"===d?"font-bold primaryColor":"font-medium brandColor"),children:b("upcoming")})}),(0,r.jsx)(tk.SP,{value:"previous",className:"p-3 rounded-none border-b-2 border-transparent data-[state=active]:primaryBorderColor data-[state=active]:bg-transparent bg-transparent hover:bg-transparent transition-colors !shadow-none",children:(0,r.jsx)("span",{className:"text-sm sm:text-base font-manrope whitespace-nowrap ".concat("previous"===d?"font-bold primaryColor":"font-medium brandColor"),children:b("previous")})})]})}),(0,r.jsx)(tk.nU,{value:"upcoming",children:(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[_.map(e=>{let t=w[e];return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("div",{className:"flex flex-col gap-2 py-4 px-6 primaryBackgroundBg rounded-lg border newBorder",children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-sm font-medium brandColor opacity-75",children:b("date")}),(0,r.jsx)("span",{className:"brandColor opacity-75",children:"-"}),(0,r.jsx)("h3",{className:"text-base font-bold brandColor",children:(0,v.L0)(e,b)})]})})}),(0,r.jsx)("div",{className:"flex flex-col gap-4",children:t.map(e=>(0,r.jsx)(tq,{appointment:e,isAgent:!1,activeTab:d,refetchData:N,isRequestedAppointment:!0},e.id))})]},e)}),0===i.length&&(0,r.jsx)("div",{className:"flex flex-col items-center justify-center py-12",children:(0,r.jsx)("p",{className:"brandColor opacity-75 text-lg",children:b("noUpcomingAppointments")})}),i.length>0&&(0,r.jsx)(j,{currentPage:Math.floor(u/10)+1,totalItems:x,itemsPerPage:10,onPageChange:y,isLoading:g,translations:{showing:b("showing"),to:b("to"),of:b("of"),entries:b("entries")}})]})}),(0,r.jsx)(tk.nU,{value:"previous",children:(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[_.map(e=>{let t=w[e];return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("div",{className:"flex flex-col gap-2 py-4 px-6 primaryBackgroundBg rounded-lg border newBorder",children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-sm font-medium brandColor opacity-75",children:b("date")}),(0,r.jsx)("span",{className:"brandColor opacity-75",children:"-"}),(0,r.jsx)("h4",{className:"text-base font-bold brandColor",children:(0,v.L0)(e,b)})]})})}),(0,r.jsx)("div",{className:"flex flex-col gap-4",children:t.map(e=>(0,r.jsx)(tq,{appointment:e,isAgent:!1,activeTab:d,isRequestedAppointment:!0},e.id))})]},e)}),0===i.length&&(0,r.jsx)("div",{className:"flex flex-col items-center justify-center py-12",children:(0,r.jsx)("p",{className:"brandColor opacity-75 text-lg",children:b("noPreviousAppointments")})}),i.length>0&&(0,r.jsx)(j,{currentPage:Math.floor(u/10)+1,totalItems:x,itemsPerPage:10,onPageChange:y,isLoading:g,translations:{showing:b("showing"),to:b("to"),of:b("of"),entries:b("entries")}})]})})]})})]})};let tK=e=>{let{itemLength:t}=e;return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{className:"bg-gray-50 border-y",children:(0,r.jsx)("div",{className:"grid grid-cols-5 px-6 py-4",children:["w-10","w-40","w-40","w-40","w-40"].map((e,t)=>(0,r.jsx)(u.O,{className:"h-4 ".concat(e)},t))})}),[...Array(Number(t))].map((e,t)=>(0,r.jsx)("div",{className:"border-b px-6 py-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-5 gap-4 items-center",children:[(0,r.jsx)(u.O,{className:"h-4 w-10"}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(u.O,{className:"h-10 w-10 rounded-full"}),(0,r.jsx)(u.O,{className:"h-4 w-32"})]}),(0,r.jsx)(u.O,{className:"h-4 w-32"}),(0,r.jsx)(u.O,{className:"h-4 w-40"}),(0,r.jsx)(u.O,{className:"h-4 w-28"})]})},t))]})};var tW=e=>{let{params:t}=e,a=(0,s.useRouter)(),n=(0,o.m)(),{locale:d,slug:c}=null==a?void 0:a.query,u=(null==t?void 0:t[0])||(null==c?void 0:c.split("/")[1]);(0,N.v9)(e=>{var t;return null===(t=e.User)||void 0===t?void 0:t.data}),(0,N.v9)(e=>{var t;return null===(t=e.WebSetting)||void 0===t?void 0:t.data});let[p,x]=(0,l.useState)(10),[h,g]=(0,l.useState)(0),[f,v]=(0,l.useState)([]),[y,b]=(0,l.useState)(!1),[w,_]=(0,l.useState)(!1),[k,S]=(0,l.useState)(0),B=async()=>{try{w||b(!0);let e=await (0,m.Cf)({slug_id:u,limit:p.toString(),offset:h.toString()});(null==e?void 0:e.error)||(v((null==e?void 0:e.data)||[]),S((null==e?void 0:e.total)||0))}catch(e){console.error("Error fetching interested users",e)}finally{b(!1),_(!1)}};(0,l.useEffect)(()=>{u&&B()},[u,h,p]);let A=[{header:"ID",accessor:"id",align:"center"},{header:n("Profile"),accessor:"profile",align:"center",renderCell:e=>{var t;return(0,r.jsx)("div",{className:"flex justify-center items-center space-x-3",children:(0,r.jsxs)(C.qE,{className:"h-10 w-10",children:[(0,r.jsx)(C.F$,{src:(null==e?void 0:e.profile)||"",alt:(null==e?void 0:e.name)||"User"}),(0,r.jsx)(C.Q5,{children:(null==e?void 0:e.name)?null==e?void 0:null===(t=e.name)||void 0===t?void 0:t.charAt(0):"U"})]})})}},{header:n("Name"),accessor:"name",align:"center"},{header:n("Email"),accessor:"email",align:"center",renderCell:e=>(0,r.jsx)(tA(),{href:"mailto:".concat(null==e?void 0:e.email),className:"text-center",children:null==e?void 0:e.email})},{header:n("Mobile No"),accessor:"mobile",align:"center",renderCell:e=>(0,r.jsx)(tA(),{href:"tel:".concat(null==e?void 0:e.mobile),className:"text-center",children:null==e?void 0:e.mobile})}];return(0,r.jsxs)("div",{className:"overflow-y-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-medium py-6",children:n("Interested Users Details")}),(0,r.jsxs)("div",{className:"bg-white rounded-lg",children:[y||w?(0,r.jsx)(tK,{itemLength:p}):(0,r.jsx)(i.Z,{columns:A,data:f,loading:!1,emptyMessage:n("noDataAvailable")}),(0,r.jsx)("div",{className:"transition-opacity duration-200 ".concat(w?"opacity-50":"opacity-100"),children:(0,r.jsx)(j,{currentPage:Math.floor(h/p)+1,totalItems:k,itemsPerPage:p,onPageChange:e=>{_(!0),g((e-1)*p)},isLoading:w,translations:{showing:n("showing"),to:n("to"),of:n("of"),entries:n("entries")}})})]})]})},tH=JSON.parse('["Africa/Abidjan","Africa/Accra","Africa/Algiers","Africa/Bissau","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/El_Aaiun","Africa/Johannesburg","Africa/Juba","Africa/Khartoum","Africa/Lagos","Africa/Maputo","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/La_Paz","America/Lima","America/Los_Angeles","America/Maceio","America/Managua","America/Manaus","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Johns","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis","UTC"]'),tY=a(29392);let tQ=e=>{let{tooltip:t}=e;return(0,r.jsxs)(S.u,{children:[(0,r.jsx)(S.aJ,{asChild:!0,children:(0,r.jsx)(tY.Z,{className:"w-4 h-4 text-gray-400 cursor-help"})}),(0,r.jsx)(S._v,{side:"top",className:"max-w-xs",children:(0,r.jsx)("p",{children:t})})]})},tJ=()=>(0,r.jsx)("div",{className:"space-y-[30px]",children:Array.from({length:7},(e,t)=>(0,r.jsxs)("div",{className:"border newBorderColor rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.O,{className:"h-4 w-40"}),(0,r.jsx)(u.O,{className:"h-4 w-full"}),4===t&&(0,r.jsx)(u.O,{className:"h-4 w-3/4"})]}),(0,r.jsx)(u.O,{className:"h-[44px] w-full ".concat(4===t?"h-[146px]":"")})]},t))});var tG=e=>{let{loading:t=!1,onSave:a,formData:s,saving:l,onFormDataChange:i,onMeetingTypeChange:d}=e,c=(0,o.m)(),m=(e,t)=>{t<0||i(e,t)},u=()=>{let e=[];!s.bufferTime||s.bufferTime<0?e.push(c("bufferTimeRequired")):(s.bufferTime<0||s.bufferTime>120)&&e.push(c("bufferTimeRange")),!s.defaultDuration||s.defaultDuration<=0?e.push(c("defaultDurationRequired")):(s.defaultDuration<15||s.defaultDuration>480)&&e.push(c("defaultDurationRange")),!s.cancellationTime||s.cancellationTime<0?e.push(c("cancellationTimeRequired")):(s.cancellationTime<0||s.cancellationTime>10080)&&e.push(c("cancellationTimeRange")),!s.minAdvanceBookingTime||s.minAdvanceBookingTime<0?e.push(c("minAdvanceBookingTimeRequired")):(s.minAdvanceBookingTime<0||s.minAdvanceBookingTime>10080)&&e.push(c("minAdvanceBookingTimeRange")),!s.cancelRescheduleBufferTime||s.cancelRescheduleBufferTime<0?e.push(c("cancelRescheduleBufferTimeRequired")):(s.cancelRescheduleBufferTime<0||s.cancelRescheduleBufferTime>1440)&&e.push(c("cancelRescheduleBufferTimeRange")),s.maxBookingsPerDay&&(s.maxBookingsPerDay<1||s.maxBookingsPerDay>100)&&e.push(c("maxBookingsPerDayRange"));let{video:t,phone:a,inPerson:r}=s.meetingTypes;return t||a||r||e.push(c("selectAtLeastOneMeetingType")),e};return t?(0,r.jsx)(tJ,{}):(0,r.jsx)(S.pn,{children:(0,r.jsxs)("div",{className:"space-y-[30px]",children:[(0,r.jsxs)("div",{className:"border newBorderColor rounded-2xl flex",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-2 border-r newBorderColor p-4",children:[(0,r.jsx)("h3",{className:"text-base font-bold blackTextColor",children:c("autoConfirmBookings")}),(0,r.jsx)("p",{className:"text-sm font-medium blackTextColor opacity-75",children:c("autoConfirmBookingsDescription")})]}),(0,r.jsx)("div",{className:"flex justify-center items-center p-4 md:p-8",children:(0,r.jsx)(k.r,{checked:s.autoConfirm,onCheckedChange:e=>m("autoConfirm",e),className:"data-[state=checked]:primaryBg data-[state=unchecked]:bg-[#E7E7E7] h-[30px] w-[60px] [&>span]:data-[state=checked]:!translate-x-8"})})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-[30px]",children:[(0,r.jsxs)("div",{className:"flex-1 border newBorderColor rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h3",{className:"text-base font-bold blackTextColor isRequired",children:c("setBufferTime")}),(0,r.jsx)(tQ,{tooltip:"Time between consecutive appointments (0-120 minutes)"})]}),(0,r.jsx)("p",{className:"text-sm font-medium blackTextColor opacity-75",children:c("setBufferTimeDescription")})]}),(0,r.jsx)("div",{children:(0,r.jsx)(eC.I,{type:"number",value:s.bufferTime,onChange:e=>m("bufferTime",e.target.value),onKeyDown:e=>{e.target.value<=0&&m("bufferTime","")},placeholder:c("enterTimeInMinutes"),className:"h-[44px] primaryBackgroundBg newBorderColor border-[1.5px] rounded-lg px-4 py-3 leadColor font-medium"})})]}),(0,r.jsxs)("div",{className:"flex-1 border newBorderColor rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h3",{className:"text-base font-bold blackTextColor isRequired",children:c("defaultMeetingDuration")}),(0,r.jsx)(tQ,{tooltip:"Duration of each appointment slot (15-480 minutes)"})]}),(0,r.jsx)("p",{className:"text-sm font-medium blackTextColor opacity-75",children:c("defaultMeetingDurationDescription")})]}),(0,r.jsx)("div",{children:(0,r.jsx)(eC.I,{type:"number",value:s.defaultDuration,onChange:e=>m("defaultDuration",e.target.value),onKeyDown:e=>{e.target.value<=0&&m("defaultDuration","")},placeholder:c("enterTimeInMinutes"),className:"h-[44px] primaryBackgroundBg newBorderColor border-[1.5px] rounded-lg px-4 py-3 leadColor font-medium"})})]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-[30px]",children:[(0,r.jsxs)("div",{className:"flex-1 border newBorderColor rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h3",{className:"text-base font-bold blackTextColor isRequired",children:c("automaticCancellationTime")}),(0,r.jsx)(tQ,{tooltip:"Auto-cancel if not confirmed within this time (0-10080 minutes)"})]}),(0,r.jsx)("p",{className:"text-sm font-medium blackTextColor opacity-75",children:c("automaticCancellationTimeDescription")})]}),(0,r.jsx)("div",{children:(0,r.jsx)(eC.I,{type:"number",value:s.cancellationTime,onChange:e=>m("cancellationTime",e.target.value),onKeyDown:e=>{e.target.value<=0&&m("cancellationTime","")},placeholder:c("enterTimeInMinutes"),className:"h-[44px] primaryBackgroundBg newBorderColor border-[1.5px] rounded-lg px-4 py-3 leadColor font-medium"})})]}),(0,r.jsxs)("div",{className:"flex-1 border newBorderColor rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h3",{className:"text-base font-bold blackTextColor isRequired",children:c("minimumAdvanceBookingTime")}),(0,r.jsx)(tQ,{tooltip:"Minimum time required before booking (0-10080 minutes)"})]}),(0,r.jsx)("p",{className:"text-sm font-medium blackTextColor opacity-75",children:c("minimumAdvanceBookingTimeDescription")})]}),(0,r.jsx)("div",{children:(0,r.jsx)(eC.I,{type:"number",value:s.minAdvanceBookingTime,onChange:e=>m("minAdvanceBookingTime",e.target.value),onKeyDown:e=>{e.target.value<=0&&m("minAdvanceBookingTime","")},placeholder:c("enterTimeInMinutes"),className:"h-[44px] primaryBackgroundBg newBorderColor border-[1.5px] rounded-lg px-4 py-3 leadColor font-medium"})})]}),(0,r.jsxs)("div",{className:"flex-1 border newBorderColor rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h3",{className:"text-base font-bold blackTextColor isRequired",children:c("cancelRescheduleBufferTime")}),(0,r.jsx)(tQ,{tooltip:"Minimum time before appointment to cancel/reschedule (0-1440 minutes)"})]}),(0,r.jsx)("p",{className:"text-sm font-medium blackTextColor opacity-75",children:c("cancelRescheduleBufferTimeDescription")})]}),(0,r.jsx)("div",{children:(0,r.jsx)(eC.I,{type:"number",value:s.cancelRescheduleBufferTime,onChange:e=>m("cancelRescheduleBufferTime",e.target.value),onKeyDown:e=>{e.target.value<=0&&m("cancelRescheduleBufferTime","")},placeholder:c("enterTimeInMinutes"),className:"h-[44px] primaryBackgroundBg newBorderColor border-[1.5px] rounded-lg px-4 py-3 leadColor font-medium"})})]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-[30px]",children:[(0,r.jsxs)("div",{className:"flex-1 border newBorderColor rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h3",{className:"text-base font-bold blackTextColor",children:c("maxBookingsPerDay")}),(0,r.jsx)(tQ,{tooltip:"Maximum appointments per day (1-100)"})]}),(0,r.jsx)("p",{className:"text-sm font-medium blackTextColor opacity-75",children:c("maxBookingsPerDayDescription")})]}),(0,r.jsx)("div",{children:(0,r.jsx)(eC.I,{type:"number",value:s.maxBookingsPerDay,onChange:e=>m("maxBookingsPerDay",e.target.value),onKeyDown:e=>{e.target.value<=0&&m("maxBookingsPerDay","")},placeholder:c("enterMaxLimit"),className:"h-[44px] primaryBackgroundBg newBorderColor border-[1.5px] rounded-lg px-4 py-3 leadColor font-medium"})})]}),(0,r.jsxs)("div",{className:"flex-1 border newBorderColor rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-base font-bold blackTextColor isRequired",children:c("selectMeetingType")}),(0,r.jsx)("p",{className:"text-sm font-medium blackTextColor opacity-75",children:c("selectMeetingTypeDescription")})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row  gap-4",children:[(0,r.jsxs)(eF._,{htmlFor:"video",className:"text-sm font-medium blackTextColor cursor-pointer flex items-center gap-3",children:[(0,r.jsx)(eC.I,{type:"checkbox",id:"video",checked:s.meetingTypes.video,onChange:e=>d("video",e.target.checked),className:"h-5 w-5 border-[1.5px] blackTextColor border-black primaryCheckbox rounded-sm hover:cursor-pointer"}),c("video")]}),(0,r.jsxs)(eF._,{htmlFor:"phone",className:"flex items-center gap-3 text-sm font-medium blackTextColor cursor-pointer",children:[(0,r.jsx)(eC.I,{type:"checkbox",id:"phone",checked:s.meetingTypes.phone,onChange:e=>d("phone",e.target.checked),className:"h-5 w-5 border-[1.5px] border-black rounded-sm primaryCheckbox hover:cursor-pointer"}),c("phone")]}),(0,r.jsxs)(eF._,{htmlFor:"inPerson",className:"flex items-center gap-3 text-sm font-medium blackTextColor cursor-pointer",children:[(0,r.jsx)(eC.I,{type:"checkbox",id:"inPerson",checked:s.meetingTypes.inPerson,onChange:e=>d("inPerson",e.target.checked),className:"h-5 w-5 border-[1.5px] border-black rounded-sm primaryCheckbox hover:cursor-pointer"}),c("inPerson")]})]})]})]}),(0,r.jsxs)("div",{className:"border newBorderColor rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-base font-bold blackTextColor",children:c("cancellationMessage")}),(0,r.jsx)("p",{className:"text-sm font-medium blackTextColor opacity-75",children:c("cancellationMessageDescription")})]}),(0,r.jsx)("div",{children:(0,r.jsx)(ek,{value:s.cancellationMessage,onChange:e=>m("cancellationMessage",e.target.value),placeholder:'eg. "Please note that your upcoming appointment has been canceled. We apologize for any inconvenience this may cause. We look forward to rescheduling with you soon."',className:"h-[146px] primaryBackgroundBg newBorderColor border-[1.5px] rounded-lg px-4 py-3 leadColor font-medium resize-none"})})]}),(0,r.jsxs)("div",{className:"border newBorderColor rounded-2xl p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-base font-bold blackTextColor",children:c("timeZone")}),(0,r.jsx)("p",{className:"text-sm font-medium blackTextColor opacity-75",children:c("timeZoneDescription")})]}),(0,r.jsx)("div",{className:"w-full max-w-[400px]",children:(0,r.jsxs)(eR.Ph,{value:s.timezone,onValueChange:e=>m("timezone",e),children:[(0,r.jsx)(eR.i4,{className:"h-[44px] primaryBackgroundBg newBorderColor border-[1.5px] rounded-lg px-4 py-3 focus:!ring-0",children:(0,r.jsx)(eR.ki,{placeholder:c("selectTimezone"),className:"leadColor font-medium"})}),(0,r.jsx)(eR.Bw,{className:"max-h-[200px]",children:tH.map(e=>(0,r.jsx)(eR.Ql,{value:e,children:e},e))})]})})]}),(0,r.jsx)("div",{className:"flex justify-end items-center",children:(0,r.jsx)(n.z,{onClick:()=>{let e=u();if(e.length>0){V.ZP.error(e.length>1?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{className:"font-medium",children:[c("pleaseFixFollowingErrors"),":"]}),(0,r.jsx)("ul",{className:"list-disc pl-4 space-y-1",children:e.map((e,t)=>(0,r.jsx)("li",{className:"text-sm",children:e},t))})]}):e[0]);return}a&&a()},disabled:l,className:"h-12 px-4 py-3 brandBg primaryTextColor font-medium rounded-lg hover:brandBg/90 disabled:opacity-50 text-base",children:l?c("saving"):c("savePreferences")})})]})})},t$=a(5782);let tX=e=>{let{options:t,selectedValue:a,onSelect:s,label:l,className:i,disabledTimes:n,period:o,type:d}=e,c=e=>{let t;if(!n)return!1;if("hours"===d)t="".concat(e,":00 ").concat(o);else if("minutes"===d)t="".concat(a,":").concat(e," ").concat(o);else{let r=a.padStart(2,"0");t="".concat(r,":00 ").concat(e)}return n(t)};return(0,r.jsx)("div",{className:(0,P.cn)("flex-1",i),children:(0,r.jsx)("select",{name:"time",value:a,onChange:e=>s(e.target.value),className:"w-full h-40 text-center text-sm border-0 focus-within:ring-0 focus:outline-none overflow-y-auto",size:10,children:t.map((e,t)=>{let a=c(e);return(0,r.jsx)("option",{value:e,disabled:a,className:(0,P.cn)("py-2 px-1 text-center hover:cursor-pointer",a?"text-gray-300 bg-gray-100":"checked:primaryBg checked:text-white"),children:e},t)})})})};var t0=e=>{let{value:t,onChange:a,className:s,placeholder:i="Select time",disabled:o=!1,format12Hour:d=!0,id:c,name:m,required:u=!1,"aria-label":p,"aria-describedby":x,...h}=e,[g,f]=(0,l.useState)(""),[v,y]=(0,l.useState)(""),[j,b]=(0,l.useState)("AM"),[N,w]=(0,l.useState)(!1),[_,C]=(0,l.useState)(""),[k,S]=(0,l.useState)(""),[B,A]=(0,l.useState)("AM"),D=(0,l.useRef)(null),T=d?Array.from({length:12},(e,t)=>(t+1).toString().padStart(2,"0")):Array.from({length:24},(e,t)=>t.toString().padStart(2,"0")),F=Array.from({length:60},(e,t)=>t.toString().padStart(2,"0"));(0,l.useEffect)(()=>{if(t){let e=t.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)?$/i);if(e){let[,t,a,r]=e,s=t.padStart(2,"0"),l=d&&r?r.toUpperCase():"AM";f(s),y(a),b(l),C(s),S(a),A(l)}}},[t,d]),(0,l.useEffect)(()=>{N&&(C(g||(d?"01":"00")),S(v||"00"),A(j||"AM"))},[N,g,v,j,d]);let I=(0,l.useCallback)(()=>{if(_&&k){f(_),y(k),b(B);let e=d?"".concat(_,":").concat(k," ").concat(B):"".concat(_,":").concat(k);null==a||a(e)}w(!1)},[_,k,B,d,a]),E=(0,l.useCallback)(()=>{C(g||(d?"01":"00")),S(v||"00"),A(j||"AM"),w(!1)},[g,v,j,d]),R=(0,l.useCallback)(()=>g&&v?d?"".concat(g,":").concat(v," ").concat(j):"".concat(g,":").concat(v):i,[g,v,j,d,i]),L=(0,l.useCallback)(e=>{"Enter"===e.key||" "===e.key?(e.preventDefault(),w(!N)):"Escape"===e.key&&N&&E()},[N,E]);(0,l.useEffect)(()=>{let e=e=>{D.current&&D.current.contains(e.target)||E()};if(N)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[N,E]);let M=c||"time-picker-".concat(Math.random().toString(36).substr(2,9));return(0,r.jsxs)("div",{ref:D,className:(0,P.cn)("relative",s),...h,children:[(0,r.jsx)("button",{type:"button",onClick:()=>w(!N),onKeyDown:L,disabled:o,"aria-label":p||"Time picker. Current time: ".concat(R()),"aria-describedby":x,"aria-expanded":N,"aria-haspopup":"dialog","aria-required":u,id:M,name:m,className:(0,P.cn)("flex h-full w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background","hover:bg-accent hover:text-accent-foreground","focus:outline-none focus:ring-1 focus:ring-ring","disabled:cursor-not-allowed disabled:opacity-50","transition-colors"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,r.jsx)("span",{className:(0,P.cn)("flex flex-col w-full text-left",(!g||!v)&&"text-muted-foreground"),children:R()}),(0,r.jsx)(t$.Z,{className:"h-4 w-4 brandColor flex-shrink-0 ml-2","aria-hidden":"true"})]})}),N&&(0,r.jsxs)("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 rounded-lg border bg-white shadow-lg animate-in fade-in-0 zoom-in-95",role:"dialog","aria-labelledby":M,"aria-modal":"false","data-time-picker-panel":"true",children:[(0,r.jsxs)("div",{className:"flex bg-white",children:[(0,r.jsx)(tX,{options:T,selectedValue:_,onSelect:e=>{C(e)},label:"Hours",className:"border-r border-gray-200",disabledTimes:h.disabledTimes,period:B,type:"hours"}),(0,r.jsx)(tX,{options:F,selectedValue:k,onSelect:e=>{S(e)},label:"Minutes",className:d?"border-r border-gray-200":"",disabledTimes:h.disabledTimes,period:B,type:"minutes"}),d&&(0,r.jsx)(tX,{options:["AM","PM"],selectedValue:B,onSelect:e=>{A(e)},label:"Period",className:"w-8",disabledTimes:h.disabledTimes,period:B,type:"period"})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 px-4 py-3 border-t bg-gray-50 rounded-b-lg",children:[(0,r.jsx)(n.z,{type:"button",variant:"outline",size:"sm",onClick:E,className:"h-8 px-3 text-xs",children:"Cancel"}),(0,r.jsx)(n.z,{type:"button",size:"sm",onClick:I,disabled:!_||!k,className:"h-8 px-3 text-xs primaryBg hover:primaryBg/90",children:"OK"})]})]})]})};let t1=e=>{let[t,a]=e.split(":").map(Number);return"".concat(0===t?12:t>12?t-12:t,":").concat(a.toString().padStart(2,"0")," ").concat(t>=12?"PM":"AM")},t2=e=>{if(!e)return"";let t=e.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)$/i);if(!t)return e;let[,a,r,s]=t,l=parseInt(a,10);return"AM"===s.toUpperCase()&&12===l?l=0:"PM"===s.toUpperCase()&&12!==l&&(l+=12),"".concat(l.toString().padStart(2,"0"),":").concat(r)},t4=e=>e?t1(e):"";var t5=e=>{let{day:t,schedule:a,onToggle:s,onTimeSlotChange:l,onAddTimeSlot:i,onRemoveTimeSlot:d}=e,c=(0,o.m)(),{isEnabled:m,timeSlots:u}=a;return(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start gap-2 sm:gap-4",children:[(0,r.jsx)("div",{className:"flex items-center w-full sm:w-[140px] md:w-[180px] order-1",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 w-full",children:[(0,r.jsx)(k.r,{checked:m,onCheckedChange:e=>s(t,e),className:"data-[state=checked]:primaryBg data-[state=unchecked]:bg-[#E7E7E7] h-[22px] w-[42px] sm:h-[26px] sm:w-[46px] [&>span]:data-[state=checked]:!translate-x-[22px] [&>span]:data-[state=unchecked]:!translate-x-0.5"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"text-sm sm:text-base font-semibold brandColor",children:t}),(0,r.jsx)("span",{className:"text-sm sm:text-base font-semibold brandColor",children:":"})]})]})}),(0,r.jsx)("div",{className:"flex-1 order-2 w-full",children:m?(0,r.jsx)("div",{className:"space-y-2",children:u.map((e,a)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 flex-1",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(t0,{value:t4(e.start),onChange:e=>{l(a,"start",t2(e))},placeholder:"Select start time",className:"primaryBackgroundBg h-11 rounded text-xs","aria-label":"Select start time for ".concat(t),format12Hour:!0})}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(t0,{value:t4(e.end),onChange:e=>{l(a,"end",t2(e))},placeholder:"Select end time",className:"primaryBackgroundBg h-11 rounded text-xs","aria-label":"Select end time for ".concat(t),format12Hour:!0})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(n.z,{type:"button",variant:"outline",size:"sm",onClick:()=>d(a),className:"h-11 w-11 p-0 border-[1.5px] redColor border-red-200 hover:redBgLight12 hover:text-red-700 rounded","aria-label":"Remove time slot ".concat(a+1," for ").concat(t),children:(0,r.jsx)(er.ego,{className:"h-5 w-5"})}),0===a&&(0,r.jsx)(n.z,{type:"button",variant:"outline",size:"icon",onClick:i,className:"h-11 w-11 border-[1.5px] primaryBorderColor primaryColor hover:primaryBg hover:text-white rounded","aria-label":"Add new time slot for ".concat(t),children:(0,r.jsx)(er.OvN,{className:"h-5 w-5"})}),a>0&&(0,r.jsx)("div",{className:"w-11","aria-hidden":"true"})]})]},a))}):(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("div",{className:"h-11 w-full primaryBackgroundBg newBorderColor border-[1.5px] rounded px-3 flex items-center",children:(0,r.jsx)("span",{className:"leadColor font-medium text-xs",children:c("closed")})})})})]})},t3={src:"/_next/static/media/calendarIcon.128c97bb.svg",height:20,width:20,blurWidth:0,blurHeight:0},t6=e=>{let{date:t,timeSlot:a,onViewSchedule:s,totalSlots:l=1,firstTimeSlot:i}=e,d=(0,o.m)();return(0,r.jsxs)("div",{className:"space-y-1.5 sm:space-y-2",children:[(0,r.jsx)("div",{className:"text-[10px] sm:text-sm font-semibold brandColor opacity-80",children:t}),(0,r.jsx)("div",{className:"primaryBackgroundBg newBorder rounded-lg sm:rounded-xl p-2 sm:p-3",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2 min-w-0",children:[(0,r.jsx)("div",{className:"w-3.5 h-3.5 sm:w-[18px] sm:h-[18px] flex items-center justify-center shrink-0",children:(0,r.jsx)(ep.dzk,{className:"w-3.5 h-3.5 sm:w-[18px] sm:h-[18px] brandColor"})}),(0,r.jsx)("span",{className:"text-[10px] sm:text-sm font-medium brandColor truncate",children:i||a})]}),l>1&&(0,r.jsxs)(n.z,{onClick:s,className:"w-full sm:w-fit primaryBgLight08 primaryTextColor px-2 sm:px-3 py-1.5 sm:py-2 text-[10px] sm:text-sm font-medium flex items-center justify-center gap-1 sm:gap-1.5 hover:!primaryBgLight08 rounded !shadow-none",children:[(0,r.jsx)(ee.Z,{src:t3,className:"w-3 h-3 sm:w-4 sm:h-4",alt:"Calendar Icon"}),(0,r.jsx)("span",{className:"primaryColor font-medium text-[10px] sm:text-sm flex items-center gap-1",children:d("viewSchedule")})]})]})})]})},t8=a(67631),t7=e=>{let{isOpen:t,onClose:a,viewAllDate:s,showExtraTimeSlots:i=!1,showDefaultTimeSchedules:n=!0}=e,d=(0,o.m)(),[c,u]=(0,l.useState)([]),p=s?new Date(s.year,s.month-1,s.date,12,0,0):new Date,[x,h]=(0,l.useState)([]);(0,l.useEffect)(()=>{!0===t&&s&&g()},[t,s]);let g=async()=>{try{let a=await (0,m.SP)();if((null==a?void 0:a.error)===!1&&(null==a?void 0:a.data)){var e,t;let r=s?new Date(s.year,s.month-1,s.date,12,0,0):new Date;u((0,tR.kz)(r,r.getDay(),null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.time_schedules)),h((0,tR.Hp)(r,r.getDay(),null==a?void 0:null===(t=a.data)||void 0===t?void 0:t.extra_slots))}}catch(e){console.error("Error fetching agent time schedules:",e)}},f=(0,t8.a)("(max-width: 768px)"),y=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between brandBg ".concat(f?"rounded-t-none":"rounded-t-2xl"," py-4 px-6"),children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(U.Pll,{className:"text-black"})}),(0,r.jsxs)("div",{className:"ml-2",children:[(0,r.jsx)("div",{className:"text-base text-start text-white font-bold capitalize",children:(0,tR.xh)(p)}),(0,r.jsx)("div",{className:"text-sm text-white/70 font-medium",children:(0,v.L0)(p,d)})]})]}),(0,r.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-white/10 rounded-xl hover:cursor-pointer",onClick:a,"aria-label":"Close",children:(0,r.jsx)(ey.QAE,{size:20,className:"text-white","aria-hidden":"true"})}),(0,r.jsxs)("span",{className:"sr-only",children:[d("viewAllSchedulesFor")," ",(0,tR.xh)(p)]})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[n&&(null==c?void 0:c.length)>0&&(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("div",{className:"border-l-4 primaryBorderColor pl-2 mb-4",children:(0,r.jsxs)("h2",{className:"text-base font-bold capitalize",children:[(0,tR.xh)(p)," ",d("schedule")]})}),(0,r.jsx)("div",{className:"flex flex-wrap gap-4 py-2",children:c.map(e=>(0,r.jsxs)("button",{className:"flex items-center gap-2 rounded-md newBorder p-2 cursor-pointer hover:bg-gray-50 w-[calc(50%-8px)] text-left","aria-label":"Select time slot ".concat(null==e?void 0:e.start_time," to ").concat(null==e?void 0:e.end_time),children:[(0,r.jsx)(ey.xps,{size:20,className:"leadColor"}),(0,r.jsxs)("span",{className:"font-medium text-sm brandColor",children:[(0,tR.Kf)(null==e?void 0:e.start_time)," - ",(0,tR.Kf)(null==e?void 0:e.end_time)]})]},null==e?void 0:e.id))})]}),!i&&(null==c?void 0:c.length)==0&&(null==x?void 0:x.length)==0&&(0,r.jsx)("hr",{className:"border-t newBorderColor my-2"}),i&&(null==x?void 0:x.length)>0&&(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("div",{className:"border-l-4 primaryBorderColor pl-2 mb-4",children:(0,r.jsx)("h2",{className:"text-base font-bold",children:d("dateScheduleForTimeSlots")})}),(0,r.jsx)("div",{className:"flex flex-wrap gap-4 py-2",children:x.map(e=>(0,r.jsxs)("button",{className:"flex items-center gap-2 rounded-md newBorder p-2 cursor-pointer hover:bg-gray-50 w-[calc(50%-8px)] text-left","aria-label":"Select time slot ".concat(null==e?void 0:e.start_time," to ").concat(null==e?void 0:e.end_time),children:[(0,r.jsx)(ey.xps,{size:20,className:"leadColor"}),(0,r.jsxs)("span",{className:"font-medium text-sm brandColor",children:[(0,tR.Kf)(null==e?void 0:e.start_time)," - ",(0,tR.Kf)(null==e?void 0:e.end_time)]})]},null==e?void 0:e.id))})]})]})]});return f?(0,r.jsx)(tT.yo,{open:t,onOpenChange:a,children:(0,r.jsx)(tT.ue,{side:"bottom",className:"h-[90vh] p-0 border-none [&>button]:hidden",children:(0,r.jsx)("div",{className:"flex flex-col h-full",children:(0,r.jsx)(y,{})})})}):(0,r.jsx)(eN.Vq,{open:t,onOpenChange:a,children:(0,r.jsx)(eN.cZ,{className:"sm:max-w-lg rounded-2xl [&>button]:hidden p-0 border-none max-h-[90vh]",children:(0,r.jsx)("div",{className:"flex flex-col h-full",children:(0,r.jsx)(y,{})})})})};let t9=()=>(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"newBorder rounded-2xl",children:[(0,r.jsx)("div",{className:"newBorderColor border-b p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(u.O,{className:"h-12 w-12 rounded-lg"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.O,{className:"h-5 w-40"}),(0,r.jsx)(u.O,{className:"h-4 w-72"})]})]})}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-[auto_1fr_auto] gap-4",children:[(0,r.jsx)("div",{className:"w-[180px]"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(u.O,{className:"h-5 w-20"}),(0,r.jsx)(u.O,{className:"h-5 w-24"})]}),(0,r.jsx)("div",{className:"w-12"})]}),(0,r.jsx)("div",{className:"space-y-6",children:Array.from({length:7},(e,t)=>(0,r.jsxs)("div",{className:"grid grid-cols-[auto_1fr_auto] items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 w-[180px]",children:[(0,r.jsx)(u.O,{className:"h-8 w-16 rounded-2xl"}),(0,r.jsx)(u.O,{className:"h-5 w-20"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(u.O,{className:"h-12 w-full"}),(0,r.jsx)(u.O,{className:"h-12 w-full"})]}),(0,r.jsx)(u.O,{className:"h-12 w-12"})]},t))})]})]}),(0,r.jsxs)("div",{className:"newBorder rounded-xl",children:[(0,r.jsxs)("div",{className:"primaryBackgroundBg newBorderColor border-b rounded-t-xl p-4",children:[(0,r.jsx)(u.O,{className:"h-5 w-32"}),(0,r.jsx)(u.O,{className:"h-4 w-96 mt-3"})]}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"grid grid-cols-1 gap-8",children:Array.from({length:6},(e,t)=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.O,{className:"h-4 w-32"}),(0,r.jsxs)("div",{className:"primaryBackgroundBg newBorder rounded-xl p-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)(u.O,{className:"h-5 w-5 rounded-full"}),(0,r.jsx)(u.O,{className:"h-4 w-40"})]}),(0,r.jsx)(u.O,{className:"h-10 w-full"})]})]},t))})})]})]})});var ae=e=>{let{loading:t=!1,onSave:a,preferencesData:s}=e,i=(0,o.m)(),[d,c]=(0,l.useState)(!1),[u,p]=(0,l.useState)(!0),[x,h]=(0,l.useState)([]),[g,f]=(0,l.useState)(!1),[v,y]=(0,l.useState)(null),j=null==s?void 0:s.meeting_duration_minutes,b=null==s?void 0:s.buffer_time_minutes,N=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],[w,_]=(0,l.useState)({Monday:{isEnabled:!0,timeSlots:[]},Tuesday:{isEnabled:!0,timeSlots:[]},Wednesday:{isEnabled:!0,timeSlots:[]},Thursday:{isEnabled:!0,timeSlots:[]},Friday:{isEnabled:!0,timeSlots:[]},Saturday:{isEnabled:!1,timeSlots:[]},Sunday:{isEnabled:!1,timeSlots:[]}}),[C,k]=(0,l.useState)([]),[S,B]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{try{p(!0);let a=await (0,m.SP)();if((null==a?void 0:a.error)===!1&&(null==a?void 0:a.data)){var e,t;let r=(null===(e=a.data)||void 0===e?void 0:e.time_schedules)||[],s=(0,tR.Uf)(r),l=N.reduce((e,t)=>{let a=s[t.toLowerCase()]||[];return e[t]={isEnabled:a.length>0,timeSlots:a},e},{});_(l),B(l);let i=R(null===(t=a.data)||void 0===t?void 0:t.extra_slots)||[];k(i)}}catch(e){console.error("Error loading schedule data:",e)}finally{p(!1)}})()},[j,b]),(0,l.useEffect)(()=>{if(j&&!u&&!S){let e=setTimeout(()=>{B(e=>e||N.reduce((e,t)=>(e[t]={isEnabled:"Saturday"!==t&&"Sunday"!==t,timeSlots:[]},e),{}))},0);return()=>clearTimeout(e)}},[j,u,S]);let A=(e,t)=>{_(a=>{let r=a[e],s={...r,isEnabled:t};if(!t&&r.isEnabled){let e=r.timeSlots.filter(e=>null!==e.id&&void 0!==e.id).map(e=>e.id);e.length>0&&h(t=>[...t,...e])}if(t&&0===s.timeSlots.length){let e=(0,tR.wK)("09:00"),t=j||60;s.timeSlots=[{id:null,start:"09:00",end:(0,tR.hS)(e+t)}]}return{...a,[e]:s}})},D=(e,t,a,r)=>{_(s=>{let l=[...s[e].timeSlots];return l[t]={...l[t],[a]:r},{...s,[e]:{...s[e],timeSlots:l}}})},P=e=>{_(t=>{let a=t[e].timeSlots,r="09:00";if(a.length>0&&b&&j){let e=[...a].sort((e,t)=>(0,tR.wK)(t.end)-(0,tR.wK)(e.end))[0],s=(0,tR.wK)(e.end)+b;if(!(s+j<1440))return V.ZP.error(i("cannotAddSlotWouldExceedDay")),t;r=(0,tR.hS)(s)}let s=(0,tR.wK)(r),l=s+j,n={start:r,end:(0,tR.hS)(l)};return a.some(e=>(0,tR.wK)(e.start)===s&&(0,tR.wK)(e.end)===l)?(V.ZP.error(i("slotAlreadyExists")),t):{...t,[e]:{...t[e],timeSlots:[...a,n]}}})},T=(e,t)=>{let a=w[e].timeSlots[t],r=null==a?void 0:a.id;null!=r&&h(e=>[...e,r]),_(a=>({...a,[e]:{...a[e],timeSlots:a[e].timeSlots.filter((e,a)=>a!==t),...1===a[e].timeSlots.length?{isEnabled:!1}:{}}}))},F=()=>{let e=[];return Object.entries(w).forEach(t=>{let[a,r]=t;if(r.isEnabled){0===r.timeSlots.length&&e.push("".concat(a," ").concat(i("isEnabledButNoTimeSlots")));let t=[...r.timeSlots].sort((e,t)=>(0,tR.wK)(e.start)-(0,tR.wK)(t.start));for(let r=0;r<t.length-1;r++)if((0,tR.wK)(t[r].end)>(0,tR.wK)(t[r+1].start)){e.push("".concat(a," ").concat(i("hasOverlappingTimeSlots")));break}r.timeSlots.forEach((t,r)=>{(0,tR.wK)(t.end)-(0,tR.wK)(t.start)<=0&&e.push("".concat(a," ").concat(i("has")," ").concat(r+1," ").concat(i("hasInvalidDuration")))})}}),e},I=async()=>{c(!0);try{let e=F();if(e.length>0){V.ZP.error("".concat(i("pleaseFixFollowingIssues"),"\n").concat(e.join("\n")));return}let t=[],r=0;Object.entries(w).forEach(e=>{let[a,s]=e;if(!s.isEnabled||0===s.timeSlots.length)return;let l=a.toLowerCase();[...s.timeSlots].sort((e,t)=>(0,tR.wK)(e.start)-(0,tR.wK)(t.start)).forEach(e=>{t.push({id:e.id||null,day:l,start_time:e.start,end_time:e.end,index:r++})})});let s=t.reduce((e,t)=>(e[t.index]={id:t.id||"",day:t.day,start_time:t.start_time,end_time:t.end_time},e),{}),l=await (0,m.lU)({schedule:s,deletedSlots:x});(null==l?void 0:l.error)===!1?(V.ZP.success(null==l?void 0:l.message),B(JSON.parse(JSON.stringify(w))),h([]),a&&await a("all-schedule")):(V.ZP.error(null==l?void 0:l.message),console.error("Error saving schedule:",l))}catch(e){V.ZP.error(i("errorOccurredWhileSavingSchedule")),console.error("Error saving schedule:",e)}finally{c(!1)}},E=e=>{y({date:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}),f(!0)},R=e=>{let t=new Map;return e.forEach(e=>{(null==e?void 0:e.date)&&(t.has(e.date)||t.set(e.date,[]),t.get(e.date).push(e))}),Array.from(t.entries()).sort((e,t)=>{let[a]=e,[r]=t;return a.localeCompare(r)}).map(e=>{let[t,a]=e,[r,s,l]=(t||"").split("-").map(Number),i=new Date(r,(s||1)-1,l||1),n=i.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),o=a.sort((e,t)=>{let a=e.start_time||"00:00:00",r=t.start_time||"00:00:00";return a.localeCompare(r)}),d=o[0],c=(d.start_time||"").slice(0,5),m=(d.end_time||"").slice(0,5),u=(0,tR.Kf)(c),p=(0,tR.Kf)(m);return{date:n,dateObj:i,timeSlot:"".concat(u," to ").concat(p),totalSlots:o.length,firstTimeSlot:"".concat(u," to ").concat(p)}})};return t||u?(0,r.jsx)(t9,{}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"newBorder rounded-lg sm:rounded-2xl",children:[(0,r.jsx)("div",{className:"newBorderColor border-b p-3 sm:p-6",children:(0,r.jsxs)("div",{className:"flex items-start sm:items-center gap-2 sm:gap-2.5",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-8 h-8 sm:w-12 sm:h-12 primaryCatBg rounded-lg shrink-0",children:(0,r.jsx)(ep.dzk,{className:"w-4 h-4 sm:w-6 sm:h-6 brandColor"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"text-sm sm:text-base font-bold brandColor truncate",children:i("setBusinessHours")}),(0,r.jsx)("p",{className:"text-xs sm:text-sm font-medium brandColor leading-tight mt-0.5 sm:mt-1",children:i("specifyYourOperatingHours")}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-4 mt-1.5 sm:mt-2 text-[10px] sm:text-xs font-medium opacity-75",children:[(0,r.jsxs)("span",{className:"brandColor whitespace-nowrap",children:[i("meetingDuration"),": ",j," ",i("min")]}),(0,r.jsxs)("span",{className:"brandColor whitespace-nowrap",children:[i("bufferTime"),": ",b," ",i("min")]})]})]})]})}),(0,r.jsxs)("div",{className:"flex flex-col xl:flex-row gap-4 sm:gap-6 xl:gap-4 p-3 sm:p-6",children:[(0,r.jsxs)("div",{className:"w-full xl:w-3/5",children:[(0,r.jsxs)("div",{className:"hidden md:grid grid-cols-[auto_1fr_auto] gap-2 sm:gap-4 mb-4 sm:mb-6 ",children:[(0,r.jsx)("div",{className:"w-[140px] sm:w-[180px]"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 lg:gap-10",children:[(0,r.jsx)("span",{className:"text-xs sm:text-base font-bold leadColor text-center",children:i("openHour")}),(0,r.jsx)("span",{className:"text-xs sm:text-base font-bold leadColor text-center",children:i("closedHour")})]}),(0,r.jsx)("div",{className:"w-8 sm:w-12"})]}),(0,r.jsx)("div",{className:"space-y-4 sm:space-y-6",children:N.map(e=>(0,r.jsx)(t5,{day:e,schedule:w[e],onToggle:A,onTimeSlotChange:(t,a,r)=>D(e,t,a,r),onAddTimeSlot:()=>P(e),onRemoveTimeSlot:t=>T(e,t)},e))})]}),(null==C?void 0:C.length)>0&&(0,r.jsx)("div",{className:"hidden xl:block w-px bg-gray-200 mx-2"}),(null==C?void 0:C.length)>0&&(0,r.jsx)("div",{className:"w-full xl:w-2/5 mt-4 sm:mt-6 xl:mt-0",children:(0,r.jsxs)("div",{className:"newBorder rounded-lg sm:rounded-xl",children:[(0,r.jsxs)("div",{className:"primaryBackgroundBg newBorderColor border-b rounded-t-lg sm:rounded-t-xl p-3 sm:p-4",children:[(0,r.jsx)("h3",{className:"text-sm sm:text-base font-bold brandColor",children:i("dateSchedule")}),(0,r.jsx)("p",{className:"text-[10px] sm:text-sm font-medium brandColor mt-1.5 sm:mt-3 leading-tight",children:i("viewAllYourAppointmentsDesc")})]}),(0,r.jsx)("div",{className:"p-3 sm:p-6 overflow-y-auto max-h-[400px] sm:max-h-[700px]",children:(0,r.jsx)("div",{className:"space-y-3 sm:space-y-6",children:C.map((e,t)=>(0,r.jsx)(t6,{date:e.date,timeSlot:e.timeSlot,firstTimeSlot:e.firstTimeSlot,totalSlots:e.totalSlots,onViewSchedule:()=>E(e.dateObj)},t))})})]})})]})]}),(0,r.jsx)("div",{className:"flex justify-center sm:justify-end px-4 sm:px-0",children:(0,r.jsx)(n.z,{onClick:I,disabled:d||!(()=>{if(x.length>0)return!0;if(!S)return!1;for(let e of N){let t=w[e],a=S[e];if(t.isEnabled!==a.isEnabled||t.timeSlots.some(e=>null===e.id||void 0===e.id)||t.timeSlots.length!==a.timeSlots.length)return!0;for(let e=0;e<t.timeSlots.length;e++){let r=t.timeSlots[e],s=a.timeSlots[e];if(!s||r.id===s.id&&(r.start!==s.start||r.end!==s.end))return!0}}return!1})(),className:"w-full sm:w-auto primaryBg primaryTextColor hover:bg-opacity-90 px-6 sm:px-8 py-2.5 sm:py-3 text-sm sm:text-base font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:d?i("saving"):i("saveChanges")})}),(0,r.jsx)(t7,{isOpen:g,onClose:()=>f(!1),viewAllDate:v,showDefaultTimeSchedules:!1,showExtraTimeSlots:!0})]})},at=e=>{let{currentMonth:t,currentYear:a,onPreviousMonth:s,onNextMonth:l}=e,i=(0,o.m)(),n=[i("january"),i("february"),i("march"),i("april"),i("may"),i("june"),i("july"),i("august"),i("september"),i("october"),i("november"),i("december")];return(0,r.jsxs)("div",{className:"flex items-center justify-between gap-6 mb-6",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("h2",{className:"text-xl font-bold brandColor",children:[n[t]," ",a]})}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{onClick:s,className:"flex items-center justify-center p-3 rounded-lg border brandBorder hover:bg-gray-50 transition-colors","aria-label":"Previous month",children:(0,r.jsx)(O.pjk,{className:"w-4 h-4 md:w-6 md:h-6 brandColor"})}),(0,r.jsx)("button",{onClick:l,className:"flex items-center justify-center p-3 rounded-lg border brandBorder hover:bg-gray-50 transition-colors","aria-label":"Next month",children:(0,r.jsx)(O.fmn,{className:"w-4 h-4 md:w-6 md:h-6 brandColor"})})]})]})},aa=()=>{let e=(0,o.m)(),t=[{key:"mon",label:e("mon")},{key:"tue",label:e("tue")},{key:"wed",label:e("wed")},{key:"thu",label:e("thu")},{key:"fri",label:e("fri")},{key:"sat",label:e("sat")},{key:"sun",label:e("sun")}];return(0,r.jsx)("div",{className:"grid grid-cols-7",children:t.map(e=>(0,r.jsx)("div",{className:"flex justify-center items-center p-3 border newBorder primaryBackgroundBg",children:(0,r.jsx)("span",{className:"text-base font-bold leadColor",children:e.label})},e.key))})},ar=e=>{let{date:t,dateObj:a,dateData:s,isDisabled:l=!1,hasContent:i=!1,weekSchedules:n=[],dateSchedule:d=null,extraTimeSlots:c=[],onEditSchedule:m,onViewAllSchedules:u,onSelectSchedule:p,className:x=""}=e,h=(0,o.m)(),g=(0,tR.gU)(a),f=(0,tR.j_)(c,g),v=(0,tR.pU)(c,g),y=(0,tR.b1)(f),j=(e,t)=>{null==e||e.stopPropagation(),null==m||m(t)},b=(e,t)=>{null==e||e.stopPropagation(),null==u||u(t)};return(0,r.jsxs)("div",{className:"relative flex flex-col w-full newBorder overflow-visible\n                ".concat(l?"primaryBackgroundBg":"cardBg","\n                md:h-[223px] h-[70px] transition-all duration-300\n            "),onClick:e=>{!l&&(i||v)&&(window.innerWidth<=768&&e.target.closest("button")||b(e,s.date))},children:[(0,r.jsxs)("div",{className:"hidden md:flex flex-col h-full w-full",children:[(0,r.jsx)("div",{className:"absolute top-0 w-full h-1 primaryBg"}),(0,r.jsxs)("div",{className:"p-3 border-b newBorderColor flex justify-between items-center",children:[(0,r.jsx)("span",{children:t}),!l&&(0,r.jsxs)("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg p-1.5 primaryBackgroundBg group relative",onClick:e=>j(e,t,s.month,s.year),"aria-label":h(v?"editExtraSlots":"addExtraSlots"),children:[v?(0,r.jsx)(eS.vpV,{className:"brandColor","aria-hidden":"true"}):(0,r.jsx)(er.OvN,{className:"brandColor","aria-hidden":"true"}),(0,r.jsx)("span",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 whitespace-nowrap text-xs bg-black/75 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-50",children:h(v?"editExtraSlots":"addExtraSlots")})]})]}),(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-between gap-2 p-3 mt-2",children:[!l&&(null==n?void 0:n.slice(0,2).map(e=>(0,r.jsx)("div",{className:"",children:(0,r.jsx)("span",{className:"text-sm font-medium line-clamp-1",children:e.time})},e.id))),!l&&(null==n?void 0:n.length)<2&&(0,r.jsx)("div",{className:"h-[52px]"}),!l&&n.length>2&&(0,r.jsxs)("button",{className:"text-sm flex justify-center items-center",onClick:e=>b(e,s.date),children:[(0,r.jsx)(er.OvN,{className:"mr-1 primaryColor"}),(0,r.jsx)("span",{className:"text-sm primaryColor text-wrap 2xl:text-nowrap",children:h("viewAllSchedules")})]})]}),(0,r.jsxs)("div",{className:"flex flex-col mt-auto",children:[!l&&v&&(0,r.jsx)("div",{className:"h-px newBorder"}),!l&&v&&(0,r.jsx)("div",{className:"p-2",children:(0,r.jsxs)("div",{className:"brandBg p-1 rounded-sm gap-1 xl:gap-2 flex justify-center items-center",children:[(0,r.jsx)(U.Pll,{className:"text-white shrink-0"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-white line-clamp-1",children:v?y:""})]})})]})]})]}),(0,r.jsxs)("div",{className:"md:hidden flex items-center justify-center h-full w-full relative",children:[(0,r.jsx)("span",{className:"text-lg font-medium ".concat(l?"text-gray-400":"text-gray-900"),children:t}),(i||v)&&!l&&(0,r.jsx)("div",{className:"absolute -bottom-0.5 left-1/2 -translate-x-1/2 w-6 h-[3px] primaryBg rounded-full z-10"}),!l&&(0,r.jsxs)("button",{className:"absolute top-2 right-2 w-5 h-5 flex items-center justify-center group",onClick:e=>{e.stopPropagation(),j(e,t,s.month,s.year)},"aria-label":h(v?"editExtraSlots":"addExtraSlots"),children:[v?(0,r.jsx)(eS.vpV,{className:"w-3.5 h-3.5 brandColor","aria-hidden":"true"}):(0,r.jsx)(er.OvN,{className:"w-3.5 h-3.5 brandColor","aria-hidden":"true"}),(0,r.jsx)("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 whitespace-nowrap text-[10px] bg-black/75 text-white px-1.5 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity z-50",children:h(v?"editExtraSlots":"addExtraSlots")})]})]})]})},as=e=>{let{calendarDates:t=[],selectedDate:a,onEditSchedule:s,onViewAllSchedules:l,extraTimeSlots:i=[]}=e;return(0,r.jsx)("div",{className:"grid grid-cols-7",children:t.map((e,t)=>(0,r.jsx)(ar,{dateData:e,dateObj:e.dateObj,date:e.date,isDisabled:e.isDisabled,dateSchedule:e.dateSchedule,extraTimeSlots:i,hasContent:e.hasContent,weekSchedules:e.weekSchedules,onEditSchedule:s,onViewAllSchedules:l,isSelected:a&&e.date.toDateString()===a.toDateString()},t))})},al=e=>{let{currentDate:t,scheduleData:a={},extraTimeSlots:s=[],onDateClick:i,onEditSchedule:n,onViewAllSchedules:d,className:c="",handleNextMonth:m,handlePreviousMonth:u}=e,[p,x]=(0,l.useState)(null),h=(0,o.m)(),g=t.getMonth(),f=t.getFullYear(),v=(0,l.useMemo)(()=>{let e=new Date,t=e.getDate(),r=e.getMonth(),s=e.getFullYear(),l=new Date(f,g,1),i=new Date(f,g+1,0),n=l.getDay(),o=i.getDate(),d=[],c=new Date(f,g-1,0),m=c.getDate();for(let e=(0===n?6:n-1)-1;e>=0;e--){let t=m-e,a={year:c.getFullYear(),month:c.getMonth()+1,date:t};"".concat(f,"-").concat(String(g).padStart(2,"0"),"-").concat(String(t).padStart(2,"0")),d.push({date:t,dateObj:a,isDisabled:!0,hasContent:!1,weekSchedules:[],dateSchedule:null})}for(let e=1;e<=o;e++){let l=a["".concat(f,"-").concat(String(g+1).padStart(2,"0"),"-").concat(String(e).padStart(2,"0"))]||{},i={year:f,month:g+1,date:e},n=f<s||f===s&&g<r||f===s&&g===r&&e<t||l.isDisabled;d.push({date:e,dateObj:i,isDisabled:n,hasContent:l.hasContent||!1,weekSchedules:l.weekSchedules||[],dateSchedule:l.dateSchedule||null})}let u=42-d.length;for(let e=1;e<=u;e++){let t={year:new Date(f,g+1,e).getFullYear(),month:new Date(f,g+1,e).getMonth()+1,date:e};d.push({date:e,dateObj:t,isDisabled:!0,hasContent:!1,weekSchedules:[],dateSchedule:null})}return d},[g,f,a]);return(0,r.jsx)("div",{className:"cardBg rounded-lg ".concat(c),children:(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)(at,{currentMonth:g,currentYear:f,onPreviousMonth:u,onNextMonth:m}),(0,r.jsxs)("div",{className:"space-y-0",children:[(0,r.jsx)("div",{className:"hidden md:block",children:(0,r.jsx)(aa,{})}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-0 text-center py-2 text-sm font-medium md:hidden",children:[h("mon").charAt(0),h("tue").charAt(0),h("wed").charAt(0),h("thu").charAt(0),h("fri").charAt(0),h("sat").charAt(0),h("sun").charAt(0)].map((e,t)=>(0,r.jsx)("div",{className:"text-gray-500",children:e},t))}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(as,{calendarDates:v,selectedDate:p,onDateClick:e=>{let t=v.find(t=>t.dateObj.year===e.year&&t.dateObj.month===e.month&&t.dateObj.date===e.date);t&&!t.isDisabled&&(x(e),i&&i(e.date,e.month-1,e.year))},onEditSchedule:e=>{n&&n(e,g+1,f)},onViewAllSchedules:e=>{d&&d(e,g+1,f)},extraTimeSlots:s,hasDateContent:e=>{var t;return(null===(t=a["".concat(e.year,"-").concat(String(e.month).padStart(2,"0"),"-").concat(String(e.date).padStart(2,"0"))])||void 0===t?void 0:t.hasContent)||s.some(t=>{let a=new Date(t.date);return a.getDate()===e.date&&a.getMonth()+1===e.month&&a.getFullYear()===e.year})},className:"grid grid-cols-7 gap-0 text-center"})})]})]})})},ai=e=>{let{isOpen:t,onClose:a,date:s,timeSlots:i=[],onRemoveTimeSlot:n,removeSlotIds:d,setRemoveSlotIds:c,onSave:m,onCancel:u,preferencesData:p={},scheduleData:x={}}=e,h=(0,o.m)(),g=()=>{if(!s||!i)return[];let e=s.getFullYear(),t=String(s.getMonth()+1).padStart(2,"0"),a=String(s.getDate()).padStart(2,"0"),r="".concat(e,"-").concat(t,"-").concat(a);return(0,tR.j_)(i,r)},[f,y]=(0,l.useState)(g()),j=p.meeting_duration_minutes,N=p.buffer_time_minutes,[w,_]=(0,l.useState)(!1);(0,l.useEffect)(()=>{y(g())},[s,i]);let C=()=>{y(e=>{let t=Array.isArray(e)?e:[],a="09:00";if(t.length>0&&N&&j){let e=[...t].sort((e,t)=>{let a=(0,tR.wK)(e.end_time||e.end||e.endTime);return(0,tR.wK)(t.end_time||t.end||t.endTime)-a})[0],r=(0,tR.wK)(e.end_time||e.end||e.endTime)+N;r+j<1440?a=(0,tR.hS)(r):V.ZP.error(h("cannotAddSlotWouldExceedDay"))}let r=(0,tR.wK)(a)+j,s=r>=1440?(0,tR.wK)("18:00"):r,l=(0,tR.hS)(s);return[...e,{id:"new-".concat(Date.now()),start_time:a,end_time:l,start:a,end:l,startTime:a,endTime:l}]})},k=e=>!e.id||e.id.toString().startsWith("new-"),S=(e,t,a)=>{if(a)try{let r=a.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)$/i);if(!r){console.warn("Invalid time format received from TimePicker:",a);return}let[,s,l,i]=r,n=parseInt(s);"PM"===i.toUpperCase()&&12!==n?n+=12:"AM"===i.toUpperCase()&&12===n&&(n=0);let o="".concat(n.toString().padStart(2,"0"),":").concat(l),d=(0,tR.wK)(o);if(D(a,e)){V.ZP.error(h("timeSlotNotAvailable"));return}y(a=>a.map((a,r)=>{let s,l;if(r!==e)return a;let i=(0,tR.wK)(a.start_time||a.start||a.startTime),n=(0,tR.wK)(a.end_time||a.end||a.endTime);if("start"===t){s=o;let e=n-i,t=d+(e>0?e:j||60);if(t>=1440)return V.ZP.error(h("cannotScheduleBeyondEndOfDay")),a;l=(0,tR.hS)(t)}else if("end"===t&&(l=o,s=a.start_time||a.start||a.startTime,d<=i))return V.ZP.error(h("endTimeMustBeAfterStartTime")||"End time must be after start time"),a;return{...a,start_time:s,end_time:l,start:s,end:l,startTime:s,endTime:l}}))}catch(e){console.error("Error handling time change:",e),V.ZP.error("Error updating time slot. Please try again.")}},B=e=>{if(f.length<=1&&e&&!e.toString().startsWith("new-")){_(!0),c(t=>[...t,e]);return}y(t=>t.filter(t=>t.id!==e)),e&&c(t=>[...t,e])},A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[];return f.filter((t,a)=>a!==e).forEach(e=>{let a=e.start_time||e.start||e.startTime,r=e.end_time||e.end||e.endTime,s=(0,tR.wK)(a),l=(0,tR.wK)(r),i=Math.max(0,s-(N||0)),n=Math.min(1440,l+(N||0));t.push({start:(0,tR.hS)(i),end:(0,tR.hS)(n)})}),t},D=(e,t)=>{var a;let r=e.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)$/i);if(!r)return!1;let[,l,i,n]=r,o=parseInt(l);"PM"===n.toUpperCase()&&12!==o?o+=12:"AM"===n.toUpperCase()&&12===o&&(o=0);let d="".concat(o.toString().padStart(2,"0"),":").concat(i),c=(0,tR.wK)(d),m=A(t),u=s.getFullYear(),p=String(s.getMonth()+1).padStart(2,"0"),h=String(s.getDate()).padStart(2,"0"),g=((null===(a=x["".concat(u,"-").concat(p,"-").concat(h)])||void 0===a?void 0:a.weekSchedules)||[]).some(e=>{let t=(0,tR.wK)(e.startTime),a=(0,tR.wK)(e.endTime),r=t-(N||0),s=a+(N||0);return c>=r&&c<=s}),f=m.some(e=>{let t=(0,tR.wK)(e.start),a=(0,tR.wK)(e.end);return c>=t&&c<=a});return g||f},P=(e,t,a,r)=>{let s=N||0;return a>=t?a-t<s:e>=r?e-r<s:e<r&&t>a},T=e=>{let t=[],a=[...e].sort((e,t)=>(0,tR.wK)(e.start_time||e.start||e.startTime)-(0,tR.wK)(t.start_time||t.start||t.startTime));return a.forEach((e,r)=>{var l;let i=e.start_time||e.start||e.startTime,n=e.end_time||e.end||e.endTime,o=(0,tR.wK)(i),d=(0,tR.wK)(n);if(d<=o){t.push("".concat(h("slot")," ").concat(r+1,": ").concat(h("endTimeMustBeAfterStartTime")));return}if(d-o<(j||15)){t.push("".concat(h("slot")," ").concat(r+1,": ").concat(h("durationMustBeAtLeast15Minutes")));return}let c=s.getFullYear(),m=String(s.getMonth()+1).padStart(2,"0"),u=String(s.getDate()).padStart(2,"0");if(((null===(l=x["".concat(c,"-").concat(m,"-").concat(u)])||void 0===l?void 0:l.weekSchedules)||[]).some(e=>P(o,d,(0,tR.wK)(e.startTime),(0,tR.wK)(e.endTime)))){t.push("".concat(h("slot")," ").concat(r+1,": ").concat(h("timeSlotConflictsWithWeeklySchedule")));return}a.filter((e,t)=>t!==r).some(e=>P(o,d,(0,tR.wK)(e.start_time||e.start||e.startTime),(0,tR.wK)(e.end_time||e.end||e.endTime)))&&t.push("".concat(h("slot")," ").concat(r+1,": ").concat(h("timeSlotConflictsWithExisting")))}),t},F=e=>e.map(e=>{let t=e.start_time||e.start||e.startTime,a=e.end_time||e.end||e.endTime;return{...e,start_time:t,end_time:a,timeRange:"".concat((0,tR.Kf)(t)," to ").concat((0,tR.Kf)(a)),start:t,end:a,startTime:t,endTime:a}}),I=async()=>{try{let e=T(f);if(e.length>0){V.ZP.error("".concat(h("pleaseFixFollowingIssues"),":\n").concat(e.join("\n")));return}let t=F(f);await (null==m?void 0:m(t,s))&&(_(!1),null==a||a())}catch(e){console.error("Error saving time slots:",e)}},E=()=>{y(g()),null==u||u(),null==a||a()};return(0,t8.a)("(max-width: 768px)")?(0,r.jsx)(tT.yo,{open:t,onOpenChange:a,children:(0,r.jsx)(tT.ue,{side:"bottom",className:"h-[90vh] p-0 gap-0 [&>button]:hidden",children:(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between w-full px-4 py-4 border-b newBorderColor shrink-0",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-2",children:[(0,r.jsx)("span",{className:"text-base font-bold brandColor",children:h("addATimeSlot")}),(0,r.jsx)("span",{className:"text-base font-bold brandColor md:block hidden",children:"-"}),(0,r.jsx)("span",{className:"text-base font-bold brandColor",children:(0,v.L0)(null==s?void 0:s.toString(),h)})]}),(0,r.jsx)("div",{className:"flex items-center justify-center w-10 h-10 primaryBackgroundBg rounded-xl hover:cursor-pointer",onClick:a,"aria-label":"Close",children:(0,r.jsx)(ey.QAE,{size:16,className:"text-black","aria-hidden":"true"})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,r.jsx)("div",{className:"p-4",children:0===f.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 p-4 primaryBackgroundBg rounded-2xl newBorder",children:[(0,r.jsx)("p",{className:"text-sm leadColor text-center",children:h("noTimeSlotsAvailable")}),(0,r.jsxs)("button",{onClick:C,className:"flex items-center gap-1 px-3 py-2 primaryBg text-white rounded-lg hover:opacity-90 transition-opacity","aria-label":"Add time slot",children:[(0,r.jsx)(b.OrI,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"text-base font-medium",children:h("addSlot")})]})]}):(0,r.jsx)("div",{className:"flex flex-col gap-4",children:(0,r.jsx)("div",{className:"flex flex-col gap-4",children:f.map((e,t)=>(0,r.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,r.jsx)("div",{className:"flex items-center gap-1",children:0===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ey.xps,{className:"w-5 h-5 brandColor"}),(0,r.jsxs)("span",{className:"text-sm font-bold brandColor",children:[h("time"),":"]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 w-full",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("span",{className:"text-xs font-medium leadColor",children:h("openHour")}),k(e)?(0,r.jsx)(t0,{value:(0,tR.Kf)(e.start_time||e.start),onChange:e=>S(t,"start",e),className:"h-10 w-full [&>button]:h-full [&>button]:primaryBackgroundBg [&>button]:newBorderColor [&>button]:border-[1.5px] [&>button]:rounded-lg",placeholder:"Select start time",format12Hour:!0,"aria-label":"Select start time",disabledTimes:e=>D(e,t),minTime:"00:00",maxTime:"23:59"}):(0,r.jsx)("div",{className:"h-10 w-full primaryBackgroundBg newBorderColor border-[1.5px] rounded-lg px-3 text-xs flex items-center bg-gray-50",children:(0,r.jsx)("span",{className:"text-gray-700 font-medium",children:(0,tR.Kf)(e.start_time||e.start)})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("span",{className:"text-xs font-medium leadColor",children:h("closedHour")}),k(e)?(0,r.jsx)(t0,{value:(0,tR.Kf)(e.end_time||e.end),onChange:e=>S(t,"end",e),className:"h-10 w-full [&>button]:h-full [&>button]:primaryBackgroundBg [&>button]:newBorderColor [&>button]:border-[1.5px] [&>button]:rounded-lg",placeholder:"Select end time",format12Hour:!0,"aria-label":"Select end time",disabledTimes:e=>D(e,t),minTime:e.start_time||e.start,maxTime:"23:59"}):(0,r.jsx)("div",{className:"h-10 w-full primaryBackgroundBg newBorderColor border-[1.5px] rounded-lg px-3 text-xs flex items-center bg-gray-50",children:(0,r.jsx)("span",{className:"text-gray-700 font-medium",children:(0,tR.Kf)(e.end_time||e.end)})})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 w-full",children:[w&&!e.id.toString().startsWith("new-")?(0,r.jsx)("button",{children:(0,r.jsx)(ey.w6s,{className:"w-5 h-5 primaryColor"})}):(0,r.jsx)("button",{onClick:()=>B(e.id),className:"w-8 h-8 flex items-center justify-center rounded-lg redBgLight12","aria-label":"Remove time slot",children:(0,r.jsx)(U.iFH,{className:"w-3 h-3 redColor"})}),(0,r.jsx)("button",{onClick:C,className:"w-8 h-8 flex items-center justify-center rounded-lg primaryBgLight12","aria-label":"Add time slot",children:(0,r.jsx)(U.wEH,{className:"w-3 h-3 primaryColor"})})]})]},e.id))})})})}),f.length>0&&(0,r.jsxs)("div",{className:"flex items-center justify-center gap-3 px-4 py-4 border-t newBorderColor mt-auto shrink-0",children:[(0,r.jsx)("button",{onClick:I,className:"flex items-center justify-center gap-1 px-3 py-2 flex-1 primaryBg text-white rounded-lg hover:opacity-90 transition-opacity",children:(0,r.jsx)("span",{className:"text-sm font-medium",children:h("save")})}),(0,r.jsx)("button",{onClick:E,className:"flex items-center justify-center gap-1 px-3 py-2 flex-1 bg-transparent border brandBorder rounded-lg hover:bg-gray-50 transition-colors",children:(0,r.jsx)("span",{className:"text-sm font-medium brandColor",children:h("cancel")})})]})]}),{})})}):(0,r.jsx)(eN.Vq,{open:t,onOpenChange:a,children:(0,r.jsx)(eN.cZ,{className:"p-0 gap-0 overflow-visible [&>button]:hidden max-w-xl",children:(0,r.jsx)(()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eN.fK,{className:"flex items-center justify-between px-6 py-4 border-b newBorderColor w-full",children:(0,r.jsxs)(eN.$N,{className:"flex items-center justify-between w-full text-xl font-bold brandColor",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:h("addATimeSlot")}),(0,r.jsx)("span",{children:"-"}),(0,r.jsx)("span",{children:(0,v.L0)(null==s?void 0:s.toString(),h)})]}),(0,r.jsx)("div",{className:"flex items-center justify-center w-12 h-12 primaryBackgroundBg rounded-xl hover:cursor-pointer",onClick:a,"aria-label":"Close",children:(0,r.jsx)(ey.QAE,{size:20,className:"text-black","aria-hidden":"true"})})]})}),(0,r.jsx)("div",{className:"p-4 overflow-visible max-h-[calc(90vh-200px)]",children:0===f.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 p-4 primaryBackgroundBg rounded-2xl newBorder",children:[(0,r.jsx)("p",{className:"text-sm leadColor text-center",children:h("noTimeSlotsAvailable")}),(0,r.jsxs)("button",{onClick:C,className:"flex items-center gap-1 px-3 py-2 primaryBg text-white rounded-lg hover:opacity-90 transition-opacity","aria-label":"Add time slot",children:[(0,r.jsx)(b.OrI,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"text-base font-medium",children:h("addSlot")})]})]}):(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-[100px_1fr_1fr_100px] items-center gap-4",children:[(0,r.jsx)("div",{}),(0,r.jsx)("h3",{className:"text-base font-bold leadColor text-center",children:h("openHour")}),(0,r.jsx)("h3",{className:"text-base font-bold leadColor text-center",children:h("closedHour")}),(0,r.jsx)("div",{})]}),(0,r.jsx)("div",{className:"flex flex-col gap-6",children:f.map((e,t)=>(0,r.jsxs)("div",{className:"grid grid-cols-[100px_1fr_1fr_100px] items-center gap-4",children:[(0,r.jsx)("div",{className:"flex items-center gap-1",children:0===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ey.xps,{className:"w-6 h-6 brandColor"}),(0,r.jsxs)("span",{className:"text-base font-bold brandColor",children:[h("time"),":"]})]})}),(0,r.jsx)("div",{children:k(e)?(0,r.jsx)(t0,{value:(0,tR.Kf)(e.start_time||e.start),onChange:e=>S(t,"start",e),className:"h-12 w-full [&>button]:h-full [&>button]:primaryBackgroundBg [&>button]:newBorderColor [&>button]:border-[1.5px] [&>button]:rounded-lg",placeholder:"Select start time",format12Hour:!0,"aria-label":"Select start time",disabledTimes:e=>D(e,t),minTime:"00:00",maxTime:"23:59"}):(0,r.jsx)("div",{className:"h-12 w-full primaryBackgroundBg newBorderColor border-[1.5px] rounded-lg px-4 text-sm flex items-center bg-gray-50",children:(0,r.jsx)("span",{className:"text-gray-700 font-medium",children:(0,tR.Kf)(e.start_time||e.start)})})}),(0,r.jsx)("div",{children:k(e)?(0,r.jsx)(t0,{value:(0,tR.Kf)(e.end_time||e.end),onChange:e=>S(t,"end",e),className:"h-12 w-full [&>button]:h-full [&>button]:primaryBackgroundBg [&>button]:newBorderColor [&>button]:border-[1.5px] [&>button]:rounded-lg",placeholder:"Select end time",format12Hour:!0,"aria-label":"Select end time",disabledTimes:e=>D(e,t),minTime:e.start_time||e.start,maxTime:"23:59"}):(0,r.jsx)("div",{className:"h-12 w-full primaryBackgroundBg newBorderColor border-[1.5px] rounded-lg px-4 text-sm flex items-center bg-gray-50",children:(0,r.jsx)("span",{className:"text-gray-700 font-medium",children:(0,tR.Kf)(e.end_time||e.end)})})}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[w&&!e.id.toString().startsWith("new-")?(0,r.jsx)("button",{children:(0,r.jsx)(ey.w6s,{className:"w-6 h-6 primaryColor"})}):(0,r.jsx)("button",{onClick:()=>B(e.id),className:"w-9 h-9 flex items-center justify-center rounded-lg redBgLight12","aria-label":"Remove time slot",children:(0,r.jsx)(U.iFH,{className:"w-3.5 h-3.5 redColor"})}),(0,r.jsx)("button",{onClick:C,className:"w-9 h-9 flex items-center justify-center rounded-lg primaryBgLight12","aria-label":"Add time slot",children:(0,r.jsx)(U.wEH,{className:"w-3.5 h-3.5 primaryColor"})})]})]},e.id))})]})}),f.length>0&&(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4 px-6 py-4 border-t newBorderColor",children:[(0,r.jsx)("button",{onClick:I,className:"flex items-center justify-center gap-1 px-3 py-2 w-[181px] primaryBg text-white rounded-lg hover:opacity-90 transition-opacity",children:(0,r.jsx)("span",{className:"text-base font-medium",children:h("save")})}),(0,r.jsx)("button",{onClick:E,className:"flex items-center justify-center gap-1 px-3 py-2 w-[181px] bg-transparent border brandBorder rounded-lg hover:bg-gray-50 transition-colors",children:(0,r.jsx)("span",{className:"text-base font-medium brandColor",children:h("cancel")})})]})]}),{})})})};let an=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a={};if(!Array.isArray(e))return console.warn("Expected array format for schedule data"),a;let r={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6},s=t.getFullYear(),l=t.getMonth(),i={};e.forEach(e=>{let t=e.day_of_week.toLowerCase();i[t]||(i[t]=[]),i[t].push(e)});let n=new Date(s,l+1,0).getDate();for(let e=1;e<=n;e++){let t=new Date(s,l,e).getDay(),n=Object.keys(r).find(e=>r[e]===t),o=String(l+1).padStart(2,"0"),d=String(e).padStart(2,"0"),c="".concat(s,"-").concat(o,"-").concat(d);if(i[n]&&i[n].length>0){let t=i[n].filter(e=>1===e.is_active),r=t.length>0,o=new Map;t.forEach(e=>{let t="".concat(e.start_time,"-").concat(e.end_time);if(!o.has(t)){let[a,r]=e.start_time.split(":"),[s,l]=e.end_time.split(":"),i=new Date(0,0,0,a,r).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),n=new Date(0,0,0,s,l).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});o.set(t,{id:e.id,time:"".concat(i," to ").concat(n),type:"appointment",count:e.appointment_count||0,agentId:e.agent_id,isActive:e.is_active,startTime:e.start_time,endTime:e.end_time,dayOfWeek:e.day_of_week})}});let d=Array.from(o.values());a[c]={hasContent:r,isDisabled:!r,weekSchedules:r?d:[],dateSchedule:{date:e,month:l,year:s}}}}return a};var ao=e=>{let{preferencesData:t}=e,a=(0,o.m)(),s=(0,N.v9)(e=>{var t;return null===(t=e.User)||void 0===t?void 0:t.data}),[i,n]=(0,l.useState)(new Date),d=i.getMonth(),c=i.getFullYear(),[u,p]=(0,l.useState)({}),[x,h]=(0,l.useState)(!1),[g,f]=(0,l.useState)(null),[v,y]=(0,l.useState)(!1),[j,b]=(0,l.useState)(null),[w,_]=(0,l.useState)([]),[C,k]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{try{let a=await (0,m.SP)();if(null==a?void 0:a.data){var e,t;let r=an(null===(e=a.data)||void 0===e?void 0:e.time_schedules,i);p(r),_(null===(t=a.data)||void 0===t?void 0:t.extra_slots)}else console.warn("No schedule data received from API"),p({})}catch(e){console.error("Error fetching schedules:",e),p({})}})()},[d,c,null==s?void 0:s.id]);let S=async(e,t)=>{var r,s,l;try{let l="".concat(null==t?void 0:t.getFullYear(),"-").concat(String((null==t?void 0:t.getMonth())+1).padStart(2,"0"),"-").concat(String(null==t?void 0:t.getDate()).padStart(2,"0")),n="add",o=C.filter(e=>e&&!e.toString().startsWith("new-"));if(o.length>0){n="delete";let e=await (0,m.xi)({removeExtraTimeSlotIds:o});if((null==e?void 0:e.error)===!0)throw Error((null==e?void 0:e.message)||a("errorDeletingTimeSlots"));k([])}let d=e.filter(e=>!C.includes(e.id));if(d.length>0){let e=d.map(e=>{var t,a;let r=!e.id||e.id.toString().startsWith("new-");return{start_time:null===(t=e.start_time||e.startTime)||void 0===t?void 0:t.slice(0,5),end_time:null===(a=e.end_time||e.endTime)||void 0===a?void 0:a.slice(0,5),reason:e.reason||"",...r?{}:{id:e.id}}});n=o.length>0?"both":"add";let t=await (0,m.LJ)({extraTimeSlots:e,date:l});if((null==t?void 0:t.error)===!0)throw Error((null==t?void 0:t.message)||a("errorAddingTimeSlots"))}let c=await (0,m.SP)();if(null==c?void 0:c.data){let e=an(null===(r=c.data)||void 0===r?void 0:r.time_schedules,i);return p(e),_(null===(s=c.data)||void 0===s?void 0:s.extra_slots),"delete"===n?V.ZP.success(a("timeSlotDeletedSuccessfully")):"add"===n?V.ZP.success(a("timeSlotsAddedSuccessfully")):"both"===n&&V.ZP.success(a("timeSlotUpdatedSuccessfully")),!0}return!1}catch(e){return(null==e?void 0:null===(l=e.message)||void 0===l?void 0:l.includes("You cannot add/update a time slot to a past time"))?V.ZP.error(a("youCantAddSlotToPast")):V.ZP.error((null==e?void 0:e.message)||a("errorSavingTimeSlots")),console.error("Error saving extra time slots:",null==e?void 0:e.message),!1}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(al,{currentDate:i,scheduleData:u,onDateClick:(e,t,a)=>{let r=String(t+1).padStart(2,"0"),s=String(e).padStart(2,"0"),l="".concat(a,"-").concat(r,"-").concat(s),i="".concat(a,"-").concat(r,"-").concat(s),n=u[l],o=((null==n?void 0:n.weekSchedules)||[]).length>0,d=((null==w?void 0:w.filter(e=>e.date===i))||[]).length>0;(o||d)&&(h(!0),f({date:e,month:t,year:a}))},onEditSchedule:(e,t,a)=>{y(!0),b(new Date(a,t-1,e))},onViewAllSchedules:(e,t,a)=>{h(!0),f({date:e,month:t,year:a})},handleNextMonth:()=>{let e=new Date(c,d+1,1);n(e),(async()=>{try{let r=await (0,m.SP)();if(null==r?void 0:r.data){var t,a;let s=an(null===(t=r.data)||void 0===t?void 0:t.time_schedules,e);p(s),_(null===(a=r.data)||void 0===a?void 0:a.extra_slots)}else p({})}catch(e){console.error("Error fetching next month data:",e),p({})}})()},handlePreviousMonth:()=>{let e=new Date(c,d-1,1);n(e),(async()=>{try{let r=await (0,m.SP)();if(null==r?void 0:r.data){var t,a;let s=an(null===(t=r.data)||void 0===t?void 0:t.time_schedules,e);p(s),_(null===(a=r.data)||void 0===a?void 0:a.extra_slots)}else p({})}catch(e){console.error("Error fetching previous month data:",e),p({})}})()},extraTimeSlots:w}),(0,r.jsx)(t7,{isOpen:x,onClose:()=>h(!1),viewAllDate:g,showExtraTimeSlots:!0}),(0,r.jsx)(ai,{isOpen:v,onClose:()=>y(!1),date:j,timeSlots:w,preferencesData:t,scheduleData:u,onSave:S,removeSlotIds:C,setRemoveSlotIds:k})]})};let ad=()=>(0,r.jsxs)("div",{className:"w-full max-w-[1580px] mx-auto p-4 sm:p-7 space-y-4 sm:space-y-7",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.O,{className:"h-6 sm:h-7 w-36 sm:w-48"}),(0,r.jsx)(u.O,{className:"h-3 sm:h-4 w-56 sm:w-72"})]})}),(0,r.jsx)("div",{className:"bg-white border-b newBorderColor overflow-x-auto",children:(0,r.jsxs)("div",{className:"flex items-center gap-4 sm:gap-7 px-4 sm:px-7 min-w-max",children:[(0,r.jsx)("div",{className:"flex items-center px-2 sm:px-4 py-3 sm:py-4",children:(0,r.jsx)(u.O,{className:"h-4 sm:h-5 w-28 sm:w-36"})}),(0,r.jsx)("div",{className:"flex items-center px-2 sm:px-4 py-3 sm:py-4",children:(0,r.jsx)(u.O,{className:"h-4 sm:h-5 w-20 sm:w-28"})}),(0,r.jsx)("div",{className:"flex items-center px-2 sm:px-4 py-3 sm:py-4",children:(0,r.jsx)(u.O,{className:"h-4 sm:h-5 w-18 sm:w-24"})})]})}),(0,r.jsx)("div",{className:"bg-white px-4 sm:px-7 py-4 sm:py-7",children:(0,r.jsx)("div",{className:"space-y-4 sm:space-y-6",children:Array.from({length:4},(e,t)=>(0,r.jsx)(u.O,{className:"h-24 w-full rounded-lg"},t))})})]});var ac=()=>{let e=(0,o.m)();(0,N.I0)();let[t,a]=(0,l.useState)(!0),[s,i]=(0,l.useState)("booking-preferences"),[n,d]=(0,l.useState)(null),[c,u]=(0,l.useState)({autoConfirm:!1,bufferTime:"",defaultDuration:"",cancellationTime:"",minAdvanceBookingTime:"",cancelRescheduleBufferTime:"",cancellationMessage:"",maxBookingsPerDay:"",timezone:"Asia/Kolkata",meetingTypes:{video:!1,phone:!1,inPerson:!1}}),[p,x]=(0,l.useState)(!1),[h,g]=(0,l.useState)(!1),f=(0,l.useRef)(!1);(0,l.useEffect)(()=>{"booking-preferences"===s&&v()},[s]);let v=async()=>{a(!0);try{let a=await (0,m.zc)();if((null==a?void 0:a.error)===!1&&(null==a?void 0:a.data)){var e,t,r,s,l,i;d(a.data);let n=a.data,o=(n.availability_types||"").toLowerCase().split(",");u({autoConfirm:1===n.auto_confirm,bufferTime:(null===(e=n.buffer_time_minutes)||void 0===e?void 0:e.toString())||"",defaultDuration:(null===(t=n.meeting_duration_minutes)||void 0===t?void 0:t.toString())||"",cancellationTime:(null===(r=n.auto_cancel_after_minutes)||void 0===r?void 0:r.toString())||"",cancelRescheduleBufferTime:(null===(s=n.cancel_reschedule_buffer_minutes)||void 0===s?void 0:s.toString())||"",minAdvanceBookingTime:(null===(l=n.lead_time_minutes)||void 0===l?void 0:l.toString())||"",cancellationMessage:n.auto_cancel_message||"",maxBookingsPerDay:(null===(i=n.daily_booking_limit)||void 0===i?void 0:i.toString())||"",timezone:n.timezone||"Asia/Kolkata",meetingTypes:{video:o.includes("virtual"),phone:o.includes("phone"),inPerson:o.includes("in_person")}}),g(!1)}}catch(e){console.error("Error fetching appointment preferences:",e),V.Am.error("Failed to load appointment preferences")}finally{a(!1)}},y=async()=>{x(!0);try{let e=[];if(c.bufferTime||e.push("Buffer Time"),c.defaultDuration||e.push("Default Meeting Duration"),c.minAdvanceBookingTime||e.push("Minimum Advance Booking Time"),e.length>0){V.Am.error("Please fill in the following required fields: ".concat(e.join(", "))),x(!1);return}let t={meeting_duration_minutes:parseInt(c.defaultDuration),lead_time_minutes:parseInt(c.minAdvanceBookingTime),buffer_time_minutes:parseInt(c.bufferTime),auto_confirm:c.autoConfirm?1:0,auto_cancel_after_minutes:parseInt(c.cancellationTime),cancel_reschedule_buffer_minutes:parseInt(c.cancelRescheduleBufferTime),auto_cancel_message:c.cancellationMessage,daily_booking_limit:parseInt(c.maxBookingsPerDay),availability_types:Object.entries(c.meetingTypes).filter(e=>{let[t,a]=e;return a}).map(e=>{let[t]=e;switch(t){case"video":return"virtual";case"phone":return"phone";case"inPerson":return"in_person";default:return t}}).join(",")||"",anti_spam_enabled:1,timezone:c.timezone},a=await (0,m.eg)(t);if((null==a?void 0:a.error)===!1)V.Am.success("Booking preferences saved successfully!"),i("set-availability"),d(a.data),g(!1),f.current=!1;else throw Error((null==a?void 0:a.message)||"Failed to save preferences")}catch(e){console.error("Error saving booking preferences:",e),V.Am.error(e.message||"Failed to save booking preferences")}finally{x(!1)}},j=async e=>{i(e)};return t?(0,r.jsx)(ad,{}):(0,r.jsxs)("div",{className:"w-full max-w-[1580px] mx-auto p-4 sm:p-7 space-y-4 sm:space-y-7",children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-3 items-center justify-between",children:(0,r.jsx)("h1",{className:"text-xl sm:text-2xl font-bold brandColor font-manrope",children:e("configuration")})}),(0,r.jsx)("div",{className:"bg-white border newBorderColor rounded-lg overflow-hidden",children:(0,r.jsxs)(tk.mQ,{value:s,onValueChange:e=>{if("booking-preferences"!==s||"booking-preferences"===e){i(e);return}if(h){f.current||(V.Am.error("Please save your changes before switching tabs"),f.current=!0,setTimeout(()=>{f.current=!1},3e3));return}if(!n){f.current||(V.Am.error("Please set your booking preferences first"),f.current=!0,setTimeout(()=>{f.current=!1},3e3));return}i(e)},className:"w-full",children:[(0,r.jsx)("div",{className:"border-b newBorderColor overflow-x-auto",children:(0,r.jsxs)(tk.dr,{className:"w-full h-auto bg-transparent p-0 gap-7 rounded-none justify-start px-7",children:[(0,r.jsx)(tk.SP,{value:"booking-preferences",className:"px-4 py-4 rounded-none border-b-2 border-transparent data-[state=active]:primaryBorderColor data-[state=active]:bg-transparent bg-transparent hover:bg-transparent transition-colors !shadow-none",children:(0,r.jsx)("span",{className:"text-sm sm:text-base font-manrope whitespace-nowrap ".concat("booking-preferences"===s?"font-bold primaryColor":"font-medium brandColor"),children:e("bookingPreferences")})}),(0,r.jsx)(tk.SP,{value:"set-availability",className:"px-4 py-4 rounded-none border-b-2 border-transparent data-[state=active]:primaryBorderColor data-[state=active]:bg-transparent bg-transparent hover:bg-transparent transition-colors !shadow-none",children:(0,r.jsx)("span",{className:"text-sm sm:text-base font-manrope whitespace-nowrap ".concat("set-availability"===s?"font-bold primaryColor":"font-medium brandColor"),children:e("setAvailability")})}),(0,r.jsx)(tk.SP,{value:"all-schedule",className:"px-4 py-4 rounded-none border-b-2 border-transparent data-[state=active]:primaryBorderColor data-[state=active]:bg-transparent bg-transparent hover:bg-transparent transition-colors !shadow-none",children:(0,r.jsx)("span",{className:"text-sm sm:text-base font-manrope whitespace-nowrap ".concat("all-schedule"===s?"font-bold primaryColor":"font-medium brandColor"),children:e("allSchedule")})})]})}),(0,r.jsxs)("div",{className:"px-4 sm:px-7 py-4 sm:py-6 !overflow-x-auto w-full",children:[(0,r.jsx)(tk.nU,{value:"booking-preferences",className:"mt-0",children:(0,r.jsx)(tG,{loading:t,onSave:y,formData:c,saving:p,onFormDataChange:(e,t)=>{u(a=>({...a,[e]:t})),g(!0)},onMeetingTypeChange:(e,t)=>{u(a=>({...a,meetingTypes:{...a.meetingTypes,[e]:t}})),g(!0)}})}),(0,r.jsx)(tk.nU,{value:"set-availability",className:"mt-0",children:(0,r.jsx)(ae,{preferencesData:n,loading:t,onSave:j})}),(0,r.jsx)(tk.nU,{value:"all-schedule",className:"mt-0",children:(0,r.jsx)(ao,{preferencesData:n,loading:t})})]})]})})]})},am=a(12962),au=e=>{let{userName:t}=e,a=(0,o.m)(),l=(0,s.useRouter)();return(0,r.jsxs)("div",{className:"relative bg-black rounded-2xl text-white w-full h-fit overflow-hidden shadow-2xl",children:[(0,r.jsxs)("div",{className:"p-8 lg:p-12 relative z-50",children:[(0,r.jsxs)("h1",{className:"text-xl md:text-4xl lg:text-5xl font-bold mb-4 leading-tight line-clamp-2",children:[a("hy"),", ",t]}),(0,r.jsx)("p",{className:"text-md md:text-lg text-gray-300 leading-relaxed z-50",children:a("manageYourProfileAndViewProperty")})]}),(0,r.jsxs)("div",{className:"relative p-6 rounded-b-2xl flex items-center min-h-[200px] md:min-h-[260px] after:content-['']  after:absolute after:bottom-0 after:left-0 after:w-full after:h-[120px] md:after:h-[160px] after:bg-white/10 after:rounded-b-2xl",children:[(0,r.jsxs)("button",{className:"bg-white text-black p-2 md:py-3 md:px-4 rounded-[8px] flex items-center gap-2 z-20 text-base md:text-xl font-medium absolute right-5 left-auto md:left-5 md:right-auto bottom-10",onClick:e=>(0,v.wo)(e,K.i.PROPERTY_LIST,l,null,null,!0,null,a),children:[(0,r.jsx)("div",{className:"w-5 h-5 rounded-full flex items-center justify-center ",children:(0,r.jsx)(am.Z,{size:20})}),a("addProperty")]}),(0,r.jsx)("div",{className:"absolute bottom-0 right-0 w-[466px] h-[200px] md:h-[344px]",children:(0,r.jsx)(ee.Z,{priority:!0,src:"/_next/static/media/dashboard_image.fc20bb76.png",alt:"Modern Building",className:"w-full h-full !object-contain"})})]})]})},ap=a(23148),ax={src:"/_next/static/media/propertiesIcon.6e7ad068.svg"},ah={src:"/_next/static/media/projectsIcon.601e5eae.svg"},ag={src:"/_next/static/media/propertyViews.4eefc152.svg"},af={src:"/_next/static/media/appointments.a15d5301.svg"};ap.kL.register(ap.uw,ap.f$,ap.ZL,ap.Dx,ap.u,ap.De);let av=e=>{switch(e){case"Properties":return(0,r.jsx)(c(),{src:ax.src,alt:"Properties",width:24,height:24});case"Projects":return(0,r.jsx)(c(),{src:ah.src,alt:"Projects",width:24,height:24});case"Property Views":return(0,r.jsx)(c(),{src:ag.src,alt:"Views",width:24,height:24});case"Appointments":return(0,r.jsx)(c(),{src:af.src,alt:"Appointments",width:24,height:24});default:return(0,r.jsx)(U.wEH,{size:24})}};var ay=e=>{let{title:t,mainValue:a,changeValue:s,changeTimeframe:i,chartData:n}=e,d=(0,o.m)(),[c,m]=(0,l.useState)(null),[u,p]=(0,l.useState)(null),x=n||{values:[],labels:[]},h=x.values&&x.values.length>0?x.values:Array(12).fill(0),g=x.labels&&x.labels.length>0?x.labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=Math.max(...h)||1,v=(e,a,r)=>{m(e),p({month:r,value:a,title:t.includes("Property")?d("propertyViews"):t.split(" ")[0]})},y=()=>{m(null),p(null)};return(0,r.jsxs)("div",{className:"relative bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 primaryBgLight rounded-xl flex items-center justify-center",children:av(t)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:a}),(0,r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:t})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-white font-semibold bg-black px-3 py-1 rounded-full text-sm inline-block",children:s}),(0,r.jsx)("div",{className:"text-sm text-gray-500 mt-2",children:i})]})]}),u&&null!==c&&(0,r.jsxs)("div",{className:"absolute bg-white border border-gray-200 rounded-lg shadow-lg z-10",style:{bottom:"6rem",left:"".concat(c/h.length*100,"%"),transform:"translateX(-50%)",minWidth:"120px"},children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-black bg-[#F5F5F4] border-b border-gray-200 p-2 rounded-t-lg",children:null==u?void 0:u.month}),(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 primaryBg rounded-full"}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[null==u?void 0:u.title,": ",null==u?void 0:u.value]})]})]}),(0,r.jsx)("div",{className:"flex items-end justify-between gap-1.5 h-20",children:h.map((e,t)=>{let a=Math.max(e/f*100,8),s=c===t;return(0,r.jsx)("div",{className:"flex-1 rounded-md transition-all duration-200 cursor-pointer ".concat(s?"primaryBg":"bg-gray-200"," ").concat(s?"ring-2 ring-[#087c7c]/20":""),style:{height:"".concat(a,"%")},onMouseEnter:()=>v(t,e,g[t]),onMouseLeave:y},t)})})]})},aj=e=>{var t,a,s,l,i,n,d,c,m,u,p,x,h,g,f,v,y,j,b,N;let{dashboardData:w}=e,_=(0,o.m)(),C=e=>e&&Array.isArray(e)?{labels:e.map(e=>new Date(e.month_key+"-01").toLocaleDateString("en-US",{month:"short"})),values:e.map(e=>e.total_properties||e.total_projects||e.total_views||e.total_appointments||0)}:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],values:[0,0,0,0,0,0,0,0,0,0,0,0]},k={title:_("properties"),mainValue:(null==w?void 0:null===(a=w.properties)||void 0===a?void 0:null===(t=a.total_properties)||void 0===t?void 0:t.toString())||"0",changeValue:(null==w?void 0:null===(l=w.properties)||void 0===l?void 0:null===(s=l.current_month_property_count)||void 0===s?void 0:s.toString())||"0",changeTimeframe:_("thisMonth"),chartData:C(null==w?void 0:null===(i=w.properties)||void 0===i?void 0:i.monthly_property_counts)},S={title:_("projects"),mainValue:(null==w?void 0:null===(d=w.projects)||void 0===d?void 0:null===(n=d.total_projects)||void 0===n?void 0:n.toString())||"0",changeValue:(null==w?void 0:null===(m=w.projects)||void 0===m?void 0:null===(c=m.current_month_project_count)||void 0===c?void 0:c.toString())||"0",changeTimeframe:_("thisMonth"),chartData:C(null==w?void 0:null===(u=w.projects)||void 0===u?void 0:u.monthly_project_counts)},B={title:_("propertyViews"),mainValue:(null==w?void 0:null===(x=w.properties_views)||void 0===x?void 0:null===(p=x.total_views)||void 0===p?void 0:p.toString())||"0",changeValue:(null==w?void 0:null===(g=w.properties_views)||void 0===g?void 0:null===(h=g.current_month_property_views)||void 0===h?void 0:h.toString())||"0",changeTimeframe:_("thisMonth"),chartData:C(null==w?void 0:null===(f=w.properties_views)||void 0===f?void 0:f.monthly_property_views)},A={title:_("appointments"),mainValue:(null==w?void 0:null===(y=w.appointments)||void 0===y?void 0:null===(v=y.current_month_appointment_count)||void 0===v?void 0:v.toString())||"0",changeValue:(null==w?void 0:null===(b=w.appointments)||void 0===b?void 0:null===(j=b.today_appointment_count)||void 0===j?void 0:j.toString())||"0",changeTimeframe:_("today"),chartData:C(null==w?void 0:null===(N=w.appointments)||void 0===N?void 0:N.monthly_appointment_counts)};return(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[(0,r.jsx)(ay,{...k}),(0,r.jsx)(ay,{...S}),(0,r.jsx)(ay,{...B}),(0,r.jsx)(ay,{...A})]})},ab=()=>{let e=(0,o.m)(),t=(0,N.v9)(e=>{var t;return null===(t=e.WebSetting)||void 0===t?void 0:t.data}),a=null==t?void 0:t.verification_status;return(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,r.jsx)("div",{className:"min-h-[130px] border col-span-12 md:col-span-12 primaryBg text-white rounded-lg overflow-hidden",children:(()=>{switch(a){case"success":return(0,r.jsxs)("div",{className:"p-5 h-full flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl md:text-4xl font-medium mb-2",children:e("verifySuccessTitle")}),(0,r.jsx)("p",{className:"text-base mb-4 opacity-80",children:e("verifySuccessDesc")})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 primaryColor bg-white uppercase px-3 py-2 rounded-lg font-bold",children:[(0,r.jsx)("span",{className:"font-medium",children:e("verified")}),(0,r.jsx)(v.QL,{color:"#087c7c"})]})]});case"failed":return(0,r.jsxs)("div",{className:"p-5 h-full flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl md:text-4xl font-medium mb-2",children:e("verifyFailTitle")}),(0,r.jsx)("p",{className:"text-base mb-4 opacity-80",children:e("verifyFailDesc")})]}),(0,r.jsx)(p.Z,{href:"/user/verification-form",children:(0,r.jsx)("button",{className:"text-base  font-semibold bg-white primaryColor px-5 py-2.5 rounded-lg",children:e("reApply")})})]});case"pending":return(0,r.jsx)("div",{className:"p-5 h-full flex flex-col md:flex-row justify-between items-center gap-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl md:text-4xl font-medium mb-2",children:e("verifyPendingTitle")}),(0,r.jsx)("p",{className:"text-base mb-4 opacity-80",children:e("verifyPendingDesc")})]})});default:return(0,r.jsxs)("div",{className:"p-5 h-full flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl md:text-4xl font-medium mb-2",children:e("verifyIntialTitle")}),(0,r.jsx)("p",{className:"text-base mb-4 opacity-80",children:e("verifyIntialDesc")})]}),(0,r.jsx)(p.Z,{href:"/user/verification-form",children:(0,r.jsx)("button",{className:"bg-white primaryColor px-4 py-2 rounded-md font-bold",children:e("apply")})})]})}})()})})},aN=a(26495);ap.kL.register(ap.uw,ap.f$,ap.od,ap.jn,ap.Dx,ap.u,ap.De,ap.Gu);var aw=e=>{var t,a,s,l,i,n,d,m,u,p,x,h;let{selectedTimeframe:g="weekly",selectedType:f="property",listingsData:v=null,isLoading:y=!1}=e,j=(0,o.m)();if(y)return(0,r.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6 bg-white rounded-2xl",children:[(0,r.jsx)("div",{className:"xl:col-span-1 space-y-4 border-r p-5",children:Array.from({length:3}).map((e,t)=>(0,r.jsx)("div",{className:"shadow-sm border border-gray-100 rounded-[8px] p-4",children:(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center gap-2",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"}),(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center gap-2",children:[(0,r.jsx)("div",{className:"h-8 w-16 bg-gray-200 rounded"}),(0,r.jsx)("div",{className:"h-4 w-20 bg-gray-100 rounded"})]})]})},t))}),(0,r.jsx)("div",{className:"xl:col-span-3",children:(0,r.jsx)("div",{className:"h-full p-2",children:(0,r.jsx)("div",{className:"h-80 bg-gray-100 rounded-lg"})})})]});let b=()=>{let e=[],t=new Date;for(let a=29;a>=0;a--){let r=new Date(t);r.setDate(t.getDate()-a);let s=r.getDate(),l=r.getMonth()+1,i=(0,tR.zX)(l,j).substring(0,3);e.push("".concat(s," ").concat(i))}return e},N=()=>{let e=[],t=new Date;for(let a=6;a>=0;a--){let r=new Date(t);r.setDate(t.getDate()-a);let s=r.getDate(),l=r.getMonth()+1,i=(0,tR.zX)(l,j).substring(0,3);e.push("".concat(s," ").concat(i))}return e},w=()=>{let e=[],t=new Date;for(let a=11;a>=0;a--){let r=new Date(t);r.setMonth(t.getMonth()-a);let s=r.getMonth()+1,l=(0,tR.zX)(s,j).substring(0,3),i=r.getFullYear();e.push("".concat(l," ").concat(i))}return e},_=(e,t)=>{if(!e||!e.range_wise)return{labels:"weekly"===t?N():"monthly"===t?b():w(),datasets:[{label:j("totalProperties"),data:"yearly"===t?Array(12).fill(0):Array(7).fill(0),borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#3B82F6",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:j("rentProperties"),data:"yearly"===t?Array(12).fill(0):Array(7).fill(0),borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#10B981",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:j("saleProperties"),data:"yearly"===t?Array(12).fill(0):Array(7).fill(0),borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#F59E0B",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]};let a=e.range_wise.map(e=>{if(e.date){let t=new Date(e.date),a=t.getDate(),r=t.getMonth()+1,s=(0,tR.zX)(r,j).substring(0,3);return"".concat(a," ").concat(s)}if(e.month){let t=e.month.split(" "),a=t[0],r=t[1],s=["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(a);if(-1!==s){let e=(0,tR.zX)(s+1,j).substring(0,3);return"".concat(e," ").concat(r)}return"".concat(a.substring(0,3)," ").concat(r)}return"Invalid"}),r=e.range_wise.map(e=>e.total_properties||0),s=e.range_wise.map(e=>e.rent_properties||0),l=e.range_wise.map(e=>e.sell_properties||0);return{labels:a,datasets:[{label:j("totalProperties"),data:r,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#3B82F6",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:j("rentProperties"),data:s,borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#10B981",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:j("saleProperties"),data:l,borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#F59E0B",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]}},C=(e,t)=>{if(!e||!e.range_wise)return{labels:"weekly"===t?N():"monthly"===t?b():w(),datasets:[{label:j("totalProjects"),data:"yearly"===t?Array(12).fill(0):Array(7).fill(0),borderColor:"#8B5CF6",backgroundColor:"rgba(139, 92, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#8B5CF6",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:j("underConstruction"),data:"yearly"===t?Array(12).fill(0):Array(7).fill(0),borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#F59E0B",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:j("upcoming"),data:"yearly"===t?Array(12).fill(0):Array(7).fill(0),borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#10B981",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]};let a=e.range_wise.map(e=>{if(e.date){let t=new Date(e.date),a=t.getDate(),r=t.getMonth()+1,s=(0,tR.zX)(r,j).substring(0,3);return"".concat(a," ").concat(s)}if(e.month){let t=e.month.split(" "),a=t[0],r=t[1],s=["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(a);if(-1!==s){let e=(0,tR.zX)(s+1,j).substring(0,3);return"".concat(e," ").concat(r)}return"".concat(a.substring(0,3)," ").concat(r)}return"Invalid"}),r=e.range_wise.map(e=>e.total_projects||0),s=e.range_wise.map(e=>e.under_construction_projects||0),l=e.range_wise.map(e=>e.upcoming_projects||0);return{labels:a,datasets:[{label:j("totalProjects"),data:r,borderColor:"#8B5CF6",backgroundColor:"rgba(139, 92, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#8B5CF6",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:j("underConstruction"),data:s,borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#F59E0B",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:j("upcoming"),data:l,borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#10B981",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]}},k={weekly:_(v,"weekly"),monthly:_(v,"monthly"),yearly:_(v,"yearly")},S={weekly:C(v,"weekly"),monthly:C(v,"monthly"),yearly:C(v,"yearly")},B=[{icon:(0,r.jsx)(c(),{width:24,height:24,src:"/_next/static/media/availableProperties.d9903b6a.svg",alt:"Available Properties"}),value:(null==v?void 0:null===(a=v.overall)||void 0===a?void 0:null===(t=a.total_properties)||void 0===t?void 0:t.toString())||"0",label:j("totalProperties"),color:"bg-[#2B7FFF]",iconColor:"text-blue-500"},{icon:(0,r.jsx)(c(),{width:24,height:24,src:"/_next/static/media/rentPropertiesIcon.bbdae385.svg",alt:"Rent Properties"}),value:(null==v?void 0:null===(l=v.overall)||void 0===l?void 0:null===(s=l.rent_properties)||void 0===s?void 0:s.toString())||"0",label:j("rentProperties"),color:"bg-[#00BC7D]",iconColor:"text-green-500"},{icon:(0,r.jsx)(c(),{width:24,height:24,src:"/_next/static/media/soldIcon.0b55abc9.svg",alt:"Sold Properties"}),value:(null==v?void 0:null===(n=v.overall)||void 0===n?void 0:null===(i=n.sell_properties)||void 0===i?void 0:i.toString())||"0",label:j("saleProperties"),color:"bg-[#FE9A00]",iconColor:"text-orange-500"}],A=[{icon:(0,r.jsx)(c(),{width:24,height:24,src:"/_next/static/media/availableProjectsIcon.a04cfa8e.svg",alt:"Available Projects"}),value:(null==v?void 0:null===(m=v.overall)||void 0===m?void 0:null===(d=m.total_projects)||void 0===d?void 0:d.toString())||"0",label:j("totalProjects"),color:"bg-purple-500",iconColor:"text-purple-500"},{icon:(0,r.jsx)(c(),{width:24,height:24,src:"/_next/static/media/underConstructionIcon.b23ffcaf.svg",alt:"Under Construction Projects"}),value:(null==v?void 0:null===(p=v.overall)||void 0===p?void 0:null===(u=p.under_construction_projects)||void 0===u?void 0:u.toString())||"0",label:j("underConstruction"),color:"bg-orange-500",iconColor:"text-orange-500"},{icon:(0,r.jsx)(c(),{width:24,height:24,src:"/_next/static/media/upcomingProjectsIcon.e3e5ace7.svg",alt:"Upcoming Projects"}),value:(null==v?void 0:null===(h=v.overall)||void 0===h?void 0:null===(x=h.upcoming_projects)||void 0===x?void 0:x.toString())||"0",label:j("upcoming"),color:"bg-green-500",iconColor:"text-green-500"}],D={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1F2937",bodyColor:"#6B7280",borderColor:"#E5E7EB",borderWidth:1,cornerRadius:8,displayColors:!1,callbacks:{title:function(e){return e[0].label},label:function(e){return"".concat(e.dataset.label,": ").concat(e.parsed.y)}}}},scales:{x:{grid:{display:!1},ticks:{color:"#6B7280",font:{size:12}}},y:{grid:{color:"#E5E7EB",borderDash:[5,5]},ticks:{color:"#6B7280",font:{size:12}},min:0}},interaction:{intersect:!1,mode:"index"},elements:{point:{hoverRadius:6,radius:"monthly"===g?2:4}}},P="property"===f?k[g]:S[g];"property"===f?(j("totalProperties"),j("rentProperties"),j("saleProperties")):(j("totalProjects"),j("underConstruction"),j("upcoming"));let T=(e=>{if(!e||!e.datasets)return{min:0,max:10,stepSize:1};let t=0;e.datasets.forEach(e=>{if(e.data&&Array.isArray(e.data)){let a=Math.max(...e.data);t=Math.max(t,a)}});let a=Math.max(1,Math.ceil(.2*t)),r=t+a,s=1;return s=r<=5?1:r<=10?2:r<=20?5:r<=50?10:Math.ceil(r/10),{min:0,max:r,stepSize:s}})(P);return D.scales.y.max=T.max,D.scales.y.ticks.stepSize=T.stepSize,(0,r.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6 bg-white rounded-2xl ",children:[(0,r.jsx)("div",{className:"xl:col-span-1 space-y-4  border-r p-5",children:("property"===f?B:A).map((e,t)=>(0,r.jsx)("div",{className:"shadow-sm border border-gray-100 rounded-[8px] p-4",children:(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center gap-2",children:[(0,r.jsxs)("div",{className:"w-14 h-14 ".concat(e.color," rounded-xl flex items-center justify-center relative overflow-hidden"),children:[(0,r.jsx)("div",{className:"absolute left-0 top-0 w-1/2 h-full bg-white/20 bg-opacity-50 z-10"}),(0,r.jsx)("div",{className:"relative z-20",children:e.icon})]}),(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center gap-2",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.value}),(0,r.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:e.label})]})]})},t))}),(0,r.jsx)("div",{className:"xl:col-span-3",children:(0,r.jsx)("div",{className:"h-full p-2",children:(0,r.jsx)(aN.x1,{data:P,options:D})})})]})},a_=a(5152),aC=a.n(a_);let ak=aC()(()=>Promise.all([a.e(9932),a.e(7229)]).then(a.bind(a,47229)),{loadableGenerated:{webpack:()=>[47229]},ssr:!1});var aS=e=>{let{selectedTimeframe:t="weekly",categoryData:a=null,isLoading:s=!1}=e,l=(0,o.m)();if(s)return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 p-3 md:p-6",children:[(0,r.jsx)("div",{className:"flex justify-center relative mb-4 md:mb-8 w-full",children:(0,r.jsx)("div",{className:"relative w-full max-w-sm md:max-w-lg lg:max-w-xl",children:(0,r.jsx)("div",{className:"w-full h-80 bg-gray-100 rounded-full"})})}),(0,r.jsx)("div",{className:"flex items-center justify-center flex-wrap gap-2 md:gap-4 px-2",children:Array.from({length:4}).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-1 md:gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 md:w-4 md:h-4 bg-gray-200 rounded-full"}),(0,r.jsx)("div",{className:"h-4 w-16 bg-gray-100 rounded"})]},t))})]});let i=e=>{let t=[],a=360/e;for(let r=0;r<e;r++){let e=r*a%360,s=70+r%3*10,l=50+r%2*10;t.push("hsl(".concat(e,", ").concat(s,"%, ").concat(l,"%)"))}return t},n=a&&Array.isArray(a)&&0!==a.length?{series:a.map(e=>e.views||0),labels:a.map(e=>e.title||l("unknownCategory"))}:{series:[1,1],labels:[l("testCategoryForList"),l("home")]},d=i(n.labels.length);return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 p-3 md:p-6",children:[(0,r.jsx)("div",{className:"flex justify-center relative mb-4 md:mb-8 w-full",children:(0,r.jsxs)("div",{className:"relative w-full max-w-sm md:max-w-lg lg:max-w-xl",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-white opacity-10 blur-md scale-90"}),(0,r.jsx)("div",{className:"relative z-10",children:(0,r.jsx)(ak,{options:(e=>{let t=i(e.labels.length);return{chart:{type:"donut",height:500,width:"100%",dropShadow:{enabled:!0,color:"#000",top:2,left:2,blur:8,opacity:.15},responsive:[{breakpoint:1024,options:{chart:{height:400}}},{breakpoint:768,options:{chart:{height:300}}},{breakpoint:480,options:{chart:{height:250}}}]},series:e.series,labels:e.labels,colors:t,plotOptions:{pie:{donut:{size:"65%",background:"transparent",labels:{show:!1}}}},legend:{show:!1},tooltip:{enabled:!0,style:{fontSize:"12px"}},stroke:{width:2,colors:["#ffffff"]},dataLabels:{enabled:!1},fill:{type:"gradient",gradient:{type:"radial",shade:"light",shadeIntensity:2,gradientToColors:t,inverseColors:!1,opacityFrom:.1,opacityTo:1,stops:[0,100]}},states:{hover:{filter:{type:"lighten",value:.05}}}}})(n),series:n.series,type:"donut",height:500,width:"100%"})})]})}),(0,r.jsx)("div",{className:"flex items-center justify-center flex-wrap gap-2 md:gap-4 px-2",children:n.labels.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-1 md:gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 md:w-4 md:h-4 rounded-full shadow-sm",style:{backgroundColor:d[t]}}),(0,r.jsx)("span",{className:"text-xs md:text-sm text-gray-700 font-medium max-w-32 md:max-w-none truncate",children:e})]},t))})]})},aB=a(18078);let aA=l.forwardRef((e,t)=>{let{className:a,value:s,...l}=e;return(0,r.jsx)(aB.fC,{ref:t,className:(0,P.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",a),...l,children:(0,r.jsx)(aB.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});aA.displayName=aB.fC.displayName;var aD=e=>{var t;let{selectedPlan:a,activeSubscriptionsData:s,isLoading:l=!1}=e,i=(0,o.m)(),n=(0,N.v9)(e=>{var t;return null==e?void 0:null===(t=e.WebSetting)||void 0===t?void 0:t.data}),d=null==n?void 0:n.currency_symbol;if(l)return(0,r.jsxs)("div",{className:"flex flex-col gap-4 md:gap-6 p-3 md:p-6",children:[(0,r.jsxs)("div",{className:"bg-gray-200 px-3 md:px-4 py-3 flex flex-col sm:flex-row sm:items-center justify-between rounded-xl gap-2",children:[(0,r.jsx)("div",{className:"h-6 w-32 bg-gray-300 rounded"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"h-6 w-16 bg-gray-300 rounded"}),(0,r.jsx)("span",{className:"text-gray-300",children:"|"}),(0,r.jsx)("div",{className:"h-4 w-12 bg-gray-300 rounded"})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-3 md:space-y-4 bg-gray-100 p-3 md:p-4 rounded-xl",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,r.jsx)("div",{className:"w-5 h-5 bg-gray-300 rounded"}),(0,r.jsx)("div",{className:"h-4 w-20 bg-gray-300 rounded"})]}),(0,r.jsx)("div",{className:"space-y-2 md:space-y-3",children:Array.from({length:2}).map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs md:text-sm mb-2",children:[(0,r.jsx)("div",{className:"h-4 w-16 bg-gray-200 rounded"}),(0,r.jsx)("div",{className:"h-4 w-20 bg-gray-200 rounded"})]}),(0,r.jsx)("div",{className:"h-2 bg-gray-100 rounded"})]},t))})]}),(0,r.jsxs)("div",{className:"space-y-3 md:space-y-4 bg-gray-100 p-3 md:p-4 rounded-xl",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,r.jsx)("div",{className:"w-5 h-5 bg-gray-300 rounded"}),(0,r.jsx)("div",{className:"h-4 w-24 bg-gray-300 rounded"})]}),(0,r.jsx)("div",{className:"space-y-2 md:space-y-3",children:Array.from({length:2}).map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs md:text-sm mb-2",children:[(0,r.jsx)("div",{className:"h-4 w-16 bg-gray-200 rounded"}),(0,r.jsx)("div",{className:"h-4 w-20 bg-gray-200 rounded"})]}),(0,r.jsx)("div",{className:"h-2 bg-gray-100 rounded"})]},t))})]}),(0,r.jsxs)("div",{className:"bg-gray-100 rounded-xl p-3 md:p-4 space-y-3",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 text-xs md:text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"h-3 w-16 bg-gray-200 rounded mb-1"}),(0,r.jsx)("div",{className:"h-4 w-24 bg-gray-200 rounded"})]}),(0,r.jsxs)("div",{className:"text-left sm:text-right",children:[(0,r.jsx)("div",{className:"h-3 w-12 bg-gray-200 rounded mb-1"}),(0,r.jsx)("div",{className:"h-4 w-24 bg-gray-200 rounded"})]})]}),(0,r.jsx)("div",{className:"border-t border-dashed border-gray-300 pt-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs md:text-sm font-semibold",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-gray-300 rounded"}),(0,r.jsx)("div",{className:"h-4 w-20 bg-gray-200 rounded"})]})})]})]})]});let c=s&&Array.isArray(s)&&a?s.find(e=>e.id.toString()===a.toString()||e.id===parseInt(a)||e.id===a):null;if(!s||!Array.isArray(s)||0===s.length)return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 p-6 text-center h-full",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(U.mGS,{className:"w-8 h-8 text-gray-400"})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:i("noActiveSubscriptions")}),(0,r.jsx)("p",{className:"text-gray-600 text-sm max-w-md",children:i("noActiveSubscriptionsDescription")})]}),(0,r.jsx)(p.Z,{href:"/subscription-plan",className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors font-medium",children:i("explorePlans")})]});if(!c)return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 p-6 text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(U.mGS,{className:"w-8 h-8 text-gray-400"})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:i("noActiveSubscriptions")}),(0,r.jsx)("p",{className:"text-gray-600 text-sm max-w-md",children:i("noActiveSubscriptionsDescription")})]}),(0,r.jsx)("button",{onClick:()=>window.location.href="/subscription",className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors font-medium",children:i("explorePlans")})]});let m=e=>{if(null===e)return"Lifetime";let t=new Date(e),a=t.toLocaleDateString("en-US",{weekday:"long"}),r=t.getDate(),s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],l=t.getFullYear();return"".concat(i(null==a?void 0:a.toLowerCase()),", ").concat(r," ").concat(i(null==s?void 0:s.toLowerCase()),", ").concat(l)},u=(e,t)=>{if(!e||!Array.isArray(e))return{properties:{status:"not_included"},projects:{status:"not_included"}};let a="listing"===t?"Property List":"Property Feature List",r="listing"===t?"Project List":"Project Feature List",s=e.find(e=>e.name===a),l=e.find(e=>e.name===r),i=e=>{var t,a,r;return e?"unlimited"===e.limit_type?{status:"unlimited"}:{status:"limited",total:null!==(a=null!==(t=e.total_limit)&&void 0!==t?t:e.limit)&&void 0!==a?a:0,used:null!==(r=e.used_limit)&&void 0!==r?r:0}:{status:"not_included"}};return{properties:i(s),projects:i(l)}},x=e=>{let{title:t,icon:a,data:s}=e,l=(e,t)=>"not_included"===t.status?(0,r.jsx)("div",{className:"bg-white rounded-lg p-3 md:p-4",children:(0,r.jsxs)("div",{className:"flex justify-between text-xs md:text-sm mb-2",children:[(0,r.jsx)("span",{className:"text-gray-600",children:i(e)}),(0,r.jsx)("span",{className:"font-bold",children:i("notIncluded")})]})}):"unlimited"===t.status?(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs md:text-sm mb-2",children:[(0,r.jsx)("span",{className:"text-gray-600",children:i(e)}),(0,r.jsx)("span",{className:"font-bold",children:i("unlimited")})]}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(aA,{value:100,className:"h-2 [&>div]:primaryBg"})})]}):(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3 md:p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs md:text-sm mb-2",children:[(0,r.jsx)("span",{className:"text-gray-600",children:i(e)}),(0,r.jsxs)("span",{className:"font-bold text-gray-900",children:[t.used," / ",t.total]})]}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(aA,{value:t.used/t.total*100,className:"h-2 [&>div]:primaryBg"})})]});return(0,r.jsxs)("div",{className:"space-y-3 md:space-y-4 primaryBackgroundBg p-3 md:p-4 rounded-xl",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[a,(0,r.jsx)("span",{className:"font-medium text-sm md:text-base",children:i(t)})]}),(0,r.jsxs)("div",{className:"space-y-2 md:space-y-3",children:[l("properties",s.properties),l("projects",s.projects)]})]})},h=c?u(c.features,"listing"):{properties:{status:"not_included"},projects:{status:"not_included"}},g=c?u(c.features,"featured"):{properties:{status:"not_included"},projects:{status:"not_included"}};return(0,r.jsxs)("div",{className:"flex flex-col gap-4 md:gap-6 p-3 md:p-6",children:[(0,r.jsxs)("div",{className:"bg-black text-white px-3 md:px-4 py-3 flex flex-col sm:flex-row sm:items-center justify-between rounded-xl gap-2",children:[(0,r.jsx)("span",{className:"font-semibold text-white capitalize text-sm md:text-base",children:null==c?void 0:c.translated_name}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"text-base md:text-lg font-bold text-white",children:[" ",(null==c?void 0:c.price)?"".concat(d).concat(null==c?void 0:c.price):i("free")]}),(null==c?void 0:c.duration)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-white",children:"|"}),(0,r.jsx)("span",{className:"text-xs md:text-sm text-white",children:(t=null==c?void 0:c.duration)>=24?"".concat(Math.floor(t/24)," ").concat(i("days")):"".concat(t," ").concat(i("hours"))})]})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(x,{title:"listing",type:"listing",icon:(0,r.jsx)(U.mGS,{size:20,className:"primaryColor"}),data:h}),(0,r.jsx)(x,{title:"featuredAd",type:"featured",icon:(0,r.jsx)(ep.kJN,{size:20,className:"primaryColor"}),data:g}),(0,r.jsxs)("div",{className:"primaryCatBg rounded-xl p-3 md:p-4 space-y-3",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 text-xs md:text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-500 text-xs mb-1",children:i("startedOn")}),(0,r.jsx)("div",{className:"font-semibold text-gray-900 text-xs md:text-sm",children:m(null==c?void 0:c.start_date)})]}),(0,r.jsxs)("div",{className:"text-left sm:text-right",children:[(0,r.jsx)("div",{className:"text-gray-500 text-xs mb-1",children:i("endsOn")}),(0,r.jsx)("div",{className:"font-semibold text-gray-900 text-xs md:text-sm",children:m(null==c?void 0:c.end_date)})]})]}),(0,r.jsx)("div",{className:"border-t border-dashed primaryBorderColor pt-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs md:text-sm font-semibold",children:[(0,r.jsx)(U.qyc,{size:16,className:"primaryColor md:w-5 md:h-5"}),((e,t)=>{let a=new Date,r=new Date(e)-a;return r<=0?"0 "+i("timeLeft"):t&&t<24?"".concat(Math.ceil(r/36e5)," ").concat(i("hoursLeft")):"".concat(Math.ceil(r/864e5)," ").concat(i("daysLeft"))})(null==c?void 0:c.end_date,null==c?void 0:c.duration)]})})]})]})]})};let aP=aC()(()=>Promise.all([a.e(9932),a.e(7229)]).then(a.bind(a,47229)),{loadableGenerated:{webpack:()=>[47229]},ssr:!1});var aT=e=>{let{selectedTimeframe:t,selectedView:a,mostViewedData:s,isLoading:l=!1}=e,i=(0,o.m)();if(l)return(0,r.jsx)("div",{className:"flex-1 p-3 md:p-6",children:(0,r.jsx)("div",{className:"h-80 bg-gray-100 rounded-lg"})});let n=(e=>{if(!e||!Array.isArray(e)||0===e.length)return{series:[{name:i("views"),data:[]}],categories:[]};let t=e.sort((e,t)=>t.views-e.views).slice(0,8);return{series:[{name:i("views"),data:t.map(e=>e.views)}],categories:t.map(e=>e.title.length>25?e.title.substring(0,25)+"...":e.title)}})(s);if(!n.series[0].data.length)return(0,r.jsx)("div",{className:"flex-1 p-6 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center text-gray-500",children:[(0,r.jsx)("p",{className:"text-lg font-medium",children:i("noDataAvailable")}),(0,r.jsx)("p",{className:"text-sm",children:i("noListingsFoundForTimeframe")})]})});let d=Math.max(...n.series[0].data);return(0,r.jsx)("div",{className:"flex-1 p-3 md:p-6",children:(0,r.jsx)(aP,{options:{chart:{type:"bar",height:300,toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800},responsive:[{breakpoint:768,options:{chart:{height:250}}}]},plotOptions:{bar:{horizontal:!0,borderRadius:4,dataLabels:{position:"top"}}},dataLabels:{enabled:!1},xaxis:{categories:n.categories,min:0,max:d<100?10*Math.ceil(d/10):100*Math.ceil(d/100),tickAmount:5,labels:{style:{fontSize:"12px",colors:"#6B7280"},showDuplicates:!1},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{fontSize:"10px",colors:"#6B7280"},maxWidth:150,formatter:function(e){return e.length>20?e.substring(0,20)+"...":e}}},grid:{xaxis:{lines:{show:!0,strokeDashArray:3}},yaxis:{lines:{show:!1}},padding:{top:0,right:0,bottom:0,left:0}},colors:["#087c7c"],tooltip:{y:{formatter:function(e){return"".concat(e)}},style:{fontSize:"12px"}}},series:n.series,type:"bar",height:300,width:"100%"})})},aF=e=>{let{appointmentData:t=[],selectedTimeframe:a,currentPage:s=1,onPageChange:l,isLoading:i=!1}=e,n=(0,o.m)(),d=Array.isArray(t)?t:t[a],c=Math.ceil((null==d?void 0:d.length)/5),m=(s-1)*5,u=m+5,p=null==d?void 0:d.slice(m,u),x=e=>{l&&l(e)};return i?(0,r.jsx)("div",{className:"flex-1 flex flex-col p-6",children:(0,r.jsx)("div",{className:"flex-1 overflow-hidden overflow-x-auto",children:(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{className:"flex mb-4",children:[(0,r.jsx)("div",{className:"flex-1 h-10 bg-gray-200 rounded mr-2"}),(0,r.jsx)("div",{className:"flex-1 h-10 bg-gray-200 rounded mr-2"}),(0,r.jsx)("div",{className:"flex-1 h-10 bg-gray-200 rounded mr-2"}),(0,r.jsx)("div",{className:"flex-1 h-10 bg-gray-200 rounded"})]}),Array.from({length:5}).map((e,t)=>(0,r.jsx)("div",{className:"flex items-center mb-3 p-3",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-md flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-100 rounded mb-2"}),(0,r.jsx)("div",{className:"h-3 bg-gray-100 rounded w-3/4"})]}),(0,r.jsx)("div",{className:"flex-1 h-4 bg-gray-100 rounded"}),(0,r.jsx)("div",{className:"flex-1 h-4 bg-gray-100 rounded"}),(0,r.jsx)("div",{className:"flex-1 h-4 bg-gray-100 rounded"})]})},t))]})})}):d&&0!==d.length?(0,r.jsxs)("div",{className:"flex-1 flex flex-col p-6",children:[(0,r.jsx)("div",{className:"flex-1 overflow-hidden overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"mb-4",children:[(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-sm first:rounded-l-xl last:rounded-r-xl primaryBackgroundBg",children:n("property")}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-sm primaryBackgroundBg",children:n("date")}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-sm primaryBackgroundBg",children:n("time")}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-sm first:rounded-l-xl last:rounded-r-xl primaryBackgroundBg",children:n("meetingType")})]})}),(0,r.jsx)("tbody",{children:null==p?void 0:p.map(e=>{var t,a,s,l,i;let n=(null===(t=e.property)||void 0===t?void 0:t.translated_title)?null===(a=e.property)||void 0===a?void 0:a.translated_title:null===(s=e.property)||void 0===s?void 0:s.title;return(0,r.jsxs)("tr",{className:"border-b border-gray-100 last:border-none",children:[(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-md flex-shrink-0 overflow-hidden",children:(0,r.jsx)(ee.Z,{src:null===(l=e.property)||void 0===l?void 0:l.title_image,alt:n,className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 text-sm truncate",children:n}),(0,r.jsx)("div",{className:"text-gray-500 text-xs truncate",children:null===(i=e.agent)||void 0===i?void 0:i.name})]})]})}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-gray-700",children:e.date}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-gray-700",children:(()=>{let t=e=>{let[t,a]=e.split(":"),r=parseInt(t);return"".concat(0===r?12:r>12?r-12:r,":").concat(a," ").concat(r>=12?"PM":"AM")};return"".concat(t(null==e?void 0:e.start_at)," - ").concat(t(null==e?void 0:e.end_at))})()}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-gray-700 capitalize",children:null==e?void 0:e.meeting_type})]},e.id)})})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-100",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[n("showing")," ",m+1," ",n("to")," ",Math.min(u,null==d?void 0:d.length)," ",n("of")," ",null==d?void 0:d.length," ",n("entries")]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{onClick:()=>{s>1&&l&&l(s-1)},disabled:1===s,className:"p-2 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,r.jsx)(U.bUI,{className:"w-4 h-4 text-gray-400"})}),Array.from({length:c},(e,t)=>t+1).map(e=>(0,r.jsx)("button",{onClick:()=>x(e),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors ".concat(s===e?"bg-gray-800 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e},e)),(0,r.jsx)("button",{onClick:()=>{s<c&&l&&l(s+1)},disabled:s===c,className:"p-2 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,r.jsx)(U.Dli,{className:"w-4 h-4 text-gray-400"})})]})]})]}):(0,r.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center p-6",children:(0,r.jsxs)("div",{className:"text-center text-gray-500",children:[(0,r.jsx)("p",{className:"text-lg font-medium",children:n("noDataAvailable")}),(0,r.jsx)("p",{className:"text-sm",children:n("noAppointmentsFound")})]})})},aI=e=>{let{chatData:t=[],isLoading:a=!1}=e,s=(0,o.m)(),l=e=>{let t=new Date(e),a=Math.floor((new Date-t)/36e5);if(a<1)return s("justNow");if(a<24)return"".concat(a," ").concat(s("hour")).concat(a>1?s("s"):""," ").concat(s("ago"));let r=Math.floor(a/24);if(r<7)return"".concat(r," ").concat(s("day")).concat(r>1?s("s"):""," ").concat(s("ago"));let l=Math.floor(r/7);return"".concat(l," ").concat(s("week")).concat(l>1?s("s"):""," ").concat(s("ago"))};return a?(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("div",{className:"space-y-4",children:Array.from({length:5}).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start gap-4 p-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full"})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-3/4"}),(0,r.jsx)("div",{className:"h-3 bg-gray-100 rounded w-full"})]}),(0,r.jsx)("div",{className:"flex items-center gap-2 flex-shrink-0",children:(0,r.jsx)("div",{className:"h-3 bg-gray-100 rounded w-12"})})]})})]},t))})}):t&&0!==t.length?(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t;let a=null===(t=e.property)||void 0===t?void 0:t.id,s=e.other_user,i=null==s?void 0:s.id;return(0,r.jsxs)(p.Z,{href:"/user/chat?propertyId=".concat(a,"&userId=").concat(i),className:"flex items-start gap-4 p-3 hover:bg-gray-50 rounded-lg transition-colors cursor-pointer",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full overflow-hidden",children:(0,r.jsx)(ee.Z,{src:null==s?void 0:s.profile,alt:null==s?void 0:s.name,className:"w-full h-full object-cover"})})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"font-semibold text-gray-900 text-sm mb-1",children:null==s?void 0:s.name}),(0,r.jsxs)("div",{className:"text-gray-600 text-sm line-clamp-1",children:[e.last_message," "]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.unread_count>0&&(0,r.jsx)("div",{className:"w-5 h-5 primaryBg text-white text-xs rounded-full flex items-center justify-center font-medium",children:e.unread_count}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[l(e.last_message_time)," "]})]})]})})]},e.id)})})}):(0,r.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center p-6",children:(0,r.jsxs)("div",{className:"text-center text-gray-500",children:[(0,r.jsx)("p",{className:"text-lg font-medium",children:s("noDataAvailable")}),(0,r.jsx)("p",{className:"text-sm",children:s("noMessagesFound")})]})})},aE=e=>{var t;let{title:a,filterOptions:s=[],selectedFilter:l,onFilterChange:i,tabs:n=[],selectedTab:d,onTabChange:c,children:m,className:u="",showFilter:x=!0,showTabs:h=!1,showActions:g=!1}=e,f=(0,o.m)();return(0,r.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 h-full flex flex-col ".concat(u),children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap sm:items-center justify-between p-4 md:p-6 border-b border-gray-100 gap-3 sm:gap-4",children:[(0,r.jsx)("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:a}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[x&&s.length>0&&(0,r.jsxs)(eR.Ph,{value:l,onValueChange:i,children:[(0,r.jsx)(eR.i4,{className:"w-full sm:w-40 bg-gray-100 hover:bg-gray-200 border-gray-200",children:(0,r.jsx)(eR.ki,{placeholder:f("selectFilter"),children:l?(null===(t=s.find(e=>e.value===l))||void 0===t?void 0:t.label)||l:f("selectFilter")})}),(0,r.jsx)(eR.Bw,{children:s.map(e=>(0,r.jsx)(eR.Ql,{value:e.value,children:e.label},e.value))})]}),h&&n.length>0&&(0,r.jsx)("div",{className:"flex border rounded-lg p-1 w-full sm:w-auto",children:n.map(e=>(0,r.jsxs)("button",{onClick:()=>c(e.value),className:"flex items-center justify-center gap-1 sm:gap-2 px-2 sm:px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors flex-1 sm:flex-none ".concat(d===e.value?"bg-black text-white shadow-sm":""),children:[e.icon&&(0,r.jsx)(e.icon,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:e.label}),(0,r.jsx)("span",{className:"sm:hidden",children:e.label.split(" ")[0]})]},e.value))}),g&&(0,r.jsxs)(p.Z,{href:"/user/chat",className:"flex items-center justify-center gap-2 border border-black rounded-lg py-2 px-3 sm:px-4 text-sm sm:text-base font-medium w-full sm:w-auto",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:f("viewAllMessages")}),(0,r.jsx)("span",{className:"sm:hidden",children:f("viewAll")}),(0,r.jsx)(U.Z1Y,{size:16,className:"sm:w-5 sm:h-5"})]})]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-hidden",children:m})]})},aR=a(72913),aL=()=>{var e,t;let a=(0,o.m)(),i=null===(t=aR.h.getState())||void 0===t?void 0:null===(e=t.User)||void 0===e?void 0:e.data,n=(0,s.useRouter)(),{locale:d}=null==n?void 0:n.query,[c,p]=(0,l.useState)({summeryData:null,listingsData:null,mostViewedCategoryData:null,mostViewedListingData:null,appointmentsData:null,chatData:null}),[x,h]=(0,l.useState)([]),[g,f]=(0,l.useState)(null),[v,y]=(0,l.useState)({summary:!0,listings:!0,categoryView:!0,mostViewed:!0,appointments:!0,chats:!0,activeSubscriptions:!0}),j="yearly",b="property",[N,w]=(0,l.useState)({propertyProject:j,categoryView:j,activeSubscription:null,mostViewed:j,mostViewedTab:b,propertyProjectTab:b,appointments:j}),[_,C]=(0,l.useState)(0),[k,S]=(0,l.useState)(1),B=async()=>{try{y(e=>({...e,summary:!0,chats:!0}));let e=await (0,m.MR)();(null==e?void 0:e.data)&&p(t=>{var a;return{...t,summeryData:e.data,chatData:null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.chats}})}catch(e){console.error(a("errorFetchingDashboardData"),e)}finally{y(e=>({...e,summary:!1,chats:!1}))}},A=async()=>{try{y(e=>({...e,listings:!0}));let e=await (0,m.Qc)({type:N.propertyProjectTab,range:N.propertyProject});(null==e?void 0:e.data)&&p(t=>({...t,listingsData:e.data}))}catch(e){console.error(a("errorFetchingDashboardListings"),e)}finally{y(e=>({...e,listings:!1}))}},D=async()=>{try{y(e=>({...e,categoryView:!0}));let e=await (0,m.DD)({range:N.categoryView});(null==e?void 0:e.data)&&p(t=>({...t,mostViewedCategoryData:e.data}))}catch(e){console.error(a("errorFetchingDashboardMostViewedCategory"),e)}finally{y(e=>({...e,categoryView:!1}))}},P=async()=>{try{y(e=>({...e,activeSubscriptions:!0}));let e=await (0,m.$m)();if((null==e?void 0:e.data)&&e.data.length>0){let t=e.data.map(e=>({value:e.id.toString(),label:e.translated_name||e.name}));h(t),f(e.data),N.activeSubscription||w(e=>({...e,activeSubscription:t[0].value}))}}catch(e){console.error(a("errorFetchingDashboardActivePackages"),e)}finally{y(e=>({...e,activeSubscriptions:!1}))}},T=async()=>{try{y(e=>({...e,mostViewed:!0}));let e=await (0,m.cA)({type:N.mostViewedTab,range:N.mostViewed});(null==e?void 0:e.data)&&p(t=>({...t,mostViewedListingData:e.data}))}catch(e){console.error(a("errorFetchingDashboardMostViewedListing"),e)}finally{y(e=>({...e,mostViewed:!1}))}},F=async()=>{try{y(e=>({...e,appointments:!0}));let e=await (0,m.rK)({range:N.appointments,offset:((k-1)*5).toString(),limit:"5"});(null==e?void 0:e.data)&&p(t=>({...t,appointmentsData:e.data}))}catch(e){console.error(a("errorFetchingDashboardAppointments"),e)}finally{y(e=>({...e,appointments:!1}))}};(0,l.useEffect)(()=>{B(),P()},[d]),(0,l.useEffect)(()=>{A()},[N.propertyProject,N.propertyProjectTab,d]),(0,l.useEffect)(()=>{D()},[N.categoryView,d]),(0,l.useEffect)(()=>{T()},[N.mostViewed,N.mostViewedTab,d]),(0,l.useEffect)(()=>{F()},[N.appointments,k,d]),(0,l.useEffect)(()=>{S(1)},[N.appointments,d]);let I=[{value:"weekly",label:a("thisWeek")},{value:"monthly",label:a("thisMonth")},{value:"yearly",label:a("thisYear")}],E=[{value:"property",label:a("property"),icon:U.xng},{value:"project",label:a("projects"),icon:U.mGS}];return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h1",{className:"text-xl md:text-2xl font-semibold mb-4 md:mb-6",children:a("myDashboard")}),(0,r.jsx)("div",{className:"bg-transparent",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 md:gap-6",children:[(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(au,{userName:null==i?void 0:i.name})}),(0,r.jsx)("div",{className:"w-full",children:v.summary?(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[(0,r.jsx)(u.O,{className:"h-48 md:h-56 rounded-lg"}),(0,r.jsx)(u.O,{className:"h-48 md:h-56 rounded-lg"}),(0,r.jsx)(u.O,{className:"h-48 md:h-56 rounded-lg"}),(0,r.jsx)(u.O,{className:"h-48 md:h-56 rounded-lg"})]}):(0,r.jsx)(aj,{dashboardData:c.summeryData})})]})}),(0,r.jsx)("div",{className:"grid-cols-1",children:(0,r.jsx)(ab,{})}),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(aE,{title:a("propertyProjectAnalytics"),filterOptions:I,selectedFilter:N.propertyProject,onFilterChange:e=>w(t=>({...t,propertyProject:e})),showFilter:!0,showTabs:!0,tabs:E,selectedTab:N.propertyProjectTab,onTabChange:e=>w(t=>({...t,propertyProjectTab:e})),children:(0,r.jsx)(aw,{selectedTimeframe:N.propertyProject,selectedType:N.propertyProjectTab,listingsData:c.listingsData,isLoading:v.listings})})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 md:gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-5",children:(0,r.jsx)(aE,{title:a("categoryViews"),filterOptions:I,selectedFilter:N.categoryView,onFilterChange:e=>w(t=>({...t,categoryView:e})),showFilter:!0,showTabs:!1,children:(0,r.jsx)(aS,{selectedTimeframe:N.categoryView,categoryData:c.mostViewedCategoryData,isLoading:v.categoryView})})}),(0,r.jsx)("div",{className:"lg:col-span-7",children:(0,r.jsx)(aE,{title:a("activeSubscriptions"),filterOptions:x||[],selectedFilter:N.activeSubscription,onFilterChange:e=>w(t=>({...t,activeSubscription:e})),showFilter:x&&x.length>0,showTabs:!1,children:(0,r.jsx)(aD,{selectedPlan:N.activeSubscription,activeSubscriptionsData:g||[],isLoading:v.activeSubscriptions})})})]}),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(aE,{title:a("mostViewedListings"),filterOptions:I,selectedFilter:N.mostViewed,onFilterChange:e=>w(t=>({...t,mostViewed:e})),tabs:E,selectedTab:N.mostViewedTab,onTabChange:e=>w(t=>({...t,mostViewedTab:e})),showFilter:!0,showTabs:!0,children:(0,r.jsx)(aT,{selectedTimeframe:N.mostViewed,selectedView:N.mostViewedTab,mostViewedData:c.mostViewedListingData,isLoading:v.mostViewed})})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 md:gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-7",children:(0,r.jsx)(aE,{title:a("appointments"),filterOptions:I,selectedFilter:N.appointments,onFilterChange:e=>w(t=>({...t,appointments:e})),showFilter:!0,showTabs:!1,children:(0,r.jsx)(aF,{appointmentData:c.appointmentsData||[],selectedTimeframe:N.appointments,currentPage:k,onPageChange:e=>{S(e)},isLoading:v.appointments})})}),(0,r.jsx)("div",{className:"lg:col-span-5",children:(0,r.jsx)(aE,{title:a("messages"),showFilter:!1,showTabs:!1,showActions:!0,children:(0,r.jsx)(aI,{chatData:(null==c?void 0:c.chatData)||[],userId:null==i?void 0:i.id,isLoading:v.chats})})})]})]})},aM=()=>{let e=(0,o.m)(),t=(0,s.useRouter)(),{locale:a}=null==t?void 0:t.query,[i,n]=(0,l.useState)("upcoming"),[d,c]=(0,l.useState)(0),[u,p]=(0,l.useState)([]),[x,h]=(0,l.useState)(0),[g,f]=(0,l.useState)(!1),[y,b]=(0,l.useState)(!1),[w,_]=(0,l.useState)(null),[C,k]=(0,l.useState)(!1),S=(0,N.v9)(e=>{var t;return null===(t=e.User)||void 0===t?void 0:t.data}),B=null==S?void 0:S.is_agent,A=(0,l.useCallback)(e=>{let t=e.reduce((e,t)=>{let a=t.date;return e[a]||(e[a]=[]),e[a].push(t),e},{});return Object.keys(t).forEach(e=>{t[e].sort((e,t)=>new Date(e.start_at).getTime()-new Date(t.start_at).getTime())}),t},[])(u),D=Object.keys(A).sort((e,t)=>new Date(e)-new Date(t)),P=(0,l.useCallback)(e=>{c((e-1)*10)},[10]),T=(0,l.useCallback)(async()=>{f(!0);try{let e=B?m.ig:m.ex,t=await e({offset:d,limit:10,date_filter:i});(null==t?void 0:t.error)===!1&&(null==t?void 0:t.data)?(p(t.data),h((null==t?void 0:t.total)||0)):(p([]),h(0))}catch(e){console.error("Error fetching appointments:",e),p([]),h(0)}finally{f(!1)}},[B,d,10,i,a]),F=(0,l.useCallback)(e=>{b(!0),_(e)},[]),I=(0,l.useCallback)(()=>{b(!1),_(null)},[]),E=(0,l.useCallback)(async e=>{try{let t=await (0,m.pF)({appointment_id:w,status:"cancelled",reason:e});(null==t?void 0:t.error)===!1&&(null==t?void 0:t.data)&&(I(),T())}catch(e){console.error("Error cancelling appointment:",e)}},[w,T,I]),R=(0,l.useCallback)(async e=>{try{let t=await (0,m.pF)({appointment_id:e.id,status:"confirmed"});!(null==t?void 0:t.error)&&(null==t?void 0:t.data)&&T()}catch(e){console.error("Error accepting appointment:",e)}},[T]),L=(0,l.useCallback)(e=>{k(!C)},[C]);(0,l.useEffect)(()=>{T()},[T]);let M=t=>{let a="upcoming"===t?e("noUpcomingAppointments"):e("noPreviousAppointments");return(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[D.map(t=>{let a=A[t];return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("div",{className:"flex flex-col gap-2 py-4 px-6 primaryBackgroundBg rounded-lg border newBorder",children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-sm font-medium brandColor opacity-75",children:e("date")}),(0,r.jsx)("span",{className:"brandColor opacity-75",children:"-"}),(0,r.jsx)("h3",{className:"text-base font-bold brandColor",children:(0,v.L0)(t,e)})]})})}),(0,r.jsx)("div",{className:"flex flex-col gap-4",children:a.map(e=>(0,r.jsx)(tq,{appointment:e,isAgent:B,onCancel:F,onViewDetails:L,onAccept:R,activeTab:i,refetchData:T,isRequestedAppointment:!0},e.id))})]},t)}),0===u.length&&(0,r.jsx)("div",{className:"flex flex-col items-center justify-center py-12",children:(0,r.jsx)("p",{className:"brandColor opacity-75 text-lg",children:a})}),u.length>0&&(0,r.jsx)(j,{currentPage:Math.floor(d/10)+1,totalItems:x,itemsPerPage:10,onPageChange:P,isLoading:g,translations:{showing:e("showing"),to:e("to"),of:e("of"),entries:e("entries")}})]})};return(0,r.jsxs)("div",{className:"flex flex-col ",children:[(0,r.jsx)("div",{className:"pt-2 pb-7 brandColor font-bold text-2xl",children:e("myAppointments")}),(0,r.jsx)("div",{className:"flex bg-white h-full px-4",children:(0,r.jsxs)(tk.mQ,{value:i,onValueChange:n,className:"w-full bg-white",children:[(0,r.jsx)("div",{className:"border-b newBorderColor overflow-x-auto",children:(0,r.jsxs)(tk.dr,{className:"w-full h-auto bg-transparent p-0 gap-7 rounded-none justify-start",children:[(0,r.jsx)(tk.SP,{value:"upcoming",className:"p-3 rounded-none border-b-2 border-transparent data-[state=active]:primaryBorderColor data-[state=active]:bg-transparent bg-transparent hover:bg-transparent transition-colors !shadow-none",children:(0,r.jsx)("span",{className:"text-sm sm:text-base font-manrope whitespace-nowrap ".concat("upcoming"===i?"font-bold primaryColor":"font-medium brandColor"),children:e("upcoming")})}),(0,r.jsx)(tk.SP,{value:"previous",className:"p-3 rounded-none border-b-2 border-transparent data-[state=active]:primaryBorderColor data-[state=active]:bg-transparent bg-transparent hover:bg-transparent transition-colors !shadow-none",children:(0,r.jsx)("span",{className:"text-sm sm:text-base font-manrope whitespace-nowrap ".concat("previous"===i?"font-bold primaryColor":"font-medium brandColor"),children:e("previous")})})]})}),(0,r.jsx)(tk.nU,{value:"upcoming",children:M("upcoming")}),(0,r.jsx)(tk.nU,{value:"previous",children:M("previous")})]})}),y&&(0,r.jsx)(tP,{isOpen:y,onClose:I,appointmentId:w,actionType:"cancel",title:"cancelAppointment",warningText:"cancelAppointmentWarning",submitButtonText:"confirmCancelAppointment",submitButtonColor:"bgRed",initialReason:"",showWarning:!0,isRequired:!0,handleSubmit:E})]})},aZ=a(53870),az=e=>{let{open:t,onOpenChange:a,propertyId:s,propertyType:i,onStatusChanged:n}=e,d=(0,o.m)(),[c,u]=(0,l.useState)();(0,l.useEffect)(()=>{"sell"===i?u(2):"rent"===i?u(3):"rented"===i&&u(1)},[i]);let p=async()=>{try{let e=await (0,m.Hz)({property_id:s,status:c});(null==e?void 0:e.error)?V.ZP.error(d(null==e?void 0:e.message)||d("failedToUpdateStatus")):(n&&n(),a(!1),V.ZP.success(d(e.message)||d("statusUpdatedSuccessfully")))}catch(e){console.error(e),V.ZP.error(d(null==e?void 0:e.message)||d("failedToUpdateStatus"))}};return(0,r.jsx)(eN.Vq,{open:t,onOpenChange:a,children:(0,r.jsxs)(eN.cZ,{className:"sm:max-w-md [&>button]:hidden p-0",children:[(0,r.jsxs)(eN.fK,{className:"flex flex-row justify-between items-center border-b p-4",children:[(0,r.jsx)(eN.$N,{className:"text-2xl",children:d("changeStatus")}),(0,r.jsxs)("button",{className:"h-9 w-9 flex items-center justify-center rounded-full primaryTextColor secondaryTextBg cursor-pointer focus:outline-none",children:[(0,r.jsx)(aZ.qFC,{className:"h-7 w-7",onClick:()=>a(!1)}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,r.jsx)(eN.Be,{className:"sr-only",children:"Change Status"})]}),(0,r.jsx)("div",{className:"flex items-center justify-between gap-8 p-5 mx-auto",children:"sell"===i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"primaryTextColor primaryBg px-7 py-2.5 rounded-lg text-lg",children:d("sell")}),(0,r.jsx)(U.hPV,{size:25,className:"text-black"}),(0,r.jsx)("div",{className:"primaryTextColor primaryBg px-7 py-2.5 rounded-lg text-lg",children:d("sold")})]}):"rent"===i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"primaryTextColor primaryBg px-7 py-2.5 rounded-lg text-lg",children:d("rent")}),(0,r.jsx)(U.hPV,{size:25,className:"text-black"}),(0,r.jsx)("div",{className:"primaryTextColor primaryBg px-7 py-2.5 rounded-lg text-lg",children:d("rented")})]}):"rented"===i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"primaryTextColor primaryBg px-7 py-2.5 rounded-lg text-lg",children:d("rented")}),(0,r.jsx)(U.hPV,{size:25,className:"text-black"}),(0,r.jsx)("div",{className:"primaryTextColor primaryBg px-7 py-2.5 rounded-lg text-lg",children:d("rent")})]}):null}),(0,r.jsxs)("div",{className:"p-4 flex justify-between sm:justify-between",children:[(0,r.jsx)(eN.GG,{asChild:!0,children:(0,r.jsx)("button",{className:"border border-black p-2.5 w-1/2 m-1 rounded-md",children:d("cancel")})}),(0,r.jsx)("button",{className:"primaryBg text-white p-2.5 w-1/2 m-1 rounded-md",onClick:p,children:d("change")})]})]})})};let aO=e=>{let{itemLength:t}=e;return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{className:"bg-gray-50 border-y",children:(0,r.jsx)("div",{className:"grid grid-cols-8 px-6 py-4",children:["w-32","w-24","w-24","w-24","w-24","w-24","w-24","w-16"].map((e,t)=>(0,r.jsx)(u.O,{className:"h-4 ".concat(e)},t))})}),[...Array(Number(t))].map((e,t)=>(0,r.jsx)("div",{className:"border-b px-6 py-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-8 gap-4 items-center",children:[(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.O,{className:"h-4 w-16"}),(0,r.jsx)(u.O,{className:"h-3 w-12"})]})}),(0,r.jsx)(u.O,{className:"h-4 w-24"}),(0,r.jsx)(u.O,{className:"h-6 w-16 rounded-full"}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(u.O,{className:"h-8 w-8 rounded-full"})}),(0,r.jsx)(u.O,{className:"h-6 w-20 rounded-full"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,r.jsx)(u.O,{className:"h-6 w-12 rounded-full"}),(0,r.jsx)(u.O,{className:"h-4 w-16"})]}),(0,r.jsx)(u.O,{className:"h-4 w-20"}),(0,r.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,r.jsx)(u.O,{className:"h-8 w-8 rounded-md"}),(0,r.jsx)(u.O,{className:"h-8 w-8 rounded-md"})]})]})},t))]})};var aU=()=>{let e=(0,o.m)(),t=(0,s.useRouter)(),{locale:a}=null==t?void 0:t.query,d=(0,v.dZ)(),u=(0,N.v9)(e=>{var t;return null===(t=e.User)||void 0===t?void 0:t.data}),x=(0,N.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),h=(0,N.v9)(e=>{var t;return null===(t=e.WebSetting)||void 0===t?void 0:t.data});null==h||h.verification_status;let[g,f]=(0,l.useState)(!1),[y,w]=(0,l.useState)(!1),[_,B]=(0,l.useState)(null),[A,D]=(0,l.useState)([]),[P,E]=(0,l.useState)(0),[Z,W]=(0,l.useState)(0),[Y,Q]=(0,l.useState)(0),[J,G]=(0,l.useState)(!1),$=(a,r)=>{if(a.preventDefault(),!0===h.demo_mode&&(null==u?void 0:u.is_demo_user))return H().fire({title:e("oops"),text:e("notAllowdDemo"),icon:"warning",showCancelButton:!1,customClass:{confirmButton:"Swal-buttons"},confirmButtonText:e("ok")}),!1;(0,v.wo)(a,K.i.PROPERTY_FEATURE,t,r,null,null,null,e)},X=()=>{console.error("Image error handled")},ee=e=>{B(e),w(!0)},et=async()=>{try{J||f(!0);let e=await (0,m.IC)({limit:"8",offset:P.toString()});(null==e?void 0:e.error)||(D(null==e?void 0:e.data),W(null==e?void 0:e.total),Q(null==e?void 0:e.total_views))}catch(e){console.error("Error in fetching properties",e)}finally{f(!1),G(!1)}};(0,l.useEffect)(()=>{et()},[P,x]);let ea=async(t,a)=>{if(!0===h.demo_mode&&(null==u?void 0:u.is_demo_user))return H().fire({title:e("oops"),text:e("notAllowdDemo"),icon:"warning",showCancelButton:!1,customClass:{confirmButton:"Swal-buttons"},confirmButtonText:e("ok")}),!1;try{f(!0);let r=await (0,m.PQ)({property_id:t,status:1===a?0:1});(null==r?void 0:r.error)?V.ZP.error((null==r?void 0:r.message)||e("failedToUpdateStatus")):(V.ZP.success(e("statusUpdatedSuccessfully")),et())}catch(t){f(!1),V.ZP.error(e("failedToUpdateStatus"))}},er=async t=>{if(!0===h.demo_mode&&(null==u?void 0:u.is_demo_user))return H().fire({title:e("oops"),text:e("notAllowdDemo"),icon:"warning",showCancelButton:!1,customClass:{confirmButton:"Swal-confirm-buttons",cancelButton:"Swal-cancel-buttons"},confirmButtonText:e("ok")}),!1;H().fire({icon:"warning",title:e("areYouSure"),text:e("youWantToDeleteProperty"),customClass:{confirmButton:"Swal-confirm-buttons"}}).then(e=>{e.isConfirmed&&es(t)})},es=async t=>{try{f(!0);let a=await (0,m.gq)({id:t});(null==a?void 0:a.error)?V.ZP.error(e(null==a?void 0:a.message)||e("failedToDeleteProperty")):(V.ZP.success(e(null==a?void 0:a.message)),et())}catch(t){console.error("Error in deleting property",t),V.ZP.error(e(null==t?void 0:t.message)||e("failedToDeleteProperty"))}finally{f(!1)}},el=e=>{t.push("/".concat(a,"/user/edit-property/").concat(e))},ei=[{header:e("property"),accessor:"title",align:d?"right":"left",renderCell:t=>(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"relative p-3",children:[(0,r.jsx)("div",{className:"h-16 w-16 rounded-md overflow-hidden bg-gray-100",children:(0,r.jsx)(c(),{src:t.title_image,alt:t.title,width:60,height:60,className:"object-cover h-full w-full",onError:X})}),t.is_premium&&(0,r.jsx)(S.pn,{children:(0,r.jsxs)(S.u,{children:[(0,r.jsx)(S.aJ,{asChild:!0,children:(0,r.jsx)("span",{className:"absolute top-4 left-3 text-white text-xs px-1 rounded",children:(0,r.jsx)(c(),{src:q.Z,alt:"Premium",width:20,height:20})})}),(0,r.jsx)(S._v,{sideOffset:8,children:(0,r.jsx)("p",{children:e("premiumProperty")})})]})})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{className:"font-medium rtl:text-start",children:(0,v.$G)(t.translated_title||t.title,25)}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[(null==t?void 0:t.promoted)?(0,r.jsx)("span",{className:"primaryColor font-bold flex items-center",children:e("featured")}):null,(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-2",children:[(0,r.jsxs)("span",{className:"rtl:text-start",children:[t.city,", ",t.state,", ",t.country]}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:t.total_click>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.z5B,{className:"",size:12})," ",t.total_click]})})]})]})]})]})},{header:e("propertyType"),accessor:"category.category",align:"center",renderCell:e=>{var t,a;return(0,r.jsx)("span",{className:"capitalize px-3 py-1.5 rounded-lg text-sm",children:(null===(t=e.category)||void 0===t?void 0:t.translated_name)||(null===(a=e.category)||void 0===a?void 0:a.category)})}},{header:e("rentSale"),accessor:"property_type",align:"center",renderCell:t=>(0,r.jsx)("span",{className:"capitalize px-3 py-1.5 rounded-lg text-sm ".concat("sell"===t.property_type?"primarySellText primarySellBg":"primaryRentText primaryRentBg"),children:e(t.property_type)})},{header:e("interestedUsers"),accessor:"interested_users",align:"center",renderCell:e=>(0,r.jsx)(p.Z,{href:"/user/interested/".concat(e.slug_id),children:e.interested_users&&e.interested_users.length>0?(0,r.jsxs)("div",{className:"flex justify-center overflow-hidden",children:[e.interested_users.slice(0,3).map((e,t)=>{var a;return(0,r.jsxs)(C.qE,{className:"border-2 border-white w-8 h-8",children:[(0,r.jsx)(C.F$,{src:(null==e?void 0:e.profile)||"",alt:(null==e?void 0:e.name)||"User ".concat((null==e?void 0:e.id)+1)}),(0,r.jsx)(C.Q5,{children:(null==e?void 0:e.name)?null==e?void 0:null===(a=e.name)||void 0===a?void 0:a.charAt(0):"U"})]},null==e?void 0:e.id)}),e.interested_users.length>3&&(0,r.jsxs)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-200 border-2 border-white text-xs",children:["+",e.interested_users.length-3]})]}):(0,r.jsx)("span",{className:"text-xs",children:"-"})})},{header:e("adminStatus"),accessor:"request_status",align:"center",renderCell:t=>{var a;return(0,r.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,v.u1)(t.request_status,e),"rejected"===t.request_status&&(0,r.jsx)(v._r,{reason:null==t?void 0:null===(a=t.reject_reason)||void 0===a?void 0:a.reason,t:e})]})}},{header:e("propertyStatus"),accessor:"status",align:"center",renderCell:t=>(0,r.jsxs)("div",{className:"flex justify-center items-center gap-1",children:[(0,r.jsx)(k.r,{checked:1===t.status&&(null==t?void 0:t.request_status)!=="pending",onCheckedChange:()=>ea(t.id,t.status),disabled:"pending"===t.request_status||"rejected"===t.request_status,className:"".concat(1===t.status&&(null==t?void 0:t.request_status)!=="pending"?"!primaryBg":"!bg-[#28252566]"," rounded-[100px] h-4 w-8 transition-colors duration-300 sm:h-5 sm:w-10 [&>span]:h-2.5 [&>span]:w-2.5 ").concat(d?"data-[state=checked]:[&>span]:-translate-x-4":"data-[state=checked]:[&>span]:translate-x-4"," sm:[&>span]:h-3 sm:[&>span]:w-3 ").concat(d?"sm:data-[state=checked]:[&>span]:-translate-x-5":"sm:data-[state=checked]:[&>span]:translate-x-5")}),(0,r.jsx)("span",{className:"ml-2 text-sm ".concat(1===t.status&&(null==t?void 0:t.request_status)!=="pending"?"primaryColor":"secondryTextColor"," capitalize"),children:1===t.status&&(null==t?void 0:t.request_status)!=="pending"?e("active"):e("deactive")})]})},{header:e("price"),accessor:"price",align:"center",renderCell:e=>(0,v.ze)(e.price)},{header:e("action"),accessor:"id",align:"center",renderCell:(s,l,i)=>{let o=l===A.length-1,c=A.length;return(0,r.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,r.jsx)(n.z,{size:"sm",variant:"outline",className:"bg-transparent h-8 w-8 p-0",onClick:()=>t.push("/".concat(a,"/my-property/").concat(s.slug_id)),children:(0,r.jsx)(b.FpO,{className:"h-4 w-4"})}),(0,r.jsx)(T,{className:"\n                        ".concat(d?"[&_div:nth-child(2)]:!left-5 [&_div:nth-child(2)]:!right-auto":"[&_div:nth-child(2)]:!right-5 [&_div:nth-child(2)]:!left-auto","\n                        [&_div:nth-child(2)>div]:!z-[9999]\n                        [&_div:nth-child(2)>div]:!bg-white\n                        [&_div:nth-child(2)>div]:!shadow-lg\n                        [&_div:nth-child(2)>div]:!border\n                        [&_div:nth-child(2)>div]:!rounded-lg\n                        ").concat(1===c?"[&_div:nth-child(2)]:!-bottom-[30px] [&_div:nth-child(2)]:!top-auto":"","\n                        ").concat(o&&c>1?"[&_div:nth-child(2)]:!bottom-[40px] [&_div:nth-child(2)]:!top-auto":"","\n                        ").concat(0===l&&c>1?"[&_div:nth-child(2)]:!top-0 [&_div:nth-child(2)]:!bottom-auto":"","\n                    "),children:(0,r.jsx)(F,{children:(0,r.jsxs)(I,{children:[(0,r.jsx)(R,{className:"primaryRentBg  primaryRentText  [&_svg.lucide]:hidden  hover:primaryRentBg  data-[state=open]:!primaryRentBg  data-[state=open]:!primaryRentText  hover:primaryRentText  data-[state=active]:!primaryRentBg  data-[state=active]:!primaryRentText  p-3  focus:primaryRentBg focus:primaryRentText ",children:(0,r.jsx)(O.FQA,{className:"h-4 w-4"})}),(0,r.jsxs)(L,{className:"grid !w-[150px] gap-1 relative z-[9999] !max-w-[150px] !min-w-[150px]",children:["pending"!==s.request_status&&(null==s?void 0:s.property_type)!=="sold"&&(0,r.jsxs)(M,{className:"rtl:text-start px-3 py-2 flex justify-start items-center gap-2 bg-white hover:primaryBgLight hover:primaryColor hover:cursor-pointer",onClick:()=>el(null==s?void 0:s.slug_id),children:[(0,r.jsx)(z.$iz,{}),e("edit")]}),"pending"!==s.request_status&&(null==s?void 0:s.is_feature_available)?(0,r.jsxs)(M,{onClick:e=>$(e,null==s?void 0:s.id),className:"rtl:text-start px-3 py-2 flex justify-start items-center gap-2 bg-white hover:primaryBgLight hover:primaryColor hover:cursor-pointer",children:[(0,r.jsx)(U.CvY,{}),e("featured")]},"feature"):null,"pending"!==s.request_status&&1===s.status&&"sold"!==s.property_type?(0,r.jsxs)(M,{className:"rtl:text-start px-3 py-2 flex justify-start items-center gap-2 bg-white hover:primaryBgLight hover:primaryColor hover:cursor-pointer",onClick:()=>ee(s),children:[(0,r.jsx)(b.xh0,{}),e("changeStatus")]}):null,(0,r.jsxs)(M,{className:"rtl:text-start px-3 py-2 flex justify-start items-center gap-2 bg-white hover:primaryBgLight hover:primaryColor hover:cursor-pointer",onClick:()=>er(null==s?void 0:s.id),children:[(0,r.jsx)(b.F1H,{}),e("delete")]})]})]})})})]})}}];return(0,r.jsxs)("div",{className:"space-y-4 p-2 md:p-0",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:e("myProperties")}),(0,r.jsx)("div",{className:"col-span-12 my-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg overflow-visible",children:[g||J?(0,r.jsx)(aO,{itemLength:8}):(0,r.jsx)(i.Z,{parentClassName:"rounded-tl-xl rounded-tr-xl overflow-x-auto [&>div]:overflow-x-auto",columns:ei,data:A,loading:!1,emptyMessage:e("noDataAvailable")}),!g&&!J&&Z>8&&(0,r.jsx)("div",{className:"transition-opacity duration-200 ".concat(J?"opacity-50":"opacity-100"),children:(0,r.jsx)(j,{currentPage:Math.floor(P/8)+1,totalItems:Z,itemsPerPage:8,onPageChange:e=>{G(!0),E((e-1)*8)},isLoading:J,translations:{showing:e("showing"),to:e("to"),of:e("of"),entries:e("entries")}})})]})}),_&&(0,r.jsx)(az,{open:y,onOpenChange:w,propertyId:_.id,propertyType:_.property_type,onStatusChanged:et})]})},aq=e=>{let{notificationData:t}=e,{slug:a=[]}=(0,s.useRouter)().query,l=Array.isArray(a)?a:[a],i=l[0],n=l.slice(1),o={dashboard:aL,advertisement:_,properties:aU,projects:Q,favourites:X,chat:e_,profile:eI,"personalize-feed":eZ,notifications:eU,subscription:e7,"transaction-history":ts,"verification-form":tl,"add-property":tv,"edit-property":ty,"add-project":t_,"edit-project":tC,interested:tW,bookings:aM,"appointment-settings":ac,"requested-bookings":tV}[i];return o?(0,r.jsx)(o,{params:n,notificationData:t}):null}},67631:function(e,t,a){a.d(t,{a:function(){return s}});var r=a(67294);function s(e){let[t,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{function t(e){a(e.matches)}let r=window.matchMedia(e);return r.addEventListener("change",t),a(r.matches),()=>r.removeEventListener("change",t)},[e]),t}},14003:function(e,t,a){a.d(t,{d:function(){return s}});var r=a(67294);function s(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}},38343:function(e,t,a){a.d(t,{n:function(){return s}});var r=a(45007);let s=()=>!!(0,r.v9)(e=>e&&e.User?e.User.jwtToken:null)},784:function(e,t,a){a.d(t,{Hp:function(){return d},Kf:function(){return l},Uf:function(){return i},ZY:function(){return g},b1:function(){return m},em:function(){return x},gU:function(){return p},hS:function(){return s},j_:function(){return c},kW:function(){return f},kz:function(){return o},ny:function(){return y},pU:function(){return u},wK:function(){return r},xh:function(){return n},zX:function(){return j}});let r=e=>{var t,a;let[r,s]=null===(a=String(e))||void 0===a?void 0:null===(t=a.split(":"))||void 0===t?void 0:t.map(Number);return 60*r+s},s=e=>"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat(Math.floor(e%60).toString().padStart(2,"0")),l=e=>{var t,a,r;let[s,l]=null===(a=String(e))||void 0===a?void 0:null===(t=a.split(":"))||void 0===t?void 0:t.map(Number);return"".concat(0===s?12:s>12?s-12:s,":").concat(null==l?void 0:null===(r=l.toString())||void 0===r?void 0:r.padStart(2,"0")," ").concat(s>=12?"PM":"AM")},i=e=>{if(!e||!Array.isArray(e))return console.error("No schedules provided or invalid format"),{};let t=e.reduce((e,t)=>{var a,r;let s=t.day_of_week||t.day;if(!s)return console.warn("Schedule missing day information:",t),e;e[s]||(e[s]=[]);let l={id:t.id,start:(null===(a=t.start_time)||void 0===a?void 0:a.slice(0,5))||t.start_time,end:(null===(r=t.end_time)||void 0===r?void 0:r.slice(0,5))||t.end_time};return e[s].push(l),e},{});return Object.keys(t).forEach(e=>{t[e].sort((e,t)=>r(e.start)-r(t.start))}),t};function n(e){return["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e.getDay()]}function o(e,t,a){if(!t)return[];let r=n(e);return a.filter(e=>e.day_of_week.toLowerCase()===r&&1===e.is_active)}function d(e,t,a){if(!t)return[];let r=e.toISOString().split("T")[0];return a.filter(e=>e.date===r)}let c=(e,t)=>e&&Array.isArray(e)&&t?e.filter(e=>e.date===t):[],m=e=>{if(!e||0===e.length)return"";if(1===e.length){let t=e[0],a=l(t.start_time),r=l(t.end_time);return"".concat(a," to ").concat(r)}{let t=[...e].sort((e,t)=>e.start_time.localeCompare(t.start_time)),a=l(t[0].start_time),r=l(t.reduce((e,t)=>t.end_time>e?t.end_time:e,t[0].end_time));return"".concat(a," to ").concat(r)}},u=(e,t)=>c(e,t).length>0,p=e=>{if(!e||!e.year||!e.month||!e.date)return"";let t=String(e.month).padStart(2,"0"),a=String(e.date).padStart(2,"0");return"".concat(e.year,"-").concat(t,"-").concat(a)},x=e=>{if(!e||!e.rawDaysData)return[];let t=[];return Object.entries(e.rawDaysData).forEach(e=>{let[a,r]=e;if(r&&r.length>0){let e=new Date(a).getDate();t.push(e)}}),t.sort((e,t)=>e-t)},h=e=>e&&Array.isArray(e)?e.map((e,t)=>({id:"".concat(e.start_time,"-").concat(e.end_time,"-").concat(t),time:l(e.start_time),start_at:e.start_at,end_at:e.end_at,start_time:e.start_time,end_time:e.end_time,formattedTime:"".concat(l(e.start_time)," - ").concat(l(e.end_time))})):[],g=function(e,t){let a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2025;if(!e||!e.rawDaysData||!t)return[];if("number"==typeof t){let e=r.toString().padStart(2,"0"),l=t.toString().padStart(2,"0");a="".concat(s,"-").concat(e,"-").concat(l)}else a=t;return h(e.rawDaysData[a]||[])},f=e=>{let t={virtual:{id:"virtual",label:"virtual",icon:"PiVideoCamera"},phone:{id:"phone",label:"phone",icon:"BiPhoneCall"},in_person:{id:"in_person",label:"in_person",icon:"BiUserPlus"}};return e?e.split(",").map(e=>t[e.trim()]).filter(Boolean):[]},v=e=>e&&e.month&&e.year&&["January","February","March","April","May","June","July","August","September","October","November","December"][e.month-1]||"September",y=e=>({availableDates:x(e),availableMeetingTypes:f(e.availability_types),currentMonth:v(e),currentYear:e.year||2025,currentMonthNumber:e.month||9,agentId:e.agent_id,timezone:e.timezone,agentTimezone:e.agent_timezone,rawDaysData:e.days||{}}),j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?[t("january"),t("february"),t("march"),t("april"),t("may"),t("june"),t("july"),t("august"),t("september"),t("october"),t("november"),t("december")][e-1]:["January","February","March","April","May","June","July","August","September","October","November","December"][e-1]}}}]);