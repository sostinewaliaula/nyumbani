"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2514],{85178:function(e,t){t.Z={src:"/_next/static/media/mapIcon.77aff832.svg",height:48,width:33,blurWidth:0,blurHeight:0}},57893:function(e,t,l){var i=l(85893),r=l(67294),s=l(8313),o=l(96041),a=l(50252),n=l(67296),d=l(86501),c=l(86455),u=l.n(c),p=l(38343),m=l(12515),y=l(55346),x=l(87076),v=l(63616),h=l(11163),g=l(45007),f=l(21101),b=l(5041);t.Z=e=>{var t,l,c,j,w;let{property:_,removeCard:C=null}=e,N=(0,s.m)(),S=(0,p.n)(),k=(0,h.useRouter)(),{locale:P}=null==k?void 0:k.query,Z=(0,g.v9)(e=>{var t;return null===(t=e.User)||void 0===t?void 0:t.data}),A=(null==_?void 0:_.added_by)==(null==Z?void 0:Z.id),[T,F]=(0,r.useState)(!!(null==_?void 0:_.is_favourite)),[R,E]=(0,r.useState)(!1),[I,M]=(0,r.useState)(!1),[B,L]=(0,r.useState)(!1),q=async e=>{if(null==e||e.preventDefault(),null==e||e.stopPropagation(),!R){if(!S){u().fire({title:N("plzLogFirst"),icon:"warning",allowOutsideClick:!0,showCancelButton:!1,customClass:{confirmButton:"Swal-confirm-buttons",cancelButton:"Swal-cancel-buttons"},confirmButtonText:N("ok")}).then(e=>{e.isConfirmed&&L(!0)});return}try{E(!0),F(!0),M(!1);let e=await (0,n.j_)({property_id:null==_?void 0:_.id,type:"1"});!1===e.error?d.ZP.success(N(e.message)):(F(!1),d.ZP.error(e.message))}catch(e){F(!1),console.error("Error adding to favorites:",e),d.ZP.error(N((null==e?void 0:e.message)||N("errorAddingToFavorites")))}finally{E(!1)}}},z=async e=>{if(null==e||e.preventDefault(),null==e||e.stopPropagation(),!R)try{E(!0),F(!1),M(!0);let e=await (0,n.j_)({property_id:null==_?void 0:_.id,type:"0"});!1===e.error?(d.ZP.success(N(e.message)),C&&C(null==_?void 0:_.id)):(F(!0),M(!1),d.ZP.error(e.message))}catch(e){F(!0),M(!1),console.error("Error removing from favorites:",e),d.ZP.error(N(null==e?void 0:e.message)||N("errorRemovingFromFavorites"))}finally{E(!1)}};(0,r.useEffect)(()=>{F(!!(null==_?void 0:_.is_favourite)),M(!1)},[null==_?void 0:_.is_favourite]);let D=e=>{e.preventDefault(),e.stopPropagation(),(null==_?void 0:_.is_premium)?(0,x.wo)(e,f.i.PREMIUM_PROPERTIES,k,null==_?void 0:_.slug_id,_,A,!1,N):A?null==k||k.push("/".concat(P,"/my-property/").concat(_.slug_id)):k.push("/".concat(P,"/property-details/").concat(_.slug_id))};return(0,i.jsxs)("div",{className:"w-full h-fit cardBg rounded-2xl newBorder",children:[(0,i.jsxs)("div",{className:"relative rounded-t-2xl",children:[(0,i.jsxs)(a.Z,{href:"".concat(A?"/my-property/".concat(null==_?void 0:_.slug_id):"/property-details/".concat(null==_?void 0:_.slug_id)),"aria-label":_.title,className:"rounded-t-2xl",onClick:D,tabIndex:-1,children:[(0,i.jsx)(o.Z,{src:_.title_image,alt:_.title,className:"h-56 w-full rounded-t-2xl object-cover",priority:!0}),(0,i.jsx)("div",{className:"absolute inset-0 bg-black opacity-0 rounded-t-2xl transition-opacity duration-300 ease-in-out group-hover:opacity-45"})]}),(0,i.jsxs)("div",{className:"absolute left-3 right-3 top-3 flex items-start justify-between",children:[_.promoted&&(0,i.jsxs)("span",{className:"flex items-center gap-1 rounded-[8px] bg-black bg-opacity-75 px-2 py-1 text-sm font-semibold text-white backdrop-blur-sm",children:[(0,i.jsx)("div",{className:"h-4 w-4",children:(0,v.i)()}),N("featured")]}),!_.promoted&&(0,i.jsx)("div",{}),(0,i.jsx)("button",{onClick:T?z:q,disabled:R,"aria-label":T?"Remove from favorites":"Add to favorites",className:"rounded-md bg-[#00000080] p-1.5 text-white backdrop-blur-sm transition-colors duration-200 hover:bg-[#00000090] ".concat(R?"cursor-not-allowed opacity-50":"hover:scale-110"),children:T?(0,i.jsx)(y.$0H,{className:"text-lg text-white"}):(0,i.jsx)(m.$aX,{className:"text-lg text-white"})})]}),(0,i.jsxs)("span",{className:"absolute bottom-3 left-3 flex items-center gap-1.5 rounded-md bg-white px-2.5 py-1 text-xs font-semibold text-gray-800 shadow",children:[(0,i.jsx)(b.Q,{src:null==_?void 0:null===(t=_.category)||void 0===t?void 0:t.image,beforeInjection:e=>{e.setAttribute("style","height: 100%; width: 100%;"),e.querySelectorAll("path").forEach(e=>{e.setAttribute("style","fill: var(--facilities-icon-color);")})},className:"w-5 h-5 flex items-center justify-center object-contain shrink-0",alt:(null==_?void 0:null===(l=_.category)||void 0===l?void 0:l.translated_name)||(null==_?void 0:null===(c=_.category)||void 0===c?void 0:c.name)||"category icon"}),(0,i.jsx)("span",{className:"line-clamp-1 text-sm font-bold leadColor",children:(null===(j=_.category)||void 0===j?void 0:j.translated_name)||(null===(w=_.category)||void 0===w?void 0:w.category)})]})]}),(0,i.jsx)("div",{className:"",children:(0,i.jsxs)("div",{className:"md:space-y-1.5",children:[(0,i.jsxs)("div",{className:"p-2 md:p-3 flex flex-col gap-1",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsx)("h3",{className:"font-semibold text-base text-gray-900 truncate pr-2",children:(null==_?void 0:_.translated_title)||(null==_?void 0:_.title)}),_.property_type&&(0,i.jsx)("span",{className:"rounded-md px-3 py-1 text-sm font-bold ".concat("sell"===_.property_type?"primarySellBg primarySellText":"primaryRentBg primaryRentText"),children:N(_.property_type)})]}),(0,i.jsx)("p",{className:"text-sm text-gray-500",itemProp:"addressLocality",children:"".concat((null==_?void 0:_.city)?(null==_?void 0:_.city)+", ":""," ").concat((null==_?void 0:_.state)?(null==_?void 0:_.state)+", ":""," ").concat((null==_?void 0:_.country)?null==_?void 0:_.country:"")})]}),(0,i.jsx)("hr",{className:"border-gray-100 border"}),(0,i.jsxs)("div",{className:"flex justify-between items-center pt-1 p-2 md:p-3",children:[(0,i.jsx)("span",{className:"text-lg font-bold text-black",itemProp:"price",content:null==_?void 0:_.price,children:(null==_?void 0:_.price)?(0,x.ze)(null==_?void 0:_.price.toString(),N):""}),(0,i.jsx)(a.Z,{href:"".concat(A?"/my-property/".concat(null==_?void 0:_.slug_id):"/property-details/".concat(null==_?void 0:_.slug_id)),title:(null==_?void 0:_.translated_title)||(null==_?void 0:_.title),onClick:D,children:(0,i.jsx)("div",{className:"border brandBorder rounded-md py-1.5 px-3 text-center text-sm brandColor hover:bg-gray-50 transition-colors",children:N("details")})})]})]})})]})}},31093:function(e,t,l){var i=l(85893),r=l(37054),s=l(57893);t.Z=e=>{let{containerStyle:t,defaultCenter:l,onLoad:o,onUnmount:a,isMapLoaded:n,selectedProperty:d,handleMarkerClick:c,handleInfoWindowClose:u,iconConfig:p,data:m,isInteractive:y}=e,x=Array.isArray(m)?m.filter(e=>e.latitude&&e.longitude):[];return(0,i.jsx)(r.b6,{mapContainerStyle:t,center:l,zoom:4,onLoad:o,onUnmount:a,onClick:u,options:{streetViewControl:!1,mapTypeControl:!1,gestureHandling:y?"auto":"none",zoomControl:y,scrollwheel:y,draggable:y,disableDoubleClickZoom:!y,fullscreenControl:!0,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]}]},children:n&&x.map(e=>{let t={lat:parseFloat(e.latitude),lng:parseFloat(e.longitude)};return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(r.Jx,{position:t,onClick:()=>c(e),icon:p,zIndex:(null==d?void 0:d.id)===e.id?1e3:1},e.id),(null==d?void 0:d.id)===e.id&&(0,i.jsx)(r.nx,{position:t,onCloseClick:u,options:{pixelOffset:n?new window.google.maps.Size(0,-45):void 0,maxWidth:320,disableAutoPan:!0,minHeight:400,borderRadius:"16px"},children:(0,i.jsx)("div",{className:"rounded-t-2xl p-0 m-0 gmaps-infowindow-content",children:(0,i.jsx)(s.Z,{property:d})})})]},e.id)})})}},32514:function(e,t,l){l.r(t),l.d(t,{default:function(){return g}});var i=l(85893),r=l(67294),s=l(11163),o=l(54772),a=l(8313),n=l(76670),d=l(31093),c=l(85178),u=l(45007),p=l(67296),m=l(87076),y=l(93766),x=l(57893),v=()=>{let e=(0,a.m)(),t=(0,s.useRouter)(),{locale:l}=(null==t?void 0:t.query)||{},v=(0,u.v9)(e=>{var t;return null===(t=e.WebSetting)||void 0===t?void 0:t.data}),h=(0,u.v9)(e=>{var t;return null===(t=e.LanguageSettings)||void 0===t?void 0:t.active_language}),[g,f]=(0,r.useState)(null),[b,j]=(0,r.useState)(null),[w,_]=(0,r.useState)(!1),[C,N]=(0,r.useState)([]),[S,k]=(0,r.useState)(!0),[P,Z]=(0,r.useState)(!1),[A,T]=(0,r.useState)("default"),[F,R]=(0,r.useState)(1),[E,I]=(0,r.useState)(!0),M=(0,r.useCallback)(()=>{let e=(null==t?void 0:t.query)||{};return{propertyType:e.property_type||"All",selectedCategory:parseInt(e.category_id)||"",keywords:e.keywords||"",city:e.city||"",state:e.state||"",country:e.country||"",minPrice:e.min_price||"",maxPrice:e.max_price||"",postedSince:e.posted_since||"anytime",amenities:e.amenities?e.amenities.split(",").map(e=>parseInt(e)).filter(e=>!isNaN(e)):[],showAdvancedFilters:"true"===e.show_advanced_filters}},[null==t?void 0:t.query]),[B,L]=(0,r.useState)("All"),[q,z]=(0,r.useState)(""),[D,O]=(0,r.useState)(""),[U,H]=(0,r.useState)(""),[W,$]=(0,r.useState)(""),[J,K]=(0,r.useState)(""),[Q,V]=(0,r.useState)(""),[X,G]=(0,r.useState)(""),[Y,ee]=(0,r.useState)("anytime"),[et,el]=(0,r.useState)([]),[ei,er]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(null==t?void 0:t.isReady){let e=M();L(e.propertyType),z(e.selectedCategory),O(e.keywords),H(e.city),$(e.state),K(e.country),V(e.minPrice),G(e.maxPrice),ee(e.postedSince),el(e.amenities),er(e.showAdvancedFilters)}},[null==t?void 0:t.isReady,M]);let es=(0,r.useMemo)(()=>({lat:Number(null==v?void 0:v.latitude)||23.2532,lng:Number(null==v?void 0:v.longitude)||69.6695}),[v]),eo=(0,r.useMemo)(()=>(null===c.Z||void 0===c.Z?void 0:c.Z.src)?{url:c.Z.src,scaledSize:{width:33,height:48,alt:"Map Icon"}}:null,[null===c.Z||void 0===c.Z?void 0:c.Z.src]),ea=e=>{f(e)},en=(0,r.useCallback)(e=>{j(e),_(!0)},[]),ed=(0,r.useCallback)(()=>{j(null),_(!1)},[]),ec=(0,r.useCallback)(e=>{var i,r;if(!(null==t?void 0:t.isReady))return;let s=new URLSearchParams;e.propertyType&&"all"!==e.propertyType&&s.set("property_type",e.propertyType),e.selectedCategory&&s.set("category_id",e.selectedCategory),e.keywords&&s.set("keywords",e.keywords),e.city&&s.set("city",e.city),e.state&&s.set("state",e.state),e.country&&s.set("country",e.country),e.minPrice&&s.set("min_price",e.minPrice),e.maxPrice&&s.set("max_price",e.maxPrice),e.postedSince&&"anytime"!==e.postedSince&&s.set("posted_since",e.postedSince),(null===(i=e.amenities)||void 0===i?void 0:i.length)>0&&s.set("amenities",e.amenities.join(",")),e.showAdvancedFilters&&s.set("show_advanced_filters","true");let o=s.toString(),a=(null==t?void 0:null===(r=t.asPath)||void 0===r?void 0:r.split("?")[0])||"/",n=o?"".concat(a,"?").concat(o):a;t.push({pathname:"/".concat(l,"/properties-on-map/"),query:o?Object.fromEntries(s.entries()):{}},n)},[t]),eu=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{t?Z(!0):(k(!0),e&&(R(1),I(!0)));let l={property_type:"sell"===B?"0":"rent"===B?"1":"",category_id:q,city:U||"",state:W||"",country:J||"",min_price:Q||"",max_price:X||"",posted_since:"anytime"!==Y?(0,m.os)(Y):"",parameter_id:(null==et?void 0:et.length)>0?et.join(","):"",search:D||"",latitude:"",longitude:""},i=await (0,p.DL)(e?{}:l);if(i.error)console.error("API returned an error:",i.error),N([]),I(!1);else{let l=(null==i?void 0:i.data)||[],r=t?F+1:e?1:F,s=(r-1)*6,o=s+6,a=l.slice(s,o),n=o<l.length;if(I(n),t)N(e=>[...e,...a]),R(r);else{let e=l.slice(0,6);N(e),R(1),I(6<l.length)}}}catch(e){console.error("Error fetching properties:",e),N([]),I(!1)}finally{k(!1),Z(!1)}};return(0,r.useEffect)(()=>{eu()},[h]),(0,i.jsxs)("div",{className:"min-h-screen",children:[(0,i.jsx)(o.Z,{title:e("propertiesOnMap"),items:[{href:"/properties-on-map",label:e("propertiesOnMap")}]}),(0,i.jsx)("div",{className:"shadow-[0px_36px_36px_3px_#ADB3B829]",children:(0,i.jsx)(n.Z,{propertyType:B,selectedCategory:q,keywords:D,city:U,state:W,country:J,minPrice:Q,maxPrice:X,postedSince:Y,amenities:et,showAdvancedFilters:ei,onPropertyTypeChange:e=>{L(e)},onCategoryChange:e=>{z(parseInt(e))},onKeywordsChange:e=>{O(e)},onCityChange:e=>{H(e)},onStateChange:e=>{$(e)},onCountryChange:e=>{K(e)},onMinPriceChange:e=>{V(e)},onMaxPriceChange:e=>{G(e)},onPostedSinceChange:e=>{ee(e)},onAmenitiesChange:e=>{el(e)},onShowAdvancedFiltersChange:e=>{er(e)},onApplyFilters:()=>{er(!1),R(1),I(!0),ec({propertyType:B,selectedCategory:q,keywords:D,city:U,state:W,country:J,minPrice:Q,maxPrice:X,postedSince:Y,amenities:et,showAdvancedFilters:!1}),eu()},onClearFilters:()=>{L("All"),z(""),O(""),H(""),$(""),K(""),V(""),G(""),ee("anytime"),el([]),er(!1),R(1),I(!0),t.push({pathname:"/".concat(l,"/properties-on-map/"),query:{}},"/".concat(l,"/properties-on-map/")),eu(!0)},className:"xl:!px-0"})}),(0,i.jsx)("div",{className:"",children:(0,i.jsxs)("div",{className:"flex flex-col gap-6 xl:flex-row",children:[(0,i.jsx)("div",{className:"h-[500px] xl:h-[1318px] w-full overflow-hidden !rounded-none border shadow-md xl:min-w-[52%] 2xl:min-w-[57%]",children:(0,i.jsx)(d.Z,{containerStyle:{width:"100%",height:"100%",borderRadius:"0.5rem"},defaultCenter:es,onLoad:en,onUnload:ed,isMapLoaded:w,selectedProperty:g,handleMarkerClick:ea,handleInfoWindowClose:()=>{f(null)},iconConfig:eo,data:C})}),(0,i.jsx)("div",{className:"container px-3 md:px-0 mt-10",children:(0,i.jsxs)("div",{className:"h-full w-full",children:[(0,i.jsx)("div",{className:"mb-4 flex items-center justify-between",children:(0,i.jsx)("h2",{className:"text-xl md:text-2xl font-semibold",children:e("propertylisting")})}),(0,i.jsxs)("div",{className:"md:max-h-[1260px] w-full xl:max-w-[620px] items-center justify-center md:justify-normal overflow-y-auto lg:mr-[50px] xl:mr-[140px]",children:[S?(0,i.jsx)("div",{className:"grid grid-cols-1 gap-4 xs:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-2",children:Array.from({length:4}).map((e,t)=>(0,i.jsx)(y.Fk,{},t))}):C.length>0?(0,i.jsx)("div",{className:"grid grid-cols-1 gap-4 xs:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-2",children:C.map((e,t)=>(0,i.jsx)("div",{className:"flex justify-center",onClick:()=>ea(e),children:(0,i.jsx)(x.Z,{property:e})},t))}):(0,i.jsx)("div",{className:"py-12 text-center",children:(0,i.jsx)("p",{className:"text-gray-500",children:e("noPropertiesFound")})}),!S&&C.length>0&&E&&(0,i.jsx)("div",{className:"flex justify-center py-3",children:(0,i.jsx)("button",{onClick:()=>{!P&&E&&eu(!1,!0)},disabled:P,className:"px-6 py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:e(P?"loading":"loadMore")})})]})]})})]})})]})},h=l(90456),g=()=>(0,i.jsx)(h.Z,{children:(0,i.jsx)(v,{})})}}]);